function kR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W_={exports:{}},yd={},H_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),NR=Symbol.for("react.portal"),DR=Symbol.for("react.fragment"),MR=Symbol.for("react.strict_mode"),VR=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),OR=Symbol.for("react.context"),LR=Symbol.for("react.forward_ref"),FR=Symbol.for("react.suspense"),BR=Symbol.for("react.memo"),UR=Symbol.for("react.lazy"),D0=Symbol.iterator;function zR(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K_=Object.assign,G_={};function Co(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||q_}Co.prototype.isReactComponent={};Co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q_(){}Q_.prototype=Co.prototype;function Qm(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||q_}var Ym=Qm.prototype=new Q_;Ym.constructor=Qm;K_(Ym,Co.prototype);Ym.isPureReactComponent=!0;var M0=Array.isArray,Y_=Object.prototype.hasOwnProperty,Xm={current:null},X_={key:!0,ref:!0,__self:!0,__source:!0};function J_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Y_.call(e,r)&&!X_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pl,type:t,key:s,ref:o,props:i,_owner:Xm.current}}function $R(t,e){return{$$typeof:Pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pl}function WR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V0=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WR(""+t.key):e.toString(36)}function $c(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pl:case NR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Uh(o,0):r,M0(i)?(n="",t!=null&&(n=t.replace(V0,"$&/")+"/"),$c(i,e,n,"",function(u){return u})):i!=null&&(Jm(i)&&(i=$R(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(V0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",M0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Uh(s,a);o+=$c(s,e,n,l,i)}else if(l=zR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Uh(s,a++),o+=$c(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],i=0;return $c(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},Wc={transition:null},qR={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Xm};function Z_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!Jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Co;he.Fragment=DR;he.Profiler=VR;he.PureComponent=Qm;he.StrictMode=MR;he.Suspense=FR;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;he.act=Z_;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Y_.call(e,l)&&!X_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pl,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:OR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jR,_context:t},t.Consumer=t};he.createElement=J_;he.createFactory=function(t){var e=J_.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:LR,render:t}};he.isValidElement=Jm;he.lazy=function(t){return{$$typeof:UR,_payload:{_status:-1,_result:t},_init:HR}};he.memo=function(t,e){return{$$typeof:BR,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};he.unstable_act=Z_;he.useCallback=function(t,e){return Wt.current.useCallback(t,e)};he.useContext=function(t){return Wt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Wt.current.useEffect(t,e)};he.useId=function(){return Wt.current.useId()};he.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Wt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};he.useRef=function(t){return Wt.current.useRef(t)};he.useState=function(t){return Wt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Wt.current.useTransition()};he.version="18.3.1";H_.exports=he;var y=H_.exports;const Br=$_(y),eE=kR({__proto__:null,default:Br},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR=y,GR=Symbol.for("react.element"),QR=Symbol.for("react.fragment"),YR=Object.prototype.hasOwnProperty,XR=KR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JR={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YR.call(e,r)&&!JR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GR,type:t,key:s,ref:o,props:i,_owner:XR.current}}yd.Fragment=QR;yd.jsx=tE;yd.jsxs=tE;W_.exports=yd;var f=W_.exports,nE={exports:{}},mn={},rE={exports:{}},iE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var q=O.length;O.push(z);e:for(;0<q;){var ie=q-1>>>1,me=O[ie];if(0<i(me,z))O[ie]=z,O[q]=me,q=ie;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],q=O.pop();if(q!==z){O[0]=q;e:for(var ie=0,me=O.length,Ie=me>>>1;ie<Ie;){var nt=2*(ie+1)-1,rt=O[nt],lt=nt+1,Z=O[lt];if(0>i(rt,q))lt<me&&0>i(Z,rt)?(O[ie]=Z,O[lt]=q,ie=lt):(O[ie]=rt,O[nt]=q,ie=nt);else if(lt<me&&0>i(Z,q))O[ie]=Z,O[lt]=q,ie=lt;else break e}}return z}function i(O,z){var q=O.sortIndex-z.sortIndex;return q!==0?q:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,E=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function R(O){if(v=!1,C(O),!E)if(n(l)!==null)E=!0,J(N);else{var z=n(u);z!==null&&Q(R,z.startTime-O)}}function N(O,z){E=!1,v&&(v=!1,w(S),S=-1),g=!0;var q=p;try{for(C(z),h=n(l);h!==null&&(!(h.expirationTime>z)||O&&!D());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var me=ie(h.expirationTime<=z);z=t.unstable_now(),typeof me=="function"?h.callback=me:h===n(l)&&r(l),C(z)}else r(l);h=n(l)}if(h!==null)var Ie=!0;else{var nt=n(u);nt!==null&&Q(R,nt.startTime-z),Ie=!1}return Ie}finally{h=null,p=q,g=!1}}var V=!1,I=null,S=-1,b=5,P=-1;function D(){return!(t.unstable_now()-P<b)}function M(){if(I!==null){var O=t.unstable_now();P=O;var z=!0;try{z=I(!0,O)}finally{z?k():(V=!1,I=null)}}else V=!1}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ue=X.port2;X.port1.onmessage=M,k=function(){ue.postMessage(null)}}else k=function(){T(M,0)};function J(O){I=O,V||(V=!0,k())}function Q(O,z){S=T(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,J(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var q=p;p=z;try{return O()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=p;p=O;try{return z()}finally{p=q}},t.unstable_scheduleCallback=function(O,z,q){var ie=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,O){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=q+me,O={id:d++,callback:z,priorityLevel:O,startTime:q,expirationTime:me,sortIndex:-1},q>ie?(O.sortIndex=q,e(u,O),n(l)===null&&O===n(u)&&(v?(w(S),S=-1):v=!0,Q(R,q-ie))):(O.sortIndex=me,e(l,O),E||g||(E=!0,J(N))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var z=p;return function(){var q=p;p=z;try{return O.apply(this,arguments)}finally{p=q}}}})(iE);rE.exports=iE;var ZR=rE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek=y,fn=ZR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sE=new Set,Ka={};function ds(t,e){so(t,e),so(t+"Capture",e)}function so(t,e){for(Ka[t]=e,t=0;t<e.length;t++)sE.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,tk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0={},O0={};function nk(t){return Yf.call(O0,t)?!0:Yf.call(j0,t)?!1:tk.test(t)?O0[t]=!0:(j0[t]=!0,!1)}function rk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ik(t,e,n,r){if(e===null||typeof e>"u"||rk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zm=/[\-:]([a-z])/g;function eg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zm,eg);Tt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zm,eg);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zm,eg);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function tg(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ik(e,n,i,r)&&(n=null),r||i===null?nk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),oE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),lE=Symbol.for("react.offscreen"),L0=Symbol.iterator;function ra(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,zh;function ya(t){if(zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zh=e&&e[1]||""}return`
`+zh+t}var $h=!1;function Wh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ya(t):""}function sk(t){switch(t.tag){case 5:return ya(t.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 2:case 15:return t=Wh(t.type,!1),t;case 11:return t=Wh(t.type.render,!1),t;case 1:return t=Wh(t.type,!0),t;default:return""}}function ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case ks:return"Portal";case Xf:return"Profiler";case ng:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aE:return(t.displayName||"Context")+".Consumer";case oE:return(t._context.displayName||"Context")+".Provider";case rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ig:return e=t.displayName||null,e!==null?e:ep(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return ep(t(e))}catch{}}return null}function ok(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ep(e);case 8:return e===ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ak(t){var e=cE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=ak(t))}function uE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tp(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function F0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dE(t,e){e=e.checked,e!=null&&tg(t,"checked",e,!1)}function np(t,e){dE(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&rp(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rp(t,e,n){(e!=="number"||mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var va=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(va(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function hE(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function z0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,pE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lk=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){lk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function mE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function gE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ck=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function op(t,e){if(e){if(ck[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=null;function sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,Qs=null,Ys=null;function $0(t){if(t=Nl(t)){if(typeof cp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ed(e),cp(t.stateNode,t.type,e))}}function yE(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function vE(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,$0(t),e)for(t=0;t<e.length;t++)$0(e[t])}}function wE(t,e){return t(e)}function xE(){}var Hh=!1;function _E(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return wE(t,e,n)}finally{Hh=!1,(Qs!==null||Ys!==null)&&(xE(),vE())}}function Qa(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var up=!1;if(xr)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){up=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{up=!1}function uk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ra=!1,gu=null,yu=!1,dp=null,dk={onError:function(t){Ra=!0,gu=t}};function hk(t,e,n,r,i,s,o,a,l){Ra=!1,gu=null,uk.apply(dk,arguments)}function fk(t,e,n,r,i,s,o,a,l){if(hk.apply(this,arguments),Ra){if(Ra){var u=gu;Ra=!1,gu=null}else throw Error(U(198));yu||(yu=!0,dp=u)}}function hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W0(t){if(hs(t)!==t)throw Error(U(188))}function pk(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return W0(i),t;if(s===r)return W0(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function TE(t){return t=pk(t),t!==null?SE(t):null}function SE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SE(t);if(e!==null)return e;t=t.sibling}return null}var CE=fn.unstable_scheduleCallback,H0=fn.unstable_cancelCallback,mk=fn.unstable_shouldYield,gk=fn.unstable_requestPaint,tt=fn.unstable_now,yk=fn.unstable_getCurrentPriorityLevel,og=fn.unstable_ImmediatePriority,IE=fn.unstable_UserBlockingPriority,vu=fn.unstable_NormalPriority,vk=fn.unstable_LowPriority,bE=fn.unstable_IdlePriority,vd=null,Jn=null;function wk(t){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:Ek,xk=Math.log,_k=Math.LN2;function Ek(t){return t>>>=0,t===0?32:31-(xk(t)/_k|0)|0}var gc=64,yc=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wa(a):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function Tk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Tk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AE(){var t=gc;return gc<<=1,!(gc&4194240)&&(gc=64),t}function qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function Ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ag(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function PE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RE,lg,kE,NE,DE,fp=!1,vc=[],Xr=null,Jr=null,Zr=null,Ya=new Map,Xa=new Map,Hr=[],Ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(e.pointerId)}}function sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nl(e),e!==null&&lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bk(t,e,n,r,i){switch(e){case"focusin":return Xr=sa(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=sa(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=sa(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ya.set(s,sa(Ya.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xa.set(s,sa(Xa.get(s)||null,t,e,n,r,i)),!0}return!1}function ME(t){var e=Bi(t.target);if(e!==null){var n=hs(e);if(n!==null){if(e=n.tag,e===13){if(e=EE(n),e!==null){t.blockedOn=e,DE(t.priority,function(){kE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lp=r,n.target.dispatchEvent(r),lp=null}else return e=Nl(n),e!==null&&lg(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){Hc(t)&&n.delete(e)}function Ak(){fp=!1,Xr!==null&&Hc(Xr)&&(Xr=null),Jr!==null&&Hc(Jr)&&(Jr=null),Zr!==null&&Hc(Zr)&&(Zr=null),Ya.forEach(K0),Xa.forEach(K0)}function oa(t,e){t.blockedOn===e&&(t.blockedOn=null,fp||(fp=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,Ak)))}function Ja(t){function e(i){return oa(i,t)}if(0<vc.length){oa(vc[0],t);for(var n=1;n<vc.length;n++){var r=vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&oa(Xr,t),Jr!==null&&oa(Jr,t),Zr!==null&&oa(Zr,t),Ya.forEach(e),Xa.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&Hr.shift()}var Xs=Nr.ReactCurrentBatchConfig,xu=!0;function Pk(t,e,n,r){var i=Pe,s=Xs.transition;Xs.transition=null;try{Pe=1,cg(t,e,n,r)}finally{Pe=i,Xs.transition=s}}function Rk(t,e,n,r){var i=Pe,s=Xs.transition;Xs.transition=null;try{Pe=4,cg(t,e,n,r)}finally{Pe=i,Xs.transition=s}}function cg(t,e,n,r){if(xu){var i=pp(t,e,n,r);if(i===null)nf(t,e,r,_u,n),q0(t,r);else if(bk(i,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<Ik.indexOf(t)){for(;i!==null;){var s=Nl(i);if(s!==null&&RE(s),s=pp(t,e,n,r),s===null&&nf(t,e,r,_u,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nf(t,e,r,null,n)}}var _u=null;function pp(t,e,n,r){if(_u=null,t=sg(r),t=Bi(t),t!==null)if(e=hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _u=t,null}function VE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yk()){case og:return 1;case IE:return 4;case vu:case vk:return 16;case bE:return 536870912;default:return 16}default:return 16}}var Kr=null,ug=null,qc=null;function jE(){if(qc)return qc;var t,e=ug,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qc=i.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wc(){return!0}function G0(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wc:G0,this.isPropagationStopped=G0,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),e}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=gn(Io),kl=qe({},Io,{view:0,detail:0}),kk=gn(kl),Kh,Gh,aa,wd=qe({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(Kh=t.screenX-aa.screenX,Gh=t.screenY-aa.screenY):Gh=Kh=0,aa=t),Kh)},movementY:function(t){return"movementY"in t?t.movementY:Gh}}),Q0=gn(wd),Nk=qe({},wd,{dataTransfer:0}),Dk=gn(Nk),Mk=qe({},kl,{relatedTarget:0}),Qh=gn(Mk),Vk=qe({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),jk=gn(Vk),Ok=qe({},Io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lk=gn(Ok),Fk=qe({},Io,{data:0}),Y0=gn(Fk),Bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zk[t])?!!e[t]:!1}function hg(){return $k}var Wk=qe({},kl,{key:function(t){if(t.key){var e=Bk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hg,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hk=gn(Wk),qk=qe({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=gn(qk),Kk=qe({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hg}),Gk=gn(Kk),Qk=qe({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yk=gn(Qk),Xk=qe({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=gn(Xk),Zk=[9,13,27,32],fg=xr&&"CompositionEvent"in window,ka=null;xr&&"documentMode"in document&&(ka=document.documentMode);var e2=xr&&"TextEvent"in window&&!ka,OE=xr&&(!fg||ka&&8<ka&&11>=ka),J0=" ",Z0=!1;function LE(t,e){switch(t){case"keyup":return Zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function t2(t,e){switch(t){case"compositionend":return FE(e);case"keypress":return e.which!==32?null:(Z0=!0,J0);case"textInput":return t=e.data,t===J0&&Z0?null:t;default:return null}}function n2(t,e){if(Ds)return t==="compositionend"||!fg&&LE(t,e)?(t=jE(),qc=ug=Kr=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OE&&e.locale!=="ko"?null:e.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r2[t.type]:e==="textarea"}function BE(t,e,n,r){yE(r),e=Eu(e,"onChange"),0<e.length&&(n=new dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Na=null,Za=null;function i2(t){XE(t,0)}function xd(t){var e=js(t);if(uE(e))return t}function s2(t,e){if(t==="change")return e}var UE=!1;if(xr){var Yh;if(xr){var Xh="oninput"in document;if(!Xh){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),Xh=typeof tw.oninput=="function"}Yh=Xh}else Yh=!1;UE=Yh&&(!document.documentMode||9<document.documentMode)}function nw(){Na&&(Na.detachEvent("onpropertychange",zE),Za=Na=null)}function zE(t){if(t.propertyName==="value"&&xd(Za)){var e=[];BE(e,Za,t,sg(t)),_E(i2,e)}}function o2(t,e,n){t==="focusin"?(nw(),Na=e,Za=n,Na.attachEvent("onpropertychange",zE)):t==="focusout"&&nw()}function a2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(Za)}function l2(t,e){if(t==="click")return xd(e)}function c2(t,e){if(t==="input"||t==="change")return xd(e)}function u2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:u2;function el(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yf.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iw(t,e){var n=rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function $E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WE(){for(var t=window,e=mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mu(t.document)}return e}function pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d2(t){var e=WE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$E(n.ownerDocument.documentElement,n)){if(r!==null&&pg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iw(n,s);var o=iw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h2=xr&&"documentMode"in document&&11>=document.documentMode,Ms=null,mp=null,Da=null,gp=!1;function sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||Ms==null||Ms!==mu(r)||(r=Ms,"selectionStart"in r&&pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&el(Da,r)||(Da=r,r=Eu(mp,"onSelect"),0<r.length&&(e=new dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ms)))}function xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Jh={},HE={};xr&&(HE=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function _d(t){if(Jh[t])return Jh[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HE)return Jh[t]=e[n];return t}var qE=_d("animationend"),KE=_d("animationiteration"),GE=_d("animationstart"),QE=_d("transitionend"),YE=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){YE.set(t,e),ds(e,[t])}for(var Zh=0;Zh<ow.length;Zh++){var ef=ow[Zh],f2=ef.toLowerCase(),p2=ef[0].toUpperCase()+ef.slice(1);Ei(f2,"on"+p2)}Ei(qE,"onAnimationEnd");Ei(KE,"onAnimationIteration");Ei(GE,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(QE,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function aw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fk(r,e,void 0,t),t.currentTarget=null}function XE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aw(i,a,u),s=l}}}if(yu)throw t=dp,yu=!1,dp=null,t}function Le(t,e){var n=e[_p];n===void 0&&(n=e[_p]=new Set);var r=t+"__bubble";n.has(r)||(JE(e,t,2,!1),n.add(r))}function tf(t,e,n){var r=0;e&&(r|=4),JE(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[_c]){t[_c]=!0,sE.forEach(function(n){n!=="selectionchange"&&(m2.has(n)||tf(n,!1,t),tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,tf("selectionchange",!1,e))}}function JE(t,e,n,r){switch(VE(e)){case 1:var i=Pk;break;case 4:i=Rk;break;default:i=cg}n=i.bind(null,e,n,t),i=void 0,!up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_E(function(){var u=s,d=sg(n),h=[];e:{var p=YE.get(t);if(p!==void 0){var g=dg,E=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":g=Hk;break;case"focusin":E="focus",g=Qh;break;case"focusout":E="blur",g=Qh;break;case"beforeblur":case"afterblur":g=Qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Gk;break;case qE:case KE:case GE:g=jk;break;case QE:g=Yk;break;case"scroll":g=kk;break;case"wheel":g=Jk;break;case"copy":case"cut":case"paste":g=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=X0}var v=(e&4)!==0,T=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var _=u,C;_!==null;){C=_;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,w!==null&&(R=Qa(_,w),R!=null&&v.push(nl(_,R,C)))),T)break;_=_.return}0<v.length&&(p=new g(p,E,null,n,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==lp&&(E=n.relatedTarget||n.fromElement)&&(Bi(E)||E[_r]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?Bi(E):null,E!==null&&(T=hs(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(v=Q0,R="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=X0,R="onPointerLeave",w="onPointerEnter",_="pointer"),T=g==null?p:js(g),C=E==null?p:js(E),p=new v(R,_+"leave",g,n,d),p.target=T,p.relatedTarget=C,R=null,Bi(d)===u&&(v=new v(w,_+"enter",E,n,d),v.target=C,v.relatedTarget=T,R=v),T=R,g&&E)t:{for(v=g,w=E,_=0,C=v;C;C=Ts(C))_++;for(C=0,R=w;R;R=Ts(R))C++;for(;0<_-C;)v=Ts(v),_--;for(;0<C-_;)w=Ts(w),C--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=Ts(v),w=Ts(w)}v=null}else v=null;g!==null&&lw(h,p,g,v,!1),E!==null&&T!==null&&lw(h,T,E,v,!0)}}e:{if(p=u?js(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=s2;else if(ew(p))if(UE)N=c2;else{N=a2;var V=o2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=l2);if(N&&(N=N(t,u))){BE(h,N,n,d);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&rp(p,"number",p.value)}switch(V=u?js(u):window,t){case"focusin":(ew(V)||V.contentEditable==="true")&&(Ms=V,mp=u,Da=null);break;case"focusout":Da=mp=Ms=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,sw(h,n,d);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":sw(h,n,d)}var I;if(fg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ds?LE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(OE&&n.locale!=="ko"&&(Ds||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ds&&(I=jE()):(Kr=d,ug="value"in Kr?Kr.value:Kr.textContent,Ds=!0)),V=Eu(u,S),0<V.length&&(S=new Y0(S,t,null,n,d),h.push({event:S,listeners:V}),I?S.data=I:(I=FE(n),I!==null&&(S.data=I)))),(I=e2?t2(t,n):n2(t,n))&&(u=Eu(u,"onBeforeInput"),0<u.length&&(d=new Y0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}XE(h,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qa(t,n),s!=null&&r.unshift(nl(t,s,i)),s=Qa(t,e),s!=null&&r.push(nl(t,s,i))),t=t.return}return r}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qa(n,s),l!=null&&o.unshift(nl(n,l,a))):i||(l=Qa(n,s),l!=null&&o.push(nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function cw(t){return(typeof t=="string"?t:""+t).replace(g2,`
`).replace(y2,"")}function Ec(t,e,n){if(e=cw(e),cw(t)!==e&&n)throw Error(U(425))}function Tu(){}var yp=null,vp=null;function wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(x2)}:xp;function x2(t){setTimeout(function(){throw t})}function rf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ja(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+bo,rl="__reactProps$"+bo,_r="__reactContainer$"+bo,_p="__reactEvents$"+bo,_2="__reactListeners$"+bo,E2="__reactHandles$"+bo;function Bi(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dw(t);t!==null;){if(n=t[Yn])return n;t=dw(t)}return e}t=n,n=t.parentNode}return null}function Nl(t){return t=t[Yn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ed(t){return t[rl]||null}var Ep=[],Os=-1;function Ti(t){return{current:t}}function Be(t){0>Os||(t.current=Ep[Os],Ep[Os]=null,Os--)}function Me(t,e){Os++,Ep[Os]=t.current,t.current=e}var hi={},Ot=Ti(hi),Yt=Ti(!1),Yi=hi;function oo(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xt(t){return t=t.childContextTypes,t!=null}function Su(){Be(Yt),Be(Ot)}function hw(t,e,n){if(Ot.current!==hi)throw Error(U(168));Me(Ot,e),Me(Yt,n)}function ZE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,ok(t)||"Unknown",i));return qe({},n,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Yi=Ot.current,Me(Ot,t),Me(Yt,Yt.current),!0}function fw(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=ZE(t,e,Yi),r.__reactInternalMemoizedMergedChildContext=t,Be(Yt),Be(Ot),Me(Ot,t)):Be(Yt),Me(Yt,n)}var fr=null,Td=!1,sf=!1;function eT(t){fr===null?fr=[t]:fr.push(t)}function T2(t){Td=!0,eT(t)}function Si(){if(!sf&&fr!==null){sf=!0;var t=0,e=Pe;try{var n=fr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Td=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),CE(og,Si),i}finally{Pe=e,sf=!1}}return null}var Ls=[],Fs=0,Iu=null,bu=0,_n=[],En=0,Xi=null,pr=1,mr="";function Mi(t,e){Ls[Fs++]=bu,Ls[Fs++]=Iu,Iu=t,bu=e}function tT(t,e,n){_n[En++]=pr,_n[En++]=mr,_n[En++]=Xi,Xi=t;var r=pr;t=mr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-Ln(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function mg(t){t.return!==null&&(Mi(t,1),tT(t,1,0))}function gg(t){for(;t===Iu;)Iu=Ls[--Fs],Ls[Fs]=null,bu=Ls[--Fs],Ls[Fs]=null;for(;t===Xi;)Xi=_n[--En],_n[En]=null,mr=_n[--En],_n[En]=null,pr=_n[--En],_n[En]=null}var un=null,ln=null,ze=!1,jn=null;function nT(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,ln=null,!0):!1;default:return!1}}function Tp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sp(t){if(ze){var e=ln;if(e){var n=e;if(!pw(t,e)){if(Tp(t))throw Error(U(418));e=ei(n.nextSibling);var r=un;e&&pw(t,e)?nT(r,n):(t.flags=t.flags&-4097|2,ze=!1,un=t)}}else{if(Tp(t))throw Error(U(418));t.flags=t.flags&-4097|2,ze=!1,un=t}}}function mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Tc(t){if(t!==un)return!1;if(!ze)return mw(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wp(t.type,t.memoizedProps)),e&&(e=ln)){if(Tp(t))throw rT(),Error(U(418));for(;e;)nT(t,e),e=ei(e.nextSibling)}if(mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?ei(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=ln;t;)t=ei(t.nextSibling)}function ao(){ln=un=null,ze=!1}function yg(t){jn===null?jn=[t]:jn.push(t)}var S2=Nr.ReactCurrentBatchConfig;function la(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Sc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gw(t){var e=t._init;return e(t._payload)}function iT(t){function e(w,_){if(t){var C=w.deletions;C===null?(w.deletions=[_],w.flags|=16):C.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=ii(w,_),w.index=0,w.sibling=null,w}function s(w,_,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<_?(w.flags|=2,_):C):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,C,R){return _===null||_.tag!==6?(_=hf(C,w.mode,R),_.return=w,_):(_=i(_,C),_.return=w,_)}function l(w,_,C,R){var N=C.type;return N===Ns?d(w,_,C.props.children,R,C.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$r&&gw(N)===_.type)?(R=i(_,C.props),R.ref=la(w,_,C),R.return=w,R):(R=eu(C.type,C.key,C.props,null,w.mode,R),R.ref=la(w,_,C),R.return=w,R)}function u(w,_,C,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=ff(C,w.mode,R),_.return=w,_):(_=i(_,C.children||[]),_.return=w,_)}function d(w,_,C,R,N){return _===null||_.tag!==7?(_=Ki(C,w.mode,R,N),_.return=w,_):(_=i(_,C),_.return=w,_)}function h(w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=hf(""+_,w.mode,C),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fc:return C=eu(_.type,_.key,_.props,null,w.mode,C),C.ref=la(w,null,_),C.return=w,C;case ks:return _=ff(_,w.mode,C),_.return=w,_;case $r:var R=_._init;return h(w,R(_._payload),C)}if(va(_)||ra(_))return _=Ki(_,w.mode,C,null),_.return=w,_;Sc(w,_)}return null}function p(w,_,C,R){var N=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return N!==null?null:a(w,_,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:return C.key===N?l(w,_,C,R):null;case ks:return C.key===N?u(w,_,C,R):null;case $r:return N=C._init,p(w,_,N(C._payload),R)}if(va(C)||ra(C))return N!==null?null:d(w,_,C,R,null);Sc(w,C)}return null}function g(w,_,C,R,N){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(C)||null,a(_,w,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case fc:return w=w.get(R.key===null?C:R.key)||null,l(_,w,R,N);case ks:return w=w.get(R.key===null?C:R.key)||null,u(_,w,R,N);case $r:var V=R._init;return g(w,_,C,V(R._payload),N)}if(va(R)||ra(R))return w=w.get(C)||null,d(_,w,R,N,null);Sc(_,R)}return null}function E(w,_,C,R){for(var N=null,V=null,I=_,S=_=0,b=null;I!==null&&S<C.length;S++){I.index>S?(b=I,I=null):b=I.sibling;var P=p(w,I,C[S],R);if(P===null){I===null&&(I=b);break}t&&I&&P.alternate===null&&e(w,I),_=s(P,_,S),V===null?N=P:V.sibling=P,V=P,I=b}if(S===C.length)return n(w,I),ze&&Mi(w,S),N;if(I===null){for(;S<C.length;S++)I=h(w,C[S],R),I!==null&&(_=s(I,_,S),V===null?N=I:V.sibling=I,V=I);return ze&&Mi(w,S),N}for(I=r(w,I);S<C.length;S++)b=g(I,w,S,C[S],R),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?S:b.key),_=s(b,_,S),V===null?N=b:V.sibling=b,V=b);return t&&I.forEach(function(D){return e(w,D)}),ze&&Mi(w,S),N}function v(w,_,C,R){var N=ra(C);if(typeof N!="function")throw Error(U(150));if(C=N.call(C),C==null)throw Error(U(151));for(var V=N=null,I=_,S=_=0,b=null,P=C.next();I!==null&&!P.done;S++,P=C.next()){I.index>S?(b=I,I=null):b=I.sibling;var D=p(w,I,P.value,R);if(D===null){I===null&&(I=b);break}t&&I&&D.alternate===null&&e(w,I),_=s(D,_,S),V===null?N=D:V.sibling=D,V=D,I=b}if(P.done)return n(w,I),ze&&Mi(w,S),N;if(I===null){for(;!P.done;S++,P=C.next())P=h(w,P.value,R),P!==null&&(_=s(P,_,S),V===null?N=P:V.sibling=P,V=P);return ze&&Mi(w,S),N}for(I=r(w,I);!P.done;S++,P=C.next())P=g(I,w,S,P.value,R),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),_=s(P,_,S),V===null?N=P:V.sibling=P,V=P);return t&&I.forEach(function(M){return e(w,M)}),ze&&Mi(w,S),N}function T(w,_,C,R){if(typeof C=="object"&&C!==null&&C.type===Ns&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:e:{for(var N=C.key,V=_;V!==null;){if(V.key===N){if(N=C.type,N===Ns){if(V.tag===7){n(w,V.sibling),_=i(V,C.props.children),_.return=w,w=_;break e}}else if(V.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$r&&gw(N)===V.type){n(w,V.sibling),_=i(V,C.props),_.ref=la(w,V,C),_.return=w,w=_;break e}n(w,V);break}else e(w,V);V=V.sibling}C.type===Ns?(_=Ki(C.props.children,w.mode,R,C.key),_.return=w,w=_):(R=eu(C.type,C.key,C.props,null,w.mode,R),R.ref=la(w,_,C),R.return=w,w=R)}return o(w);case ks:e:{for(V=C.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(w,_.sibling),_=i(_,C.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=ff(C,w.mode,R),_.return=w,w=_}return o(w);case $r:return V=C._init,T(w,_,V(C._payload),R)}if(va(C))return E(w,_,C,R);if(ra(C))return v(w,_,C,R);Sc(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,C),_.return=w,w=_):(n(w,_),_=hf(C,w.mode,R),_.return=w,w=_),o(w)):n(w,_)}return T}var lo=iT(!0),sT=iT(!1),Au=Ti(null),Pu=null,Bs=null,vg=null;function wg(){vg=Bs=Pu=null}function xg(t){var e=Au.current;Be(Au),t._currentValue=e}function Cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Pu=t,vg=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(vg!==t)if(t={context:t,memoizedValue:e,next:null},Bs===null){if(Pu===null)throw Error(U(308));Bs=t,Pu.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return e}var Ui=null;function _g(t){Ui===null?Ui=[t]:Ui.push(t)}function oT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_g(e)):(n.next=i.next,i.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Er(t,n)}return i=r.interleaved,i===null?(e.next=e,_g(r)):(e.next=i.next,i.next=e),r.interleaved=e,Er(t,n)}function Gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}function yw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ru(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(p=e,g=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){h=E.call(g,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,p=typeof E=="function"?E.call(g,h,p):E,p==null)break e;h=qe({},h,p);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=h}}function vw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Dl={},Zn=Ti(Dl),il=Ti(Dl),sl=Ti(Dl);function zi(t){if(t===Dl)throw Error(U(174));return t}function Tg(t,e){switch(Me(sl,e),Me(il,t),Me(Zn,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sp(e,t)}Be(Zn),Me(Zn,e)}function co(){Be(Zn),Be(il),Be(sl)}function lT(t){zi(sl.current);var e=zi(Zn.current),n=sp(e,t.type);e!==n&&(Me(il,t),Me(Zn,n))}function Sg(t){il.current===t&&(Be(Zn),Be(il))}var $e=Ti(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var of=[];function Cg(){for(var t=0;t<of.length;t++)of[t]._workInProgressVersionPrimary=null;of.length=0}var Qc=Nr.ReactCurrentDispatcher,af=Nr.ReactCurrentBatchConfig,Ji=0,He=null,ut=null,ft=null,Nu=!1,Ma=!1,ol=0,C2=0;function At(){throw Error(U(321))}function Ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function bg(t,e,n,r,i,s){if(Ji=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qc.current=t===null||t.memoizedState===null?P2:R2,t=n(r,i),Ma){s=0;do{if(Ma=!1,ol=0,25<=s)throw Error(U(301));s+=1,ft=ut=null,e.updateQueue=null,Qc.current=k2,t=n(r,i)}while(Ma)}if(Qc.current=Du,e=ut!==null&&ut.next!==null,Ji=0,ft=ut=He=null,Nu=!1,e)throw Error(U(300));return t}function Ag(){var t=ol!==0;return ol=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?He.memoizedState=ft=t:ft=ft.next=t,ft}function Pn(){if(ut===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=ft===null?He.memoizedState:ft.next;if(e!==null)ft=e,ut=t;else{if(t===null)throw Error(U(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?He.memoizedState=ft=t:ft=ft.next=t}return ft}function al(t,e){return typeof e=="function"?e(t):e}function lf(t){var e=Pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ji&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,He.lanes|=d,Zi|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Bn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,Zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cf(t){var e=Pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cT(){}function uT(t,e){var n=He,r=Pn(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Pg(fT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,ll(9,hT.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(U(349));Ji&30||dT(n,e,i)}return i}function dT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hT(t,e,n,r){e.value=n,e.getSnapshot=r,pT(e)&&mT(t)}function fT(t,e,n){return n(function(){pT(e)&&mT(t)})}function pT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function mT(t){var e=Er(t,1);e!==null&&Fn(e,t,1,-1)}function ww(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=A2.bind(null,He,t),[e.memoizedState,t]}function ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gT(){return Pn().memoizedState}function Yc(t,e,n,r){var i=Qn();He.flags|=t,i.memoizedState=ll(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&Ig(r,o.deps)){i.memoizedState=ll(e,n,s,r);return}}He.flags|=t,i.memoizedState=ll(1|e,n,s,r)}function xw(t,e){return Yc(8390656,8,t,e)}function Pg(t,e){return Sd(2048,8,t,e)}function yT(t,e){return Sd(4,2,t,e)}function vT(t,e){return Sd(4,4,t,e)}function wT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xT(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,wT.bind(null,e,t),n)}function Rg(){}function _T(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ET(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TT(t,e,n){return Ji&21?(Bn(n,e)||(n=AE(),He.lanes|=n,Zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function I2(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=af.transition;af.transition={};try{t(!1),e()}finally{Pe=n,af.transition=r}}function ST(){return Pn().memoizedState}function b2(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CT(t))IT(e,n);else if(n=oT(t,e,n,r),n!==null){var i=zt();Fn(n,t,r,i),bT(n,e,r)}}function A2(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CT(t))IT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(i.next=i,_g(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oT(t,e,i,r),n!==null&&(i=zt(),Fn(n,t,r,i),bT(n,e,r))}}function CT(t){var e=t.alternate;return t===He||e!==null&&e===He}function IT(t,e){Ma=Nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}var Du={readContext:An,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},P2={readContext:An,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:xw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4194308,4,wT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yc(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b2.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:Rg,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=I2.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Qn();if(ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),pt===null)throw Error(U(349));Ji&30||dT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xw(fT.bind(null,r,s,t),[t]),r.flags|=2048,ll(9,hT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Qn(),e=pt.identifierPrefix;if(ze){var n=mr,r=pr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R2={readContext:An,useCallback:_T,useContext:An,useEffect:Pg,useImperativeHandle:xT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:ET,useReducer:lf,useRef:gT,useState:function(){return lf(al)},useDebugValue:Rg,useDeferredValue:function(t){var e=Pn();return TT(e,ut.memoizedState,t)},useTransition:function(){var t=lf(al)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:cT,useSyncExternalStore:uT,useId:ST,unstable_isNewReconciler:!1},k2={readContext:An,useCallback:_T,useContext:An,useEffect:Pg,useImperativeHandle:xT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:ET,useReducer:cf,useRef:gT,useState:function(){return cf(al)},useDebugValue:Rg,useDeferredValue:function(t){var e=Pn();return ut===null?e.memoizedState=t:TT(e,ut.memoizedState,t)},useTransition:function(){var t=cf(al)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:cT,useSyncExternalStore:uT,useId:ST,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ri(t),s=gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Fn(e,t,i,r),Gc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ri(t),s=gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Fn(e,t,i,r),Gc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ri(t),i=gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Fn(e,t,r,n),Gc(e,t,r))}};function _w(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!el(n,r)||!el(i,s):!0}function AT(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=Xt(e)?Yi:Ot.current,r=e.contextTypes,s=(r=r!=null)?oo(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function bp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Eg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=Xt(e)?Yi:Ot.current,i.context=oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cd.enqueueReplaceState(i,i.state,null),Ru(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,e){try{var n="",r=e;do n+=sk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N2=typeof WeakMap=="function"?WeakMap:Map;function PT(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vu||(Vu=!0,Lp=r),Ap(t,e)},n}function RT(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q2.bind(null,t,e,n),e.then(t,t))}function Sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var D2=Nr.ReactCurrentOwner,Qt=!1;function Ut(t,e,n,r){e.child=t===null?sT(e,null,n,r):lo(e,t.child,n,r)}function Iw(t,e,n,r,i){n=n.render;var s=e.ref;return Js(e,i),r=bg(t,e,n,r,s,i),n=Ag(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(ze&&n&&mg(e),e.flags|=1,Ut(t,e,r,i),e.child)}function bw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kT(t,e,s,r,i)):(t=eu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(o,r)&&t.ref===e.ref)return Tr(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function kT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(el(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Tr(t,e,i)}return Pp(t,e,n,r,i)}function NT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(zs,rn),rn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(zs,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(zs,rn),rn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(zs,rn),rn|=r;return Ut(t,e,i,n),e.child}function DT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pp(t,e,n,r,i){var s=Xt(n)?Yi:Ot.current;return s=oo(e,s),Js(e,i),n=bg(t,e,n,r,s,i),r=Ag(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(ze&&r&&mg(e),e.flags|=1,Ut(t,e,n,i),e.child)}function Aw(t,e,n,r,i){if(Xt(n)){var s=!0;Cu(e)}else s=!1;if(Js(e,i),e.stateNode===null)Xc(t,e),AT(e,n,r),bp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=Xt(n)?Yi:Ot.current,u=oo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ew(e,o,r,u),Wr=!1;var p=e.memoizedState;o.state=p,Ru(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Yt.current||Wr?(typeof d=="function"&&(Ip(e,n,d,r),l=e.memoizedState),(a=Wr||_w(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=Xt(n)?Yi:Ot.current,l=oo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Ew(e,o,r,l),Wr=!1,p=e.memoizedState,o.state=p,Ru(e,r,o,i);var E=e.memoizedState;a!==h||p!==E||Yt.current||Wr?(typeof g=="function"&&(Ip(e,n,g,r),E=e.memoizedState),(u=Wr||_w(e,n,u,r,p,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rp(t,e,n,r,s,i)}function Rp(t,e,n,r,i,s){DT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fw(e,n,!1),Tr(t,e,s);r=e.stateNode,D2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lo(e,t.child,null,s),e.child=lo(e,null,a,s)):Ut(t,e,a,s),e.memoizedState=r.state,i&&fw(e,n,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hw(t,e.context,!1),Tg(t,e.containerInfo)}function Pw(t,e,n,r,i){return ao(),yg(i),e.flags|=256,Ut(t,e,n,r),e.child}var kp={dehydrated:null,treeContext:null,retryLane:0};function Np(t){return{baseLanes:t,cachePool:null,transitions:null}}function VT(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me($e,i&1),t===null)return Sp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ad(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Np(n),e.memoizedState=kp,t):kg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return M2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kp,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kg(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&yg(r),lo(e,t.child,null,n),t=kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(U(422))),Cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ad({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lo(e,t.child,null,o),e.child.memoizedState=Np(o),e.memoizedState=kp,s);if(!(e.mode&1))return Cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=uf(s,r,void 0),Cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Er(t,i),Fn(r,t,i,-1))}return Og(),r=uf(Error(U(421))),Cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ln=ei(i.nextSibling),un=e,ze=!0,jn=null,t!==null&&(_n[En++]=pr,_n[En++]=mr,_n[En++]=Xi,pr=t.id,mr=t.overflow,Xi=e),e=kg(e,r.children),e.flags|=4096,e)}function Rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cp(t.return,e,n)}function df(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ut(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rw(t,n,e);else if(t.tag===19)Rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),df(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}df(e,!0,n,null,s);break;case"together":df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V2(t,e,n){switch(e.tag){case 3:MT(e),ao();break;case 5:lT(e);break;case 1:Xt(e.type)&&Cu(e);break;case 4:Tg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Au,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?VT(t,e,n):(Me($e,$e.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);Me($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,NT(t,e,n)}return Tr(t,e,n)}var OT,Dp,LT,FT;OT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dp=function(){};LT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zi(Zn.current);var s=null;switch(n){case"input":i=tp(t,i),r=tp(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=ip(t,i),r=ip(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tu)}op(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ka.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ka.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};FT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ca(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j2(t,e,n){var r=e.pendingProps;switch(gg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Xt(e.type)&&Su(),Pt(e),null;case 3:return r=e.stateNode,co(),Be(Yt),Be(Ot),Cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Up(jn),jn=null))),Dp(t,e),Pt(e),null;case 5:Sg(e);var i=zi(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)LT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Pt(e),null}if(t=zi(Zn.current),Tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yn]=e,r[rl]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<xa.length;i++)Le(xa[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":F0(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":U0(r,s),Le("invalid",r)}op(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",""+a]):Ka.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":pc(r),B0(r,s,!0);break;case"textarea":pc(r),z0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yn]=e,t[rl]=r,OT(t,e,!1,!1),e.stateNode=t;e:{switch(o=ap(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<xa.length;i++)Le(xa[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":F0(t,r),i=tp(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Le("invalid",t);break;case"textarea":U0(t,r),i=ip(t,r),Le("invalid",t);break;default:i=r}op(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ga(t,l):typeof l=="number"&&Ga(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ka.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",t):l!=null&&tg(t,s,l,o))}switch(n){case"input":pc(t),B0(t,r,!1);break;case"textarea":pc(t),z0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)FT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=zi(sl.current),zi(Zn.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yn]=e,(s=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=e,e.stateNode=r}return Pt(e),null;case 13:if(Be($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&ln!==null&&e.mode&1&&!(e.flags&128))rT(),ao(),e.flags|=98560,s=!1;else if(s=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Yn]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else jn!==null&&(Up(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?dt===0&&(dt=3):Og())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return co(),Dp(t,e),t===null&&tl(e.stateNode.containerInfo),Pt(e),null;case 10:return xg(e.type._context),Pt(e),null;case 17:return Xt(e.type)&&Su(),Pt(e),null;case 19:if(Be($e),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ca(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ku(t),o!==null){for(e.flags|=128,ca(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>ho&&(e.flags|=128,r=!0,ca(s,!1),e.lanes=4194304)}else{if(!r)if(t=ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Pt(e),null}else 2*tt()-s.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,ca(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=$e.current,Me($e,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function O2(t,e){switch(gg(e),e.tag){case 1:return Xt(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),Be(Yt),Be(Ot),Cg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sg(e),null;case 13:if(Be($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be($e),null;case 4:return co(),null;case 10:return xg(e.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var Ic=!1,Dt=!1,L2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function Mp(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var kw=!1;function F2(t,e){if(yp=xu,t=WE(),pg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vp={focusedElem:t,selectionRange:n},xu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,T=E.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Mn(e.type,v),T);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(R){Xe(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return E=kw,kw=!1,E}function Va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mp(e,n,s)}i=i.next}while(i!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BT(t){var e=t.alternate;e!==null&&(t.alternate=null,BT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[rl],delete e[_p],delete e[_2],delete e[E2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UT(t){return t.tag===5||t.tag===3||t.tag===4}function Nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tu));else if(r!==4&&(t=t.child,t!==null))for(jp(t,e,n),t=t.sibling;t!==null;)jp(t,e,n),t=t.sibling}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}var yt=null,Vn=!1;function jr(t,e,n){for(n=n.child;n!==null;)zT(t,e,n),n=n.sibling}function zT(t,e,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:Dt||Us(n,e);case 6:var r=yt,i=Vn;yt=null,jr(t,e,n),yt=r,Vn=i,yt!==null&&(Vn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Vn?(t=yt,n=n.stateNode,t.nodeType===8?rf(t.parentNode,n):t.nodeType===1&&rf(t,n),Ja(t)):rf(yt,n.stateNode));break;case 4:r=yt,i=Vn,yt=n.stateNode.containerInfo,Vn=!0,jr(t,e,n),yt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mp(n,e,o),i=i.next}while(i!==r)}jr(t,e,n);break;case 1:if(!Dt&&(Us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,jr(t,e,n),Dt=r):jr(t,e,n);break;default:jr(t,e,n)}}function Dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L2),e.forEach(function(r){var i=G2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Vn=!1;break e;case 3:yt=a.stateNode.containerInfo,Vn=!0;break e;case 4:yt=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(yt===null)throw Error(U(160));zT(s,o,i),yt=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$T(e,t),e=e.sibling}function $T(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Gn(t),r&4){try{Va(3,t,t.return),Id(3,t)}catch(v){Xe(t,t.return,v)}try{Va(5,t,t.return)}catch(v){Xe(t,t.return,v)}}break;case 1:kn(e,t),Gn(t),r&512&&n!==null&&Us(n,n.return);break;case 5:if(kn(e,t),Gn(t),r&512&&n!==null&&Us(n,n.return),t.flags&32){var i=t.stateNode;try{Ga(i,"")}catch(v){Xe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dE(i,s),ap(a,o);var u=ap(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gE(i,h):d==="dangerouslySetInnerHTML"?pE(i,h):d==="children"?Ga(i,h):tg(i,d,h,u)}switch(a){case"input":np(i,s);break;case"textarea":hE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Gs(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[rl]=s}catch(v){Xe(t,t.return,v)}}break;case 6:if(kn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Xe(t,t.return,v)}}break;case 3:if(kn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ja(e.containerInfo)}catch(v){Xe(t,t.return,v)}break;case 4:kn(e,t),Gn(t);break;case 13:kn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mg=tt())),r&4&&Dw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(u=Dt)||d,kn(e,t),Dt=u):kn(e,t),Gn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:Va(4,p,p.return);break;case 1:Us(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){Xe(r,n,v)}}break;case 5:Us(p,p.return);break;case 22:if(p.memoizedState!==null){Vw(h);continue}}g!==null?(g.return=p,K=g):Vw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mE("display",o))}catch(v){Xe(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Xe(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kn(e,t),Gn(t),r&4&&Dw(t);break;case 21:break;default:kn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UT(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ga(i,""),r.flags&=-33);var s=Nw(t);Op(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nw(t);jp(t,a,o);break;default:throw Error(U(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B2(t,e,n){K=t,WT(t)}function WT(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ic;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=Ic;var u=Dt;if(Ic=o,(Dt=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?jw(i):l!==null?(l.return=o,K=l):jw(i);for(;s!==null;)K=s,WT(s),s=s.sibling;K=i,Ic=a,Dt=u}Mw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Mw(t)}}function Mw(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ja(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Dt||e.flags&512&&Vp(e)}catch(p){Xe(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Vw(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function jw(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xe(e,i,l)}}var s=e.return;try{Vp(e)}catch(l){Xe(e,s,l)}break;case 5:var o=e.return;try{Vp(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var U2=Math.ceil,Mu=Nr.ReactCurrentDispatcher,Ng=Nr.ReactCurrentOwner,In=Nr.ReactCurrentBatchConfig,_e=0,pt=null,st=null,_t=0,rn=0,zs=Ti(0),dt=0,cl=null,Zi=0,bd=0,Dg=0,ja=null,qt=null,Mg=0,ho=1/0,hr=null,Vu=!1,Lp=null,ni=null,bc=!1,Gr=null,ju=0,Oa=0,Fp=null,Jc=-1,Zc=0;function zt(){return _e&6?tt():Jc!==-1?Jc:Jc=tt()}function ri(t){return t.mode&1?_e&2&&_t!==0?_t&-_t:S2.transition!==null?(Zc===0&&(Zc=AE()),Zc):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:VE(t.type)),t):1}function Fn(t,e,n,r){if(50<Oa)throw Oa=0,Fp=null,Error(U(185));Rl(t,n,r),(!(_e&2)||t!==pt)&&(t===pt&&(!(_e&2)&&(bd|=n),dt===4&&qr(t,_t)),Jt(t,r),n===1&&_e===0&&!(e.mode&1)&&(ho=tt()+500,Td&&Si()))}function Jt(t,e){var n=t.callbackNode;Sk(t,e);var r=wu(t,t===pt?_t:0);if(r===0)n!==null&&H0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H0(n),e===1)t.tag===0?T2(Ow.bind(null,t)):eT(Ow.bind(null,t)),w2(function(){!(_e&6)&&Si()}),n=null;else{switch(PE(r)){case 1:n=og;break;case 4:n=IE;break;case 16:n=vu;break;case 536870912:n=bE;break;default:n=vu}n=JT(n,HT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HT(t,e){if(Jc=-1,Zc=0,_e&6)throw Error(U(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=wu(t,t===pt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ou(t,r);else{e=r;var i=_e;_e|=2;var s=KT();(pt!==t||_t!==e)&&(hr=null,ho=tt()+500,qi(t,e));do try{W2();break}catch(a){qT(t,a)}while(!0);wg(),Mu.current=s,_e=i,st!==null?e=0:(pt=null,_t=0,e=dt)}if(e!==0){if(e===2&&(i=hp(t),i!==0&&(r=i,e=Bp(t,i))),e===1)throw n=cl,qi(t,0),qr(t,r),Jt(t,tt()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!z2(i)&&(e=Ou(t,r),e===2&&(s=hp(t),s!==0&&(r=s,e=Bp(t,s))),e===1))throw n=cl,qi(t,0),qr(t,r),Jt(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Vi(t,qt,hr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=Mg+500-tt(),10<e)){if(wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xp(Vi.bind(null,t,qt,hr),e);break}Vi(t,qt,hr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U2(r/1960))-r,10<r){t.timeoutHandle=xp(Vi.bind(null,t,qt,hr),r);break}Vi(t,qt,hr);break;case 5:Vi(t,qt,hr);break;default:throw Error(U(329))}}}return Jt(t,tt()),t.callbackNode===n?HT.bind(null,t):null}function Bp(t,e){var n=ja;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=qt,qt=n,e!==null&&Up(e)),t}function Up(t){qt===null?qt=t:qt.push.apply(qt,t)}function z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~Dg,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function Ow(t){if(_e&6)throw Error(U(327));Zs();var e=wu(t,0);if(!(e&1))return Jt(t,tt()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=hp(t);r!==0&&(e=r,n=Bp(t,r))}if(n===1)throw n=cl,qi(t,0),qr(t,e),Jt(t,tt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,qt,hr),Jt(t,tt()),null}function Vg(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(ho=tt()+500,Td&&Si())}}function es(t){Gr!==null&&Gr.tag===0&&!(_e&6)&&Zs();var e=_e;_e|=1;var n=In.transition,r=Pe;try{if(In.transition=null,Pe=1,t)return t()}finally{Pe=r,In.transition=n,_e=e,!(_e&6)&&Si()}}function jg(){rn=zs.current,Be(zs)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v2(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(gg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:co(),Be(Yt),Be(Ot),Cg();break;case 5:Sg(r);break;case 4:co();break;case 13:Be($e);break;case 19:Be($e);break;case 10:xg(r.type._context);break;case 22:case 23:jg()}n=n.return}if(pt=t,st=t=ii(t.current,null),_t=rn=e,dt=0,cl=null,Dg=bd=Zi=0,qt=ja=null,Ui!==null){for(e=0;e<Ui.length;e++)if(n=Ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ui=null}return t}function qT(t,e){do{var n=st;try{if(wg(),Qc.current=Du,Nu){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nu=!1}if(Ji=0,ft=ut=He=null,Ma=!1,ol=0,Ng.current=null,n===null||n.return===null){dt=1,cl=e,st=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Sw(o);if(g!==null){g.flags&=-257,Cw(g,o,a,s,e),g.mode&1&&Tw(s,u,e),e=g,l=u;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){Tw(s,u,e),Og();break e}l=Error(U(426))}}else if(ze&&a.mode&1){var T=Sw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Cw(T,o,a,s,e),yg(uo(l,a));break e}}s=l=uo(l,a),dt!==4&&(dt=2),ja===null?ja=[s]:ja.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=PT(s,l,e);yw(s,w);break e;case 1:a=l;var _=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ni===null||!ni.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=RT(s,a,e);yw(s,R);break e}}s=s.return}while(s!==null)}QT(n)}catch(N){e=N,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function KT(){var t=Mu.current;return Mu.current=Du,t===null?Du:t}function Og(){(dt===0||dt===3||dt===2)&&(dt=4),pt===null||!(Zi&268435455)&&!(bd&268435455)||qr(pt,_t)}function Ou(t,e){var n=_e;_e|=2;var r=KT();(pt!==t||_t!==e)&&(hr=null,qi(t,e));do try{$2();break}catch(i){qT(t,i)}while(!0);if(wg(),_e=n,Mu.current=r,st!==null)throw Error(U(261));return pt=null,_t=0,dt}function $2(){for(;st!==null;)GT(st)}function W2(){for(;st!==null&&!mk();)GT(st)}function GT(t){var e=XT(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?QT(t):st=e,Ng.current=null}function QT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O2(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,st=null;return}}else if(n=j2(n,e,rn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);dt===0&&(dt=5)}function Vi(t,e,n){var r=Pe,i=In.transition;try{In.transition=null,Pe=1,H2(t,e,n,r)}finally{In.transition=i,Pe=r}return null}function H2(t,e,n,r){do Zs();while(Gr!==null);if(_e&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ck(t,s),t===pt&&(st=pt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bc||(bc=!0,JT(vu,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var o=Pe;Pe=1;var a=_e;_e|=4,Ng.current=null,F2(t,n),$T(n,t),d2(vp),xu=!!yp,vp=yp=null,t.current=n,B2(n),gk(),_e=a,Pe=o,In.transition=s}else t.current=n;if(bc&&(bc=!1,Gr=t,ju=i),s=t.pendingLanes,s===0&&(ni=null),wk(n.stateNode),Jt(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,t=Lp,Lp=null,t;return ju&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===Fp?Oa++:(Oa=0,Fp=t):Oa=0,Si(),null}function Zs(){if(Gr!==null){var t=PE(ju),e=In.transition,n=Pe;try{if(In.transition=null,Pe=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,ju=0,_e&6)throw Error(U(331));var i=_e;for(_e|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Va(8,d,s)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,g=d.return;if(BT(d),d===u){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var E=s.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Va(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,K=w;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,K=C;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Id(9,a)}}catch(N){Xe(a,a.return,N)}if(a===o){K=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,K=R;break e}K=a.return}}if(_e=i,Si(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(vd,t)}catch{}r=!0}return r}finally{Pe=n,In.transition=e}}return!1}function Lw(t,e,n){e=uo(n,e),e=PT(t,e,1),t=ti(t,e,1),e=zt(),t!==null&&(Rl(t,1,e),Jt(t,e))}function Xe(t,e,n){if(t.tag===3)Lw(t,t,n);else for(;e!==null;){if(e.tag===3){Lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=uo(n,t),t=RT(e,t,1),e=ti(e,t,1),t=zt(),e!==null&&(Rl(e,1,t),Jt(e,t));break}}e=e.return}}function q2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(_t&n)===n&&(dt===4||dt===3&&(_t&130023424)===_t&&500>tt()-Mg?qi(t,0):Dg|=n),Jt(t,e)}function YT(t,e){e===0&&(t.mode&1?(e=yc,yc<<=1,!(yc&130023424)&&(yc=4194304)):e=1);var n=zt();t=Er(t,e),t!==null&&(Rl(t,e,n),Jt(t,n))}function K2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YT(t,n)}function G2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),YT(t,n)}var XT;XT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,V2(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,ze&&e.flags&1048576&&tT(e,bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xc(t,e),t=e.pendingProps;var i=oo(e,Ot.current);Js(e,n),i=bg(null,e,r,t,i,n);var s=Ag();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(s=!0,Cu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Eg(e),i.updater=Cd,e.stateNode=i,i._reactInternals=e,bp(e,r,t,n),e=Rp(null,e,r,!0,s,n)):(e.tag=0,ze&&s&&mg(e),Ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y2(r),t=Mn(r,t),i){case 0:e=Pp(null,e,r,t,n);break e;case 1:e=Aw(null,e,r,t,n);break e;case 11:e=Iw(null,e,r,t,n);break e;case 14:e=bw(null,e,r,Mn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Pp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Aw(t,e,r,i,n);case 3:e:{if(MT(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aT(t,e),Ru(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=uo(Error(U(423)),e),e=Pw(t,e,r,n,i);break e}else if(r!==i){i=uo(Error(U(424)),e),e=Pw(t,e,r,n,i);break e}else for(ln=ei(e.stateNode.containerInfo.firstChild),un=e,ze=!0,jn=null,n=sT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===i){e=Tr(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return lT(e),t===null&&Sp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wp(r,i)?o=null:s!==null&&wp(r,s)&&(e.flags|=32),DT(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&Sp(e),null;case 13:return VT(t,e,n);case 4:return Tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Iw(t,e,r,i,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(Au,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!Yt.current){e=Tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Js(e,n),i=An(i),r=r(i),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),bw(t,e,r,i,n);case 15:return kT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Xc(t,e),e.tag=1,Xt(r)?(t=!0,Cu(e)):t=!1,Js(e,n),AT(e,r,i),bp(e,r,i,n),Rp(null,e,r,!0,t,n);case 19:return jT(t,e,n);case 22:return NT(t,e,n)}throw Error(U(156,e.tag))};function JT(t,e){return CE(t,e)}function Q2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new Q2(t,e,n,r)}function Lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y2(t){if(typeof t=="function")return Lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rg)return 11;if(t===ig)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ns:return Ki(n.children,i,s,e);case ng:o=8,i|=8;break;case Xf:return t=Cn(12,n,e,i|2),t.elementType=Xf,t.lanes=s,t;case Jf:return t=Cn(13,n,e,i),t.elementType=Jf,t.lanes=s,t;case Zf:return t=Cn(19,n,e,i),t.elementType=Zf,t.lanes=s,t;case lE:return Ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oE:o=10;break e;case aE:o=9;break e;case rg:o=11;break e;case ig:o=14;break e;case $r:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=lE,t.lanes=n,t.stateNode={isHidden:!1},t}function hf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function ff(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qh(0),this.expirationTimes=qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fg(t,e,n,r,i,s,o,a,l){return t=new X2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eg(s),t}function J2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZT(t){if(!t)return hi;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Xt(n))return ZE(t,n,e)}return e}function eS(t,e,n,r,i,s,o,a,l){return t=Fg(n,r,!0,t,i,s,o,a,l),t.context=ZT(null),n=t.current,r=zt(),i=ri(n),s=gr(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,Rl(t,i,r),Jt(t,r),t}function Pd(t,e,n,r){var i=e.current,s=zt(),o=ri(i);return n=ZT(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(Fn(t,i,o,s),Gc(t,i,o)),o}function Lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bg(t,e){Fw(t,e),(t=t.alternate)&&Fw(t,e)}function Z2(){return null}var tS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ug(t){this._internalRoot=t}Rd.prototype.render=Ug.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Pd(t,e,null,null)};Rd.prototype.unmount=Ug.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Pd(null,t,null,null)}),e[_r]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=NE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&ME(t)}};function zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bw(){}function eN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Lu(o);s.call(u)}}var o=eS(e,r,t,0,null,!1,!1,"",Bw);return t._reactRootContainer=o,t[_r]=o.current,tl(t.nodeType===8?t.parentNode:t),es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Lu(l);a.call(u)}}var l=Fg(t,0,!1,null,null,!1,!1,"",Bw);return t._reactRootContainer=l,t[_r]=l.current,tl(t.nodeType===8?t.parentNode:t),es(function(){Pd(e,l,n,r)}),l}function Nd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lu(o);a.call(l)}}Pd(e,o,t,i)}else o=eN(n,e,t,i,r);return Lu(o)}RE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(ag(e,n|1),Jt(e,tt()),!(_e&6)&&(ho=tt()+500,Si()))}break;case 13:es(function(){var r=Er(t,1);if(r!==null){var i=zt();Fn(r,t,1,i)}}),Bg(t,1)}};lg=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=zt();Fn(e,t,134217728,n)}Bg(t,134217728)}};kE=function(t){if(t.tag===13){var e=ri(t),n=Er(t,e);if(n!==null){var r=zt();Fn(n,t,e,r)}Bg(t,e)}};NE=function(){return Pe};DE=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};cp=function(t,e,n){switch(e){case"input":if(np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ed(r);if(!i)throw Error(U(90));uE(r),np(r,i)}}}break;case"textarea":hE(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};wE=Vg;xE=es;var tN={usingClientEntryPoint:!1,Events:[Nl,js,Ed,yE,vE,Vg]},ua={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nN={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TE(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{vd=Ac.inject(nN),Jn=Ac}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tN;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(e))throw Error(U(200));return J2(t,e,null,n)};mn.createRoot=function(t,e){if(!zg(t))throw Error(U(299));var n=!1,r="",i=tS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fg(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,tl(t.nodeType===8?t.parentNode:t),new Ug(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=TE(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return es(t)};mn.hydrate=function(t,e,n){if(!kd(e))throw Error(U(200));return Nd(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!zg(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eS(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rd(e)};mn.render=function(t,e,n){if(!kd(e))throw Error(U(200));return Nd(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(U(40));return t._reactRootContainer?(es(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};mn.unstable_batchedUpdates=Vg;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Nd(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function nS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nS)}catch(t){console.error(t)}}nS(),nE.exports=mn;var Ao=nE.exports;const rN=$_(Ao);var rS,Uw=Ao;rS=Uw.createRoot,Uw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const zw="popstate";function iN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return zp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fu(i)}return oN(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sN(){return Math.random().toString(36).substr(2,8)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function zp(t,e,n,r){return n===void 0&&(n=null),ul({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Po(e):e,{state:n,key:e&&e.key||r||sN()})}function Fu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ul({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Qr.Pop;let T=d(),w=T==null?null:T-u;u=T,l&&l({action:a,location:v.location,delta:w})}function p(T,w){a=Qr.Push;let _=zp(v.location,T,w);u=d()+1;let C=$w(_,u),R=v.createHref(_);try{o.pushState(C,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function g(T,w){a=Qr.Replace;let _=zp(v.location,T,w);u=d();let C=$w(_,u),R=v.createHref(_);o.replaceState(C,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function E(T){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:Fu(T);return _=_.replace(/ $/,"%20"),at(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zw,h),l=T,()=>{i.removeEventListener(zw,h),l=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let w=E(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(T){return o.go(T)}};return v}var Ww;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ww||(Ww={}));function aN(t,e,n){return n===void 0&&(n="/"),lN(t,e,n,!1)}function lN(t,e,n,r){let i=typeof e=="string"?Po(e):e,s=$g(i.pathname||"/",n);if(s==null)return null;let o=sS(t);cN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=xN(s);a=vN(o[l],u,r)}return a}function sS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=si([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:gN(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of oS(s.path))i(s,o,l)}),e}function oS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uN=/^:[\w-]+$/,dN=3,hN=2,fN=1,pN=10,mN=-2,Hw=t=>t==="*";function gN(t,e){let n=t.split("/"),r=n.length;return n.some(Hw)&&(r+=mN),e&&(r+=hN),n.filter(i=>!Hw(i)).reduce((i,s)=>i+(uN.test(s)?dN:s===""?fN:pN),r)}function yN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=qw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=qw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:si([s,h.pathname]),pathnameBase:SN(si([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=si([s,h.pathnameBase]))}return o}function qw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[h];return g&&!E?u[p]=void 0:u[p]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function wN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $g(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _N(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Po(t):t;return{pathname:n?n.startsWith("/")?n:EN(n,e):e,search:CN(r),hash:IN(i)}}function EN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aS(t,e){let n=TN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Po(t):(i=ul({},t),at(!i.pathname||!i.pathname.includes("?"),pf("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),pf("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),pf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=_N(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const si=t=>t.join("/").replace(/\/\/+/g,"/"),SN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cS=["post","put","patch","delete"];new Set(cS);const AN=["get",...cS];new Set(AN);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}const Wg=y.createContext(null),PN=y.createContext(null),fs=y.createContext(null),Dd=y.createContext(null),ps=y.createContext({outlet:null,matches:[],isDataRoute:!1}),uS=y.createContext(null);function RN(t,e){let{relative:n}=e===void 0?{}:e;Ml()||at(!1);let{basename:r,navigator:i}=y.useContext(fs),{hash:s,pathname:o,search:a}=hS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:si([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ml(){return y.useContext(Dd)!=null}function Md(){return Ml()||at(!1),y.useContext(Dd).location}function dS(t){y.useContext(fs).static||y.useLayoutEffect(t)}function Vd(){let{isDataRoute:t}=y.useContext(ps);return t?$N():kN()}function kN(){Ml()||at(!1);let t=y.useContext(Wg),{basename:e,future:n,navigator:r}=y.useContext(fs),{matches:i}=y.useContext(ps),{pathname:s}=Md(),o=JSON.stringify(aS(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return dS(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=lS(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:si([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function hS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(fs),{matches:i}=y.useContext(ps),{pathname:s}=Md(),o=JSON.stringify(aS(i,r.v7_relativeSplatPath));return y.useMemo(()=>lS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function NN(t,e){return DN(t,e)}function DN(t,e,n,r){Ml()||at(!1);let{navigator:i,static:s}=y.useContext(fs),{matches:o}=y.useContext(ps),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Md(),h;if(e){var p;let w=typeof e=="string"?Po(e):e;u==="/"||(p=w.pathname)!=null&&p.startsWith(u)||at(!1),h=w}else h=d;let g=h.pathname||"/",E=g;if(u!=="/"){let w=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=!s&&n&&n.matches&&n.matches.length>0?n.matches:aN(t,{pathname:E}),T=LN(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:si([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:si([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&T?y.createElement(Dd.Provider,{value:{location:dl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qr.Pop}},T):T}function MN(){let t=zN(),e=bN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const VN=y.createElement(MN,null);class jN extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(ps.Provider,{value:this.props.routeContext},y.createElement(uS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ON(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(Wg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(ps.Provider,{value:e},r)}function LN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,E=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,E=!1,v=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||VN,l&&(u<0&&p===0?(E=!0,T=null):u===p&&(E=!0,T=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let C;return g?C=v:E?C=T:h.route.Component?C=y.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,y.createElement(ON,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(jN,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var fS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fS||{}),Bu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bu||{});function FN(t){let e=y.useContext(Wg);return e||at(!1),e}function BN(t){let e=y.useContext(PN);return e||at(!1),e}function UN(t){let e=y.useContext(ps);return e||at(!1),e}function pS(t){let e=UN(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function zN(){var t;let e=y.useContext(uS),n=BN(Bu.UseRouteError),r=pS(Bu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $N(){let{router:t}=FN(fS.UseNavigateStable),e=pS(Bu.UseNavigateStable),n=y.useRef(!1);return dS(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dl({fromRouteId:e},s)))},[t,e])}function WN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tu(t){at(!1)}function HN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qr.Pop,navigator:s,static:o=!1,future:a}=t;Ml()&&at(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:s,static:o,future:dl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Po(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:E="default"}=r,v=y.useMemo(()=>{let T=$g(d,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:g,key:E},navigationType:i}},[l,d,h,p,g,E,i]);return v==null?null:y.createElement(fs.Provider,{value:u},y.createElement(Dd.Provider,{children:n,value:v}))}function qN(t){let{children:e,location:n}=t;return NN($p(e),n)}new Promise(()=>{});function $p(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,$p(r.props.children,s));return}r.type!==tu&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$p(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function KN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QN(t,e){return t.button===0&&(!e||e==="_self")&&!GN(t)}const YN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XN="6";try{window.__reactRouterVersion=XN}catch{}const JN="startTransition",Kw=eE[JN];function ZN(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=iN({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&Kw?Kw(()=>l(h)):l(h)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>WN(r),[r]),y.createElement(HN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hp=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=KN(e,YN),{basename:g}=y.useContext(fs),E,v=!1;if(typeof u=="string"&&tD.test(u)&&(E=u,eD))try{let C=new URL(window.location.href),R=u.startsWith("//")?new URL(C.protocol+u):new URL(u),N=$g(R.pathname,g);R.origin===C.origin&&N!=null?u=N+R.search+R.hash:v=!0}catch{}let T=RN(u,{relative:i}),w=nD(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(C){r&&r(C),C.defaultPrevented||w(C)}return y.createElement("a",Wp({},p,{href:E||T,onClick:v||s?r:_,ref:n,target:l}))});var Gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gw||(Gw={}));var Qw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function nD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Vd(),u=Md(),d=hS(t,{relative:o});return y.useCallback(h=>{if(QN(h,n)){h.preventDefault();let p=r!==void 0?r:Fu(u)===Fu(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new iD;const p=s<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sD=function(t){const e=mS(t);return gS.encodeByteArray(e,!0)},Uu=function(t){return sD(t).replace(/\./g,"")},oD=function(t){try{return gS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=()=>aD().__FIREBASE_DEFAULTS__,cD=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oD(t[1]);return e&&JSON.parse(e)},Hg=()=>{try{return lD()||cD()||uD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dD=t=>{var e,n;return(n=(e=Hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hD=t=>{const e=dD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yS=()=>{var t;return(t=Hg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){var t;const e=(t=Hg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vD(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="FirebaseError";class Ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xD,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vS.prototype.create)}}class vS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_D(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ro(i,a,r)}}function _D(t,e){return t.replace(ED,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ED=/\{\$([^}]+)}/g;function qp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xw(s)&&Xw(o)){if(!qp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return t&&t._delegate?t._delegate:t}class hl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CD(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SD(t){return t===ji?void 0:t}function CD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const bD={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},AD=xe.INFO,PD={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},RD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wS{constructor(e){this.name=e,this._logLevel=AD,this._logHandler=RD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const kD=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function ND(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,Kp=new WeakMap,_S=new WeakMap,mf=new WeakMap,qg=new WeakMap;function MD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xS.set(n,t)}).catch(()=>{}),qg.set(e,t),e}function VD(t){if(Kp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kp.set(t,e)}let Gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Gp=t(Gp)}function OD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gf(this),e,...n);return _S.set(r,e.sort?e.sort():[e]),oi(r)}:DD().includes(t)?function(...e){return t.apply(gf(this),e),oi(xS.get(this))}:function(...e){return oi(t.apply(gf(this),e))}}function LD(t){return typeof t=="function"?OD(t):(t instanceof IDBTransaction&&VD(t),kD(t,ND())?new Proxy(t,Gp):t)}function oi(t){if(t instanceof IDBRequest)return MD(t);if(mf.has(t))return mf.get(t);const e=LD(t);return e!==t&&(mf.set(t,e),qg.set(e,t)),e}const gf=t=>qg.get(t);function FD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oi(o.result),l.oldVersion,l.newVersion,oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const BD=["get","getKey","getAll","getAllKeys","count"],UD=["put","add","delete","clear"],yf=new Map;function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yf.set(e,s),s}jD(t=>({...t,get:(e,n,r)=>ex(e,n)||t.get(e,n,r),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",tx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new wS("@firebase/app"),WD="@firebase/app-compat",HD="@firebase/analytics-compat",qD="@firebase/analytics",KD="@firebase/app-check-compat",GD="@firebase/app-check",QD="@firebase/auth",YD="@firebase/auth-compat",XD="@firebase/database",JD="@firebase/data-connect",ZD="@firebase/database-compat",eM="@firebase/functions",tM="@firebase/functions-compat",nM="@firebase/installations",rM="@firebase/installations-compat",iM="@firebase/messaging",sM="@firebase/messaging-compat",oM="@firebase/performance",aM="@firebase/performance-compat",lM="@firebase/remote-config",cM="@firebase/remote-config-compat",uM="@firebase/storage",dM="@firebase/storage-compat",hM="@firebase/firestore",fM="@firebase/vertexai-preview",pM="@firebase/firestore-compat",mM="firebase",gM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",yM={[Qp]:"fire-core",[WD]:"fire-core-compat",[qD]:"fire-analytics",[HD]:"fire-analytics-compat",[GD]:"fire-app-check",[KD]:"fire-app-check-compat",[QD]:"fire-auth",[YD]:"fire-auth-compat",[XD]:"fire-rtdb",[JD]:"fire-data-connect",[ZD]:"fire-rtdb-compat",[eM]:"fire-fn",[tM]:"fire-fn-compat",[nM]:"fire-iid",[rM]:"fire-iid-compat",[iM]:"fire-fcm",[sM]:"fire-fcm-compat",[oM]:"fire-perf",[aM]:"fire-perf-compat",[lM]:"fire-rc",[cM]:"fire-rc-compat",[uM]:"fire-gcs",[dM]:"fire-gcs-compat",[hM]:"fire-fst",[pM]:"fire-fst-compat",[fM]:"fire-vertex","fire-js":"fire-js",[mM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,vM=new Map,Xp=new Map;function nx(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $u(t){const e=t.name;if(Xp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(const n of zu.values())nx(n,t);for(const n of vM.values())nx(n,t);return!0}function wM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new vS("app","Firebase",xM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=gM;function ES(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=yS()),!n)throw ai.create("no-options");const s=zu.get(i);if(s){if(qp(n,s.options)&&qp(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const o=new ID(i);for(const l of Xp.values())o.addComponent(l);const a=new _M(n,r,o);return zu.set(i,a),a}function TM(t=Yp){const e=zu.get(t);if(!e&&t===Yp&&yS())return ES();if(!e)throw ai.create("no-app",{appName:t});return e}function eo(t,e,n){var r;let i=(r=yM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}$u(new hl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebase-heartbeat-database",CM=1,fl="firebase-heartbeat-store";let vf=null;function TS(){return vf||(vf=FD(SM,CM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),vf}async function IM(t){try{const n=(await TS()).transaction(fl),r=await n.objectStore(fl).get(SS(t));return await n.done,r}catch(e){if(e instanceof Ro)Sr.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function rx(t,e){try{const r=(await TS()).transaction(fl,"readwrite");await r.objectStore(fl).put(e,SS(t)),await r.done}catch(n){if(n instanceof Ro)Sr.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function SS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1024,AM=30*24*60*60*1e3;class PM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ix();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=AM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ix(),{heartbeatsToSend:r,unsentEntries:i}=RM(this._heartbeatsCache.heartbeats),s=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sr.warn(n),""}}}function ix(){return new Date().toISOString().substring(0,10)}function RM(t,e=bM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vD()?wD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sx(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){$u(new hl("platform-logger",e=>new zD(e),"PRIVATE")),$u(new hl("heartbeat",e=>new PM(e),"PRIVATE")),eo(Qp,tx,t),eo(Qp,tx,"esm2017"),eo("fire-js","")}NM("");var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,CS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function b(){}b.prototype=S.prototype,I.D=S.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(P,D,M){for(var k=Array(arguments.length-2),X=2;X<arguments.length;X++)k[X-2]=arguments[X];return S.prototype[D].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,b){b||(b=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(D=0;16>D;++D)P[D]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=I.g[0],b=I.g[1],D=I.g[2];var M=I.g[3],k=S+(M^b&(D^M))+P[0]+3614090360&4294967295;S=b+(k<<7&4294967295|k>>>25),k=M+(D^S&(b^D))+P[1]+3905402710&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(b^M&(S^b))+P[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=b+(S^D&(M^S))+P[3]+3250441966&4294967295,b=D+(k<<22&4294967295|k>>>10),k=S+(M^b&(D^M))+P[4]+4118548399&4294967295,S=b+(k<<7&4294967295|k>>>25),k=M+(D^S&(b^D))+P[5]+1200080426&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(b^M&(S^b))+P[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=b+(S^D&(M^S))+P[7]+4249261313&4294967295,b=D+(k<<22&4294967295|k>>>10),k=S+(M^b&(D^M))+P[8]+1770035416&4294967295,S=b+(k<<7&4294967295|k>>>25),k=M+(D^S&(b^D))+P[9]+2336552879&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(b^M&(S^b))+P[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=b+(S^D&(M^S))+P[11]+2304563134&4294967295,b=D+(k<<22&4294967295|k>>>10),k=S+(M^b&(D^M))+P[12]+1804603682&4294967295,S=b+(k<<7&4294967295|k>>>25),k=M+(D^S&(b^D))+P[13]+4254626195&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(b^M&(S^b))+P[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=b+(S^D&(M^S))+P[15]+1236535329&4294967295,b=D+(k<<22&4294967295|k>>>10),k=S+(D^M&(b^D))+P[1]+4129170786&4294967295,S=b+(k<<5&4294967295|k>>>27),k=M+(b^D&(S^b))+P[6]+3225465664&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^b&(M^S))+P[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=b+(M^S&(D^M))+P[0]+3921069994&4294967295,b=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(b^D))+P[5]+3593408605&4294967295,S=b+(k<<5&4294967295|k>>>27),k=M+(b^D&(S^b))+P[10]+38016083&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^b&(M^S))+P[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=b+(M^S&(D^M))+P[4]+3889429448&4294967295,b=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(b^D))+P[9]+568446438&4294967295,S=b+(k<<5&4294967295|k>>>27),k=M+(b^D&(S^b))+P[14]+3275163606&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^b&(M^S))+P[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=b+(M^S&(D^M))+P[8]+1163531501&4294967295,b=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(b^D))+P[13]+2850285829&4294967295,S=b+(k<<5&4294967295|k>>>27),k=M+(b^D&(S^b))+P[2]+4243563512&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^b&(M^S))+P[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=b+(M^S&(D^M))+P[12]+2368359562&4294967295,b=D+(k<<20&4294967295|k>>>12),k=S+(b^D^M)+P[5]+4294588738&4294967295,S=b+(k<<4&4294967295|k>>>28),k=M+(S^b^D)+P[8]+2272392833&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^b)+P[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=b+(D^M^S)+P[14]+4259657740&4294967295,b=D+(k<<23&4294967295|k>>>9),k=S+(b^D^M)+P[1]+2763975236&4294967295,S=b+(k<<4&4294967295|k>>>28),k=M+(S^b^D)+P[4]+1272893353&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^b)+P[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=b+(D^M^S)+P[10]+3200236656&4294967295,b=D+(k<<23&4294967295|k>>>9),k=S+(b^D^M)+P[13]+681279174&4294967295,S=b+(k<<4&4294967295|k>>>28),k=M+(S^b^D)+P[0]+3936430074&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^b)+P[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=b+(D^M^S)+P[6]+76029189&4294967295,b=D+(k<<23&4294967295|k>>>9),k=S+(b^D^M)+P[9]+3654602809&4294967295,S=b+(k<<4&4294967295|k>>>28),k=M+(S^b^D)+P[12]+3873151461&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^b)+P[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=b+(D^M^S)+P[2]+3299628645&4294967295,b=D+(k<<23&4294967295|k>>>9),k=S+(D^(b|~M))+P[0]+4096336452&4294967295,S=b+(k<<6&4294967295|k>>>26),k=M+(b^(S|~D))+P[7]+1126891415&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~b))+P[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=b+(M^(D|~S))+P[5]+4237533241&4294967295,b=D+(k<<21&4294967295|k>>>11),k=S+(D^(b|~M))+P[12]+1700485571&4294967295,S=b+(k<<6&4294967295|k>>>26),k=M+(b^(S|~D))+P[3]+2399980690&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~b))+P[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=b+(M^(D|~S))+P[1]+2240044497&4294967295,b=D+(k<<21&4294967295|k>>>11),k=S+(D^(b|~M))+P[8]+1873313359&4294967295,S=b+(k<<6&4294967295|k>>>26),k=M+(b^(S|~D))+P[15]+4264355552&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~b))+P[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=b+(M^(D|~S))+P[13]+1309151649&4294967295,b=D+(k<<21&4294967295|k>>>11),k=S+(D^(b|~M))+P[4]+4149444226&4294967295,S=b+(k<<6&4294967295|k>>>26),k=M+(b^(S|~D))+P[11]+3174756917&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~b))+P[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=b+(M^(D|~S))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var b=S-this.blockSize,P=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=b;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(P[D++]=I.charCodeAt(M++),D==this.blockSize){i(this,P),D=0;break}}else for(;M<S;)if(P[D++]=I[M++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var b=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=b&255,b/=256;for(this.u(I),I=Array(16),S=b=0;4>S;++S)for(var P=0;32>P;P+=8)I[b++]=this.g[S]>>>P&255;return I};function s(I,S){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=S(I)}function o(I,S){this.h=S;for(var b=[],P=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;P&&M==S||(b[D]=M,P=!1)}this.g=b}var a={};function l(I){return-128<=I&&128>I?s(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return T(u(-I));for(var S=[],b=1,P=0;I>=b;P++)S[P]=I/b|0,b*=4294967296;return new o(S,0)}function d(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return T(d(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(S,8)),P=h,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),k=parseInt(I.substring(D,D+M),S);8>M?(M=u(Math.pow(S,M)),P=P.j(M).add(u(k))):(P=P.j(b),P=P.add(u(k)))}return P}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var I=0,S=1,b=0;b<this.g.length;b++){var P=this.i(b);I+=(0<=P?P:4294967296+P)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(v(this))return"-"+T(this).toString(I);for(var S=u(Math.pow(I,6)),b=this,P="";;){var D=R(b,S).g;b=w(b,D.j(S));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=D,E(b))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=w(this,I),v(I)?-1:E(I)?0:1};function T(I){for(var S=I.g.length,b=[],P=0;P<S;P++)b[P]=~I.g[P];return new o(b,~I.h).add(p)}t.abs=function(){return v(this)?T(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),b=[],P=0,D=0;D<=S;D++){var M=P+(this.i(D)&65535)+(I.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);P=k>>>16,M&=65535,k&=65535,b[D]=k<<16|M}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(I,S){return I.add(T(S))}t.j=function(I){if(E(this)||E(I))return h;if(v(this))return v(I)?T(this).j(T(I)):T(T(this).j(I));if(v(I))return T(this.j(T(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var S=this.g.length+I.g.length,b=[],P=0;P<2*S;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<I.g.length;D++){var M=this.i(P)>>>16,k=this.i(P)&65535,X=I.i(D)>>>16,ue=I.i(D)&65535;b[2*P+2*D]+=k*ue,_(b,2*P+2*D),b[2*P+2*D+1]+=M*ue,_(b,2*P+2*D+1),b[2*P+2*D+1]+=k*X,_(b,2*P+2*D+1),b[2*P+2*D+2]+=M*X,_(b,2*P+2*D+2)}for(P=0;P<S;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=S;P<2*S;P++)b[P]=0;return new o(b,0)};function _(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function C(I,S){this.g=I,this.h=S}function R(I,S){if(E(S))throw Error("division by zero");if(E(I))return new C(h,h);if(v(I))return S=R(T(I),S),new C(T(S.g),T(S.h));if(v(S))return S=R(I,T(S)),new C(T(S.g),S.h);if(30<I.g.length){if(v(I)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var b=p,P=S;0>=P.l(I);)b=N(b),P=N(P);var D=V(b,1),M=V(P,1);for(P=V(P,2),b=V(b,2);!E(P);){var k=M.add(P);0>=k.l(I)&&(D=D.add(b),M=k),P=V(P,1),b=V(b,1)}return S=w(I,D.j(S)),new C(D,S)}for(D=h;0<=I.l(S);){for(b=Math.max(1,Math.floor(I.m()/S.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=u(b),k=M.j(S);v(k)||0<k.l(I);)b-=P,M=u(b),k=M.j(S);E(M)&&(M=p),D=D.add(M),I=w(I,k)}return new C(D,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),b=[],P=0;P<S;P++)b[P]=this.i(P)&I.i(P);return new o(b,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),b=[],P=0;P<S;P++)b[P]=this.i(P)|I.i(P);return new o(b,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),b=[],P=0;P<S;P++)b[P]=this.i(P)^I.i(P);return new o(b,this.h^I.h)};function N(I){for(var S=I.g.length+1,b=[],P=0;P<S;P++)b[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(b,I.h)}function V(I,S){var b=S>>5;S%=32;for(var P=I.g.length-b,D=[],M=0;M<P;M++)D[M]=0<S?I.i(M+b)>>>S|I.i(M+b+1)<<32-S:I.i(M+b);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Gi=o}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,_a,bS,nu,Jp,AS,PS,RS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,x){return c==Array.prototype||c==Object.prototype||(c[m]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var x=c[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var x=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in x))break e;x=x[j]}c=c[c.length-1],A=x[c],m=m(A),m!=A&&m!=null&&e(x,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var x=0,A=!1,j={next:function(){if(!A&&x<c.length){var L=x++;return{value:m(L,c[L]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,x){return c.call.apply(c.bind,arguments)}function h(c,m,x){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function p(c,m,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(c,m){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function E(c,m){function x(){}x.prototype=m.prototype,c.aa=m.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(A,j,L){for(var H=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)H[Ne-2]=arguments[Ne];return m.prototype[j].apply(A,H)}}function v(c){const m=c.length;if(0<m){const x=Array(m);for(let A=0;A<m;A++)x[A]=c[A];return x}return[]}function T(c,m){for(let x=1;x<arguments.length;x++){const A=arguments[x];if(l(A)){const j=c.length||0,L=A.length||0;c.length=j+L;for(let H=0;H<L;H++)c[j+H]=A[H]}else c.push(A)}}class w{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function C(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var N=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function V(c,m,x){for(const A in c)m.call(x,c[A],A,c)}function I(c,m){for(const x in c)m.call(void 0,c[x],x,c)}function S(c){const m={};for(const x in c)m[x]=c[x];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let x,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(x in A)c[x]=A[x];for(let L=0;L<b.length;L++)x=b[L],Object.prototype.hasOwnProperty.call(A,x)&&(c[x]=A[x])}}function D(c){var m=1;c=c.split(":");const x=[];for(;0<m&&c.length;)x.push(c.shift()),m--;return c.length&&x.push(c.join(":")),x}function M(c){a.setTimeout(()=>{throw c},0)}function k(){var c=z;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class X{constructor(){this.h=this.g=null}add(m,x){const A=ue.get();A.set(m,x),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new w(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,O=!1,z=new X,q=()=>{const c=a.Promise.resolve(void 0);Q=()=>{c.then(ie)}};var ie=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(x){M(x)}var m=ue;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}O=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};a.addEventListener("test",x,m),a.removeEventListener("test",x,m)}catch{}return c}();function rt(c,m){if(Ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(N){e:{try{R(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else x=="mouseover"?m=c.fromElement:x=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:lt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&rt.aa.h.call(this)}}E(rt,Ie);var lt={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),be=0;function Je(c,m,x,A,j){this.listener=c,this.proxy=null,this.src=m,this.type=x,this.capture=!!A,this.ha=j,this.key=++be,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $(c){this.src=c,this.g={},this.h=0}$.prototype.add=function(c,m,x,A,j){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var H=te(c,m,A,j);return-1<H?(m=c[H],x||(m.fa=!1)):(m=new Je(m,this.src,L,!!A,j),m.fa=x,c.push(m)),m};function W(c,m){var x=m.type;if(x in c.g){var A=c.g[x],j=Array.prototype.indexOf.call(A,m,void 0),L;(L=0<=j)&&Array.prototype.splice.call(A,j,1),L&&(ye(m),c.g[x].length==0&&(delete c.g[x],c.h--))}}function te(c,m,x,A){for(var j=0;j<c.length;++j){var L=c[j];if(!L.da&&L.listener==m&&L.capture==!!x&&L.ha==A)return j}return-1}var se="closure_lm_"+(1e6*Math.random()|0),Se={};function mt(c,m,x,A,j){if(Array.isArray(m)){for(var L=0;L<m.length;L++)mt(c,m[L],x,A,j);return null}return x=Ov(x),c&&c[Z]?c.K(m,x,u(A)?!!A.capture:!!A,j):Lt(c,m,x,!1,A,j)}function Lt(c,m,x,A,j,L){if(!m)throw Error("Invalid event type");var H=u(j)?!!j.capture:!!j,Ne=Th(c);if(Ne||(c[se]=Ne=new $(c)),x=Ne.add(m,x,A,H,L),x.proxy)return x;if(A=zo(),x.proxy=A,A.src=c,A.listener=x,c.addEventListener)nt||(j=H),j===void 0&&(j=!1),c.addEventListener(m.toString(),A,j);else if(c.attachEvent)c.attachEvent(jv(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function zo(){function c(x){return m.call(c.src,c.listener,x)}const m=iR;return c}function yn(c,m,x,A,j){if(Array.isArray(m))for(var L=0;L<m.length;L++)yn(c,m[L],x,A,j);else A=u(A)?!!A.capture:!!A,x=Ov(x),c&&c[Z]?(c=c.i,m=String(m).toString(),m in c.g&&(L=c.g[m],x=te(L,x,A,j),-1<x&&(ye(L[x]),Array.prototype.splice.call(L,x,1),L.length==0&&(delete c.g[m],c.h--)))):c&&(c=Th(c))&&(m=c.g[m.toString()],c=-1,m&&(c=te(m,x,A,j)),(x=-1<c?m[c]:null)&&$o(x))}function $o(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Z])W(m.i,c);else{var x=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(x,A,c.capture):m.detachEvent?m.detachEvent(jv(x),A):m.addListener&&m.removeListener&&m.removeListener(A),(x=Th(m))?(W(x,c),x.h==0&&(x.src=null,m[se]=null)):ye(c)}}}function jv(c){return c in Se?Se[c]:Se[c]="on"+c}function iR(c,m){if(c.da)c=!0;else{m=new rt(m,this);var x=c.listener,A=c.ha||c.src;c.fa&&$o(c),c=x.call(A,m)}return c}function Th(c){return c=c[se],c instanceof $?c:null}var Sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(c){return typeof c=="function"?c:(c[Sh]||(c[Sh]=function(m){return c.handleEvent(m)}),c[Sh])}function Ct(){me.call(this),this.i=new $(this),this.M=this,this.F=null}E(Ct,me),Ct.prototype[Z]=!0,Ct.prototype.removeEventListener=function(c,m,x,A){yn(this,c,m,x,A)};function Ft(c,m){var x,A=c.F;if(A)for(x=[];A;A=A.F)x.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new Ie(m,c);else if(m instanceof Ie)m.target=m.target||c;else{var j=m;m=new Ie(A,c),P(m,j)}if(j=!0,x)for(var L=x.length-1;0<=L;L--){var H=m.g=x[L];j=Yl(H,A,!0,m)&&j}if(H=m.g=c,j=Yl(H,A,!0,m)&&j,j=Yl(H,A,!1,m)&&j,x)for(L=0;L<x.length;L++)H=m.g=x[L],j=Yl(H,A,!1,m)&&j}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var x=c.g[m],A=0;A<x.length;A++)ye(x[A]);delete c.g[m],c.h--}}this.F=null},Ct.prototype.K=function(c,m,x,A){return this.i.add(String(c),m,!1,x,A)},Ct.prototype.L=function(c,m,x,A){return this.i.add(String(c),m,!0,x,A)};function Yl(c,m,x,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,L=0;L<m.length;++L){var H=m[L];if(H&&!H.da&&H.capture==x){var Ne=H.listener,gt=H.ha||H.src;H.fa&&W(c.i,H),j=Ne.call(gt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Lv(c,m,x){if(typeof c=="function")x&&(c=p(c,x));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Fv(c){c.g=Lv(()=>{c.g=null,c.i&&(c.i=!1,Fv(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class sR extends me{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wo(c){me.call(this),this.h=c,this.g={}}E(Wo,me);var Bv=[];function Uv(c){V(c.g,function(m,x){this.g.hasOwnProperty(x)&&$o(m)},c),c.g={}}Wo.prototype.N=function(){Wo.aa.N.call(this),Uv(this)},Wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ch=a.JSON.stringify,oR=a.JSON.parse,aR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ih(){}Ih.prototype.h=null;function zv(c){return c.h||(c.h=c.i())}function $v(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bh(){Ie.call(this,"d")}E(bh,Ie);function Ah(){Ie.call(this,"c")}E(Ah,Ie);var Pi={},Wv=null;function Xl(){return Wv=Wv||new Ct}Pi.La="serverreachability";function Hv(c){Ie.call(this,Pi.La,c)}E(Hv,Ie);function qo(c){const m=Xl();Ft(m,new Hv(m))}Pi.STAT_EVENT="statevent";function qv(c,m){Ie.call(this,Pi.STAT_EVENT,c),this.stat=m}E(qv,Ie);function Bt(c){const m=Xl();Ft(m,new qv(m,c))}Pi.Ma="timingevent";function Kv(c,m){Ie.call(this,Pi.Ma,c),this.size=m}E(Kv,Ie);function Ko(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Go(){this.g=!0}Go.prototype.xa=function(){this.g=!1};function lR(c,m,x,A,j,L){c.info(function(){if(c.g)if(L)for(var H="",Ne=L.split("&"),gt=0;gt<Ne.length;gt++){var Ee=Ne[gt].split("=");if(1<Ee.length){var It=Ee[0];Ee=Ee[1];var bt=It.split("_");H=2<=bt.length&&bt[1]=="type"?H+(It+"="+Ee+"&"):H+(It+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+x+`
`+H})}function cR(c,m,x,A,j,L,H){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+x+`
`+L+" "+H})}function ws(c,m,x,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+dR(c,x)+(A?" "+A:"")})}function uR(c,m){c.info(function(){return"TIMEOUT: "+m})}Go.prototype.info=function(){};function dR(c,m){if(!c.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var A=x[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var L=j[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<j.length;H++)j[H]=""}}}}return Ch(x)}catch{return m}}var Jl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ph;function Zl(){}E(Zl,Ih),Zl.prototype.g=function(){return new XMLHttpRequest},Zl.prototype.i=function(){return{}},Ph=new Zl;function Dr(c,m,x,A){this.j=c,this.i=m,this.l=x,this.R=A||1,this.U=new Wo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}var Yv={},Rh={};function kh(c,m,x){c.L=1,c.v=rc(cr(m)),c.m=x,c.P=!0,Xv(c,null)}function Xv(c,m){c.F=Date.now(),ec(c),c.A=cr(c.v);var x=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),d0(x.i,"t",A),c.C=0,x=c.j.J,c.h=new Qv,c.g=P0(c.j,x?m:null,!c.m),0<c.O&&(c.M=new sR(p(c.Y,c,c.g),c.O)),m=c.U,x=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Bv[0]=j.toString()),j=Bv);for(var L=0;L<j.length;L++){var H=mt(x,j[L],A||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),qo(),lR(c.i,c.u,c.A,c.l,c.R,c.m)}Dr.prototype.ca=function(c){c=c.target;const m=this.M;m&&ur(c)==3?m.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{const bt=ur(this.g);var m=this.g.Ba();const Es=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||v0(this.g)))){this.J||bt!=4||m==7||(m==8||0>=Es?qo(3):qo(2)),Nh(this);var x=this.g.Z();this.X=x;t:if(Jv(this)){var A=v0(this.g);c="";var j=A.length,L=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),Qo(this);var H="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(L&&m==j-1)});A.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=x==200,cR(this.i,this.u,this.A,this.l,this.R,bt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,gt=this.g;if((Ne=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ne)){var Ee=Ne;break t}}Ee=null}if(x=Ee)ws(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dh(this,x);else{this.o=!1,this.s=3,Bt(12),Ri(this),Qo(this);break e}}if(this.P){x=!0;let Rn;for(;!this.J&&this.C<H.length;)if(Rn=hR(this,H),Rn==Rh){bt==4&&(this.s=4,Bt(14),x=!1),ws(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Yv){this.s=4,Bt(15),ws(this.i,this.l,H,"[Invalid Chunk]"),x=!1;break}else ws(this.i,this.l,Rn,null),Dh(this,Rn);if(Jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||H.length!=0||this.h.h||(this.s=1,Bt(16),x=!1),this.o=this.o&&x,!x)ws(this.i,this.l,H,"[Invalid Chunked Response]"),Ri(this),Qo(this);else if(0<H.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Fh(It),It.M=!0,Bt(11))}}else ws(this.i,this.l,H,null),Dh(this,H);bt==4&&Ri(this),this.o&&!this.J&&(bt==4?C0(this.j,this):(this.o=!1,ec(this)))}else PR(this.g),x==400&&0<H.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Ri(this),Qo(this)}}}catch{}finally{}};function Jv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hR(c,m){var x=c.C,A=m.indexOf(`
`,x);return A==-1?Rh:(x=Number(m.substring(x,A)),isNaN(x)?Yv:(A+=1,A+x>m.length?Rh:(m=m.slice(A,A+x),c.C=A+x,m)))}Dr.prototype.cancel=function(){this.J=!0,Ri(this)};function ec(c){c.S=Date.now()+c.I,Zv(c,c.I)}function Zv(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ko(p(c.ba,c),m)}function Nh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(uR(this.i,this.A),this.L!=2&&(qo(),Bt(17)),Ri(this),this.s=2,Qo(this)):Zv(this,this.S-c)};function Qo(c){c.j.G==0||c.J||C0(c.j,c)}function Ri(c){Nh(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Uv(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Dh(c,m){try{var x=c.j;if(x.G!=0&&(x.g==c||Mh(x.h,c))){if(!c.K&&Mh(x.h,c)&&x.G==3){try{var A=x.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)cc(x),ac(x);else break e;Lh(x),Bt(18)}}else x.za=j[1],0<x.za-x.T&&37500>j[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ko(p(x.Za,x),6e3));if(1>=n0(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ni(x,11)}else if((c.K||x.g==c)&&cc(x),!_(m))for(j=x.Da.g.parse(m),m=0;m<j.length;m++){let Ee=j[m];if(x.T=Ee[0],Ee=Ee[1],x.G==2)if(Ee[0]=="c"){x.K=Ee[1],x.ia=Ee[2];const It=Ee[3];It!=null&&(x.la=It,x.j.info("VER="+x.la));const bt=Ee[4];bt!=null&&(x.Aa=bt,x.j.info("SVER="+x.Aa));const Es=Ee[5];Es!=null&&typeof Es=="number"&&0<Es&&(A=1.5*Es,x.L=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const Rn=c.g;if(Rn){const dc=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var L=A.h;L.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Vh(L,L.h),L.h=null))}if(A.D){const Bh=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bh&&(A.ya=Bh,je(A.I,A.D,Bh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),A=x;var H=c;if(A.qa=A0(A,A.J?A.ia:null,A.W),H.K){r0(A.h,H);var Ne=H,gt=A.L;gt&&(Ne.I=gt),Ne.B&&(Nh(Ne),ec(Ne)),A.g=H}else T0(A);0<x.i.length&&lc(x)}else Ee[0]!="stop"&&Ee[0]!="close"||Ni(x,7);else x.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ni(x,7):Oh(x):Ee[0]!="noop"&&x.l&&x.l.ta(Ee),x.v=0)}}qo(4)}catch{}}var fR=class{constructor(c,m){this.g=c,this.map=m}};function e0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n0(c){return c.h?1:c.g?c.g.size:0}function Mh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Vh(c,m){c.g?c.g.add(m):c.h=m}function r0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}e0.prototype.cancel=function(){if(this.i=i0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function i0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const x of c.g.values())m=m.concat(x.D);return m}return v(c.i)}function pR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],x=c.length,A=0;A<x;A++)m.push(c[A]);return m}m=[],x=0;for(A in c)m[x++]=c[A];return m}function mR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var x=0;x<c;x++)m.push(x);return m}m=[],x=0;for(const A in c)m[x++]=A;return m}}}function s0(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var x=mR(c),A=pR(c),j=A.length,L=0;L<j;L++)m.call(void 0,A[L],x&&x[L],c)}var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gR(c,m){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var A=c[x].indexOf("="),j=null;if(0<=A){var L=c[x].substring(0,A);j=c[x].substring(A+1)}else L=c[x];m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ki){this.h=c.h,tc(this,c.j),this.o=c.o,this.g=c.g,nc(this,c.s),this.l=c.l;var m=c.i,x=new Jo;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),a0(this,x),this.m=c.m}else c&&(m=String(c).match(o0))?(this.h=!1,tc(this,m[1]||"",!0),this.o=Yo(m[2]||""),this.g=Yo(m[3]||"",!0),nc(this,m[4]),this.l=Yo(m[5]||"",!0),a0(this,m[6]||"",!0),this.m=Yo(m[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}ki.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Xo(m,l0,!0),":");var x=this.g;return(x||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Xo(m,l0,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Xo(x,x.charAt(0)=="/"?wR:vR,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Xo(x,_R)),c.join("")};function cr(c){return new ki(c)}function tc(c,m,x){c.j=x?Yo(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function nc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function a0(c,m,x){m instanceof Jo?(c.i=m,ER(c.i,c.h)):(x||(m=Xo(m,xR)),c.i=new Jo(m,c.h))}function je(c,m,x){c.i.set(m,x)}function rc(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Yo(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xo(c,m,x){return typeof c=="string"?(c=encodeURI(c).replace(m,yR),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var l0=/[#\/\?@]/g,vR=/[#\?:]/g,wR=/[#\?]/g,xR=/[#\?@]/g,_R=/#/g;function Jo(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Mr(c){c.g||(c.g=new Map,c.h=0,c.i&&gR(c.i,function(m,x){c.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=Jo.prototype,t.add=function(c,m){Mr(this),this.i=null,c=xs(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(m),this.h+=1,this};function c0(c,m){Mr(c),m=xs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function u0(c,m){return Mr(c),m=xs(c,m),c.g.has(m)}t.forEach=function(c,m){Mr(this),this.g.forEach(function(x,A){x.forEach(function(j){c.call(m,j,A,this)},this)},this)},t.na=function(){Mr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let A=0;A<m.length;A++){const j=c[A];for(let L=0;L<j.length;L++)x.push(m[A])}return x},t.V=function(c){Mr(this);let m=[];if(typeof c=="string")u0(this,c)&&(m=m.concat(this.g.get(xs(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)m=m.concat(c[x])}return m},t.set=function(c,m){return Mr(this),this.i=null,c=xs(this,c),u0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function d0(c,m,x){c0(c,m),0<x.length&&(c.i=null,c.g.set(xs(c,m),v(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var A=m[x];const L=encodeURIComponent(String(A)),H=this.V(A);for(A=0;A<H.length;A++){var j=L;H[A]!==""&&(j+="="+encodeURIComponent(String(H[A]))),c.push(j)}}return this.i=c.join("&")};function xs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ER(c,m){m&&!c.j&&(Mr(c),c.i=null,c.g.forEach(function(x,A){var j=A.toLowerCase();A!=j&&(c0(this,A),d0(this,j,x))},c)),c.j=m}function TR(c,m){const x=new Go;if(a.Image){const A=new Image;A.onload=g(Vr,x,"TestLoadImage: loaded",!0,m,A),A.onerror=g(Vr,x,"TestLoadImage: error",!1,m,A),A.onabort=g(Vr,x,"TestLoadImage: abort",!1,m,A),A.ontimeout=g(Vr,x,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function SR(c,m){const x=new Go,A=new AbortController,j=setTimeout(()=>{A.abort(),Vr(x,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(L=>{clearTimeout(j),L.ok?Vr(x,"TestPingServer: ok",!0,m):Vr(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Vr(x,"TestPingServer: error",!1,m)})}function Vr(c,m,x,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(x)}catch{}}function CR(){this.g=new aR}function IR(c,m,x){const A=x||"";try{s0(c,function(j,L){let H=j;u(j)&&(H=Ch(j)),m.push(A+L+"="+encodeURIComponent(H))})}catch(j){throw m.push(A+"type="+encodeURIComponent("_badmap")),j}}function ic(c){this.l=c.Ub||null,this.j=c.eb||!1}E(ic,Ih),ic.prototype.g=function(){return new sc(this.l,this.j)},ic.prototype.i=function(c){return function(){return c}}({});function sc(c,m){Ct.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(sc,Ct),t=sc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function h0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Zo(this):ea(this),this.readyState==3&&h0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zo(this))},t.Qa=function(c){this.g&&(this.response=c,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ea(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=m.next();return c.join(`\r
`)};function ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f0(c){let m="";return V(c,function(x,A){m+=A,m+=":",m+=x,m+=`\r
`}),m}function jh(c,m,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=f0(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):je(c,m,x))}function Qe(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Qe,Ct);var bR=/^https?$/i,AR=["POST","PUT"];t=Qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ph.g(),this.v=this.o?zv(this.o):zv(Ph),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(L){p0(this,L);return}if(c=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)x.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())x.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(L=>L.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AR,m,void 0))||A||j||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of x)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y0(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){p0(this,L)}};function p0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,m0(c),oc(c)}function m0(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g0(this):this.bb())},t.bb=function(){g0(this)};function g0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ur(c)!=4||c.Z()!=2)){if(c.u&&ur(c)==4)Lv(c.Ea,0,c);else if(Ft(c,"readystatechange"),ur(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var A;if(A=H===0){var j=String(c.D).match(o0)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),A=!bR.test(j?j.toLowerCase():"")}x=A}if(x)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var L=2<ur(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",m0(c)}}finally{oc(c)}}}}function oc(c,m){if(c.g){y0(c);const x=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ft(c,"ready");try{x.onreadystatechange=A}catch{}}}function y0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),oR(m)}};function v0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function PR(c){const m={};c=(c.g&&2<=ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(_(c[A]))continue;var x=D(c[A]);const j=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const L=m[j]||[];m[j]=L,L.push(x)}I(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||m}function w0(c){this.Aa=0,this.i=[],this.j=new Go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new e0(c&&c.concurrentRequestLimit),this.Da=new CR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w0.prototype,t.la=8,t.G=1,t.connect=function(c,m,x,A){Bt(0),this.W=c,this.H=m||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.I=A0(this,null,this.W),lc(this)};function Oh(c){if(x0(c),c.G==3){var m=c.U++,x=cr(c.I);if(je(x,"SID",c.K),je(x,"RID",m),je(x,"TYPE","terminate"),na(c,x),m=new Dr(c,c.j,m),m.L=2,m.v=rc(cr(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=m.v,x=!0),x||(m.g=P0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ec(m)}b0(c)}function ac(c){c.g&&(Fh(c),c.g.cancel(),c.g=null)}function x0(c){ac(c),c.u&&(a.clearTimeout(c.u),c.u=null),cc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function lc(c){if(!t0(c.h)&&!c.s){c.s=!0;var m=c.Ga;Q||q(),O||(Q(),O=!0),z.add(m,c),c.B=0}}function RR(c,m){return n0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ko(p(c.Ga,c,m),I0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Dr(this,this.j,c);let L=this.o;if(this.S&&(L?(L=S(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(j.H=L,L=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=E0(this,j,m),x=cr(this.I),je(x,"RID",c),je(x,"CVER",22),this.D&&je(x,"X-HTTP-Session-Id",this.D),na(this,x),L&&(this.O?m="headers="+encodeURIComponent(String(f0(L)))+"&"+m:this.m&&jh(x,this.m,L)),Vh(this.h,j),this.Ua&&je(x,"TYPE","init"),this.P?(je(x,"$req",m),je(x,"SID","null"),j.T=!0,kh(j,x,null)):kh(j,x,m),this.G=2}}else this.G==3&&(c?_0(this,c):this.i.length==0||t0(this.h)||_0(this))};function _0(c,m){var x;m?x=m.l:x=c.U++;const A=cr(c.I);je(A,"SID",c.K),je(A,"RID",x),je(A,"AID",c.T),na(c,A),c.m&&c.o&&jh(A,c.m,c.o),x=new Dr(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),m&&(c.i=m.D.concat(c.i)),m=E0(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vh(c.h,x),kh(x,A,m)}function na(c,m){c.H&&V(c.H,function(x,A){je(m,A,x)}),c.l&&s0({},function(x,A){je(m,A,x)})}function E0(c,m,x){x=Math.min(c.i.length,x);var A=c.l?p(c.l.Na,c.l,c):null;e:{var j=c.i;let L=-1;for(;;){const H=["count="+x];L==-1?0<x?(L=j[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let Ne=!0;for(let gt=0;gt<x;gt++){let Ee=j[gt].g;const It=j[gt].map;if(Ee-=L,0>Ee)L=Math.max(0,j[gt].g-100),Ne=!1;else try{IR(It,H,"req"+Ee+"_")}catch{A&&A(It)}}if(Ne){A=H.join("&");break e}}}return c=c.i.splice(0,x),m.D=c,A}function T0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Q||q(),O||(Q(),O=!0),z.add(m,c),c.v=0}}function Lh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ko(p(c.Fa,c),I0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,S0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ko(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),ac(this),S0(this))};function Fh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function S0(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=cr(c.qa);je(m,"RID","rpc"),je(m,"SID",c.K),je(m,"AID",c.T),je(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(m,"TO",c.ja),je(m,"TYPE","xmlhttp"),na(c,m),c.m&&c.o&&jh(m,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=rc(cr(m)),x.m=null,x.P=!0,Xv(x,c)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),Lh(this),Bt(19))};function cc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function C0(c,m){var x=null;if(c.g==m){cc(c),Fh(c),c.g=null;var A=2}else if(Mh(c.h,m))x=m.D,r0(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;A=Xl(),Ft(A,new Kv(A,x)),lc(c)}else T0(c);else if(j=m.s,j==3||j==0&&0<m.X||!(A==1&&RR(c,m)||A==2&&Lh(c)))switch(x&&0<x.length&&(m=c.h,m.i=m.i.concat(x)),j){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function I0(c,m){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*m}function Ni(c,m){if(c.j.info("Error code "+m),m==2){var x=p(c.fb,c),A=c.Xa;const j=!A;A=new ki(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tc(A,"https"),rc(A),j?TR(A.toString(),x):SR(A.toString(),x)}else Bt(2);c.G=0,c.l&&c.l.sa(m),b0(c),x0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function b0(c){if(c.G=0,c.ka=[],c.l){const m=i0(c.h);(m.length!=0||c.i.length!=0)&&(T(c.ka,m),T(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function A0(c,m,x){var A=x instanceof ki?cr(x):new ki(x);if(A.g!="")m&&(A.g=m+"."+A.g),nc(A,A.s);else{var j=a.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var L=new ki(null);A&&tc(L,A),m&&(L.g=m),j&&nc(L,j),x&&(L.l=x),A=L}return x=c.D,m=c.ya,x&&m&&je(A,x,m),je(A,"VER",c.la),na(c,A),A}function P0(c,m,x){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Qe(new ic({eb:x})):new Qe(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R0(){}t=R0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){Ct.call(this),this.g=new w0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new _s(this)}E(nn,Ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Oh(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=Ch(c),c=x);m.i.push(new fR(m.Ya++,c)),m.G==3&&lc(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,nn.aa.N.call(this)};function k0(c){bh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const x in m){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(k0,bh);function N0(){Ah.call(this),this.status=1}E(N0,Ah);function _s(c){this.g=c}E(_s,R0),_s.prototype.ua=function(){Ft(this.g,"a")},_s.prototype.ta=function(c){Ft(this.g,new k0(c))},_s.prototype.sa=function(c){Ft(this.g,new N0)},_s.prototype.ra=function(){Ft(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,RS=function(){return new uc},PS=function(){return Xl()},AS=Pi,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jl.NO_ERROR=0,Jl.TIMEOUT=8,Jl.HTTP_ERROR=6,nu=Jl,Gv.COMPLETE="complete",bS=Gv,$v.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,_a=$v,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,IS=Qe}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const ax="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new wS("@firebase/firestore");function da(){return ts.logLevel}function Y(t,...e){if(ts.logLevel<=xe.DEBUG){const n=e.map(Kg);ts.debug(`Firestore (${ko}): ${t}`,...n)}}function Cr(t,...e){if(ts.logLevel<=xe.ERROR){const n=e.map(Kg);ts.error(`Firestore (${ko}): ${t}`,...n)}}function fo(t,...e){if(ts.logLevel<=xe.WARN){const n=e.map(Kg);ts.warn(`Firestore (${ko}): ${t}`,...n)}}function Kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Re(t,e){t||re()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class MM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VM{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new kS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Nt(e)}}class jM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new LM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new de(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new de(0,0))}static max(){return new ae(new de(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends pl{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const UM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends pl{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return UM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Fe.fromString(e))}static fromName(e){return new ee(Fe.fromString(e).popFirst(5))}static empty(){return new ee(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Fe(e.slice()))}}function zM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new de(n+1,0):new de(n,r));return new fi(i,ee.empty(),e)}function $M(t){return new fi(t.readTime,t.key,-1)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(ae.min(),ee.empty(),-1)}static max(){return new fi(ae.max(),ee.empty(),-1)}}function WM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==HM)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function KM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gg.oe=-1;function jd(t){return t==null}function Wu(t){return t===0&&1/t==-1/0}function GM(t){return typeof t=="number"&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cx(this.data.getIterator())}getIteratorFrom(e){return new cx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class cx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new Et(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MS("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(Re(!!t),typeof t=="string"){let e=0;const n=QM.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yg(t){const e=t.mapValue.fields.__previous_value__;return Qg(e)?Yg(e):e}function ml(t){const e=pi(t.mapValue.fields.__local_write_time__.timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class gl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qg(t)?4:JM(t)?9007199254740991:XM(t)?10:11:re()}function sr(t,e){if(t===e)return!0;const n=rs(t);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ml(t).isEqual(ml(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pi(i.timestampValue),a=pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ns(i.bytesValue).isEqual(ns(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?Wu(o)===Wu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return po(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lx(o)!==lx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!sr(o[l],a[l])))return!1;return!0}(t,e);default:return re()}}function yl(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function mo(t,e){if(t===e)return 0;const n=rs(t),r=rs(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ux(t.timestampValue,e.timestampValue);case 4:return ux(ml(t),ml(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ns(s),l=ns(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Te(a[u],l[u]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Te(et(s.latitude),et(o.latitude));return a!==0?a:Te(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=Te(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:dx(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===kc.mapValue&&o===kc.mapValue)return 0;if(s===kc.mapValue)return 1;if(o===kc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Te(l[h],d[h]);if(p!==0)return p;const g=mo(a[l[h]],u[d[h]]);if(g!==0)return g}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re()}}function ux(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=pi(t),r=pi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function dx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=mo(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function go(t){return Zp(t)}function Zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zp(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function hx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function em(t){return!!t&&"integerValue"in t}function Xg(t){return!!t&&"arrayValue"in t}function fx(t){return!!t&&"nullValue"in t}function px(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function XM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=La(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ru(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(La(this.value))}}function VS(t){const e=[];return ms(t.fields,(n,r)=>{const i=new xt([n]);if(ru(r)){const s=VS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ae.min(),ae.min(),ae.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ae.min(),ae.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ae.min(),ae.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function mx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class ot extends jS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tV(e,n,r):n==="array-contains"?new iV(e,r):n==="in"?new sV(e,r):n==="not-in"?new oV(e,r):n==="array-contains-any"?new aV(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nV(e,r):new rV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends jS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Un(e,n)}matches(e){return OS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OS(t){return t.op==="and"}function LS(t){return eV(t)&&OS(t)}function eV(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function tm(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+go(t.value);if(LS(t))return t.filters.map(e=>tm(e)).join(",");{const e=t.filters.map(n=>tm(n)).join(",");return`${t.op}(${e})`}}function FS(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&sr(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&FS(o,i.filters[a]),!0):!1}(t,e):void re()}function BS(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(BS).join(" ,")+"}"}(t):"Filter"}class tV extends ot{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class nV extends ot{constructor(e,n){super(e,"in",n),this.keys=US("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rV extends ot{constructor(e,n){super(e,"not-in",n),this.keys=US("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function US(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class iV extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xg(n)&&yl(n.arrayValue,this.value)}}class sV extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class oV extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yl(this.value.arrayValue,n)}}class aV extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function yx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lV(t,e,n,r,i,s,o)}function Jg(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function Zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gx(t.startAt,e.startAt)&&gx(t.endAt,e.endAt)}function nm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cV(t,e,n,r,i,s,o,a){return new Ol(t,e,n,r,i,s,o,a)}function Od(t){return new Ol(t)}function vx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zS(t){return t.collectionGroup!==null}function Fa(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(xt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qu(s,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new qu(xt.keyField(),r))}return e.ce}function er(t){const e=le(t);return e.le||(e.le=uV(e,Fa(t))),e.le}function uV(t,e){if(t.limitType==="F")return yx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qu(i.field,s)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return yx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rm(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function im(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return Zg(er(t),er(e))&&t.limitType===e.limitType}function $S(t){return`${Jg(er(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BS(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=mx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Fa(r),i)||r.endAt&&!function(o,a,l){const u=mx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Fa(r),i))}(t,e)}function dV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WS(t){return(e,n)=>{let r=!1;for(const i of Fa(t)){const s=hV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hV(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?mo(l,u):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new Ke(ee.comparator);function Ir(){return fV}const HS=new Ke(ee.comparator);function Ea(...t){let e=HS;for(const n of t)e=e.insert(n.key,n);return e}function qS(t){let e=HS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return Ba()}function KS(){return Ba()}function Ba(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const pV=new Ke(ee.comparator),mV=new Et(ee.comparator);function pe(...t){let e=mV;for(const n of t)e=e.add(n);return e}const gV=new Et(Te);function yV(){return gV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function GS(t){return{integerValue:""+t}}function vV(t,e){return GM(e)?GS(e):ey(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function wV(t,e,n){return t instanceof Ku?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qg(s)&&(s=Yg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vl?YS(t,e):t instanceof wl?XS(t,e):function(i,s){const o=QS(i,s),a=wx(o)+wx(i.Pe);return em(o)&&em(i.Pe)?GS(a):ey(i.serializer,a)}(t,e)}function xV(t,e,n){return t instanceof vl?YS(t,e):t instanceof wl?XS(t,e):n}function QS(t,e){return t instanceof Gu?function(r){return em(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ku extends Bd{}class vl extends Bd{constructor(e){super(),this.elements=e}}function YS(t,e){const n=JS(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class wl extends Bd{constructor(e){super(),this.elements=e}}function XS(t,e){let n=JS(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class Gu extends Bd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wx(t){return et(t.integerValue||t.doubleValue)}function JS(t){return Xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _V(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vl&&i instanceof vl||r instanceof wl&&i instanceof wl?po(r.elements,i.elements,sr):r instanceof Gu&&i instanceof Gu?sr(r.Pe,i.Pe):r instanceof Ku&&i instanceof Ku}(t.transform,e.transform)}class EV{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function ZS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ty(t.key,bn.none()):new Ll(t.key,t.data,bn.none());{const n=t.data,r=Gt.empty();let i=new Et(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new cn(i.toArray()),bn.none())}}function TV(t,e,n){t instanceof Ll?function(i,s,o){const a=i.value.clone(),l=_x(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,s,o){if(!iu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_x(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(eC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ua(t,e,n,r){return t instanceof Ll?function(s,o,a,l){if(!iu(s.precondition,o))return a;const u=s.value.clone(),d=Ex(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(s,o,a,l){if(!iu(s.precondition,o))return a;const u=Ex(s.fieldTransforms,l,o),d=o.data;return d.setAll(eC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return iu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function SV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QS(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function xx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&po(r,i,(s,o)=>_V(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends Ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends Ud{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _x(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xV(o,a,n[i]))}return r}function Ex(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wV(s,o,e))}return r}class ty extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CV extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ZS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,r)=>xx(n,r))&&po(this.baseMutations,e.baseMutations,(n,r)=>xx(n,r))}}class ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return pV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ve;function PV(t){switch(t){default:return re();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function tC(t){if(t===void 0)return Cr("GRPC error has no .code"),F.UNKNOWN;switch(t){case it.OK:return F.OK;case it.CANCELLED:return F.CANCELLED;case it.UNKNOWN:return F.UNKNOWN;case it.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case it.INTERNAL:return F.INTERNAL;case it.UNAVAILABLE:return F.UNAVAILABLE;case it.UNAUTHENTICATED:return F.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case it.NOT_FOUND:return F.NOT_FOUND;case it.ALREADY_EXISTS:return F.ALREADY_EXISTS;case it.PERMISSION_DENIED:return F.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case it.ABORTED:return F.ABORTED;case it.OUT_OF_RANGE:return F.OUT_OF_RANGE;case it.UNIMPLEMENTED:return F.UNIMPLEMENTED;case it.DATA_LOSS:return F.DATA_LOSS;default:return re()}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Gi([4294967295,4294967295],0);function Tx(t){const e=RV().encode(t),n=new CS;return n.update(e),new Uint8Array(n.digest())}function Sx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,s],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ta(`Invalid padding: ${n}`);if(r<0)throw new Ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(kV)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Tx(e),[r,i]=Sx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ry(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Tx(e),[r,i]=Sx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zd(ae.min(),i,new Ke(Te),Ir(),pe())}}class Fl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nC{constructor(e,n){this.targetId=e,this.me=n}}class rC{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Cx{constructor(){this.fe=0,this.ge=bx(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Fl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=Ix(),this.Qe=new Ke(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(nm(s))if(r===0){const o=new ee(s.path);this.Ue(n,o,Mt.newNoDocument(o,ae.min()))}else Re(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ns(r).toUint8Array()}catch(l){if(l instanceof MS)return fo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ry(o,i,s)}catch(l){return fo(l instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&nm(a.target)){const l=new ee(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zd(e,n,this.Qe,this.ke,r);return this.ke=Ir(),this.qe=Ix(),this.Qe=new Ke(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Cx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ix(){return new Ke(ee.comparator)}function bx(){return new Ke(ee.comparator)}const DV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VV={and:"AND",or:"OR"};class jV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OV(t,e){return Qu(t,e.toTimestamp())}function tr(t){return Re(!!t),ae.fromTimestamp(function(n){const r=pi(n);return new de(r.seconds,r.nanos)}(t))}function iy(t,e){return om(t,e).canonicalString()}function om(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sC(t){const e=Fe.fromString(t);return Re(uC(e)),e}function am(t,e){return iy(t.databaseId,e.path)}function wf(t,e){const n=sC(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(aC(n))}function oC(t,e){return iy(t.databaseId,e)}function LV(t){const e=sC(t);return e.length===4?Fe.emptyPath():aC(e)}function lm(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aC(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ax(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function FV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Re(d===void 0||typeof d=="string"),St.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array),St.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:tC(u.code);return new G(d,u.message||"")}(o);n=new rC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wf(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):ae.min(),a=new Gt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new su(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wf(t,r.document),s=r.readTime?tr(r.readTime):ae.min(),o=Mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wf(t,r.document),s=r.removedTargetIds||[];n=new su([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AV(i,s),a=r.targetId;n=new nC(a,o)}}return n}function BV(t,e){let n;if(e instanceof Ll)n={update:Ax(t,e.key,e.value)};else if(e instanceof ty)n={delete:am(t,e.key)};else if(e instanceof Ci)n={update:Ax(t,e.key,e.data),updateMask:QV(e.fieldMask)};else{if(!(e instanceof CV))return re();n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:OV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function UV(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(ae.min())&&(o=tr(s)),new EV(o,i.transformResults||[])}(n,e))):[]}function zV(t,e){return{documents:[oC(t,e.path)]}}function $V(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oC(t,i);const s=function(u){if(u.length!==0)return cC(Un.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ps(p.field),direction:qV(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function WV(t){let e=LV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=lC(h);return p instanceof Un&&LS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(E){return new qu(Rs(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,jd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Hu(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Hu(g,p)}(n.endAt)),cV(e,i,o,s,a,"F",l,u)}function HV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rs(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rs(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>lC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function qV(t){return DV[t]}function KV(t){return MV[t]}function GV(t){return VV[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Rs(t){return xt.fromServerFormat(t.fieldPath)}function cC(t){return t instanceof ot?function(n){if(n.op==="=="){if(px(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(fx(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(px(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(fx(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:KV(n.op),value:n.value}}}(t):t instanceof Un?function(n){const r=n.getFilters().map(i=>cC(i));return r.length===1?r[0]:{compositeFilter:{op:GV(n.op),filters:r}}}(t):re()}function QV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ct=e}}function XV(t){const e=WV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.un=new ZV}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(fi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class ZV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yo(0)}static kn(){return new yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ua(r.mutation,i,cn.empty(),de.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ea();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ir();const o=Ba(),a=function(){return Ba()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ci)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ua(d.mutation,u,d.mutation.getFieldMask(),de.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new tj(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ba();let i=new Ke((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||cn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=KS();d.forEach(p=>{if(!s.has(p)){const g=ZS(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve($i());let a=-1,l=s;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(d=>({batchId:a,changes:qS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ea();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const u=function(h,p){return new Ol(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mt.newInvalidDocument(d)))});let a=Ea();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Ua(d.mutation,u,cn.empty(),de.now()),Fd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:XV(i.bundledQuery),readTime:tr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.overlays=new Ke(ee.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$i();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=$i(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=$i(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=$i(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bV(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.Tr=new Et(ht.Er),this.dr=new Et(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new Fe([])),r=new ht(n,e),i=new ht(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new Fe([])),r=new ht(n,e),i=new ht(n,e+1);let s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(ht.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Te);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new ht(new ee(s),0);let a=new Et(Te);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ht(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.Mr=e,this.docs=function(){return new Ke(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ir();const o=n.path,a=new ee(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WM($M(d),r)<=0||(i.has(d.key)||Fd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lj(this)}getSize(e){return B.resolve(this.size)}}class lj extends ej{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.persistence=e,this.Nr=new No(n=>Jg(n),Zg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sy,this.targetCount=0,this.kr=yo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gg(0),this.Kr=!1,this.Kr=!0,this.$r=new sj,this.referenceDelegate=e(this),this.Ur=new cj(this),this.indexManager=new JV,this.remoteDocumentCache=function(i){return new aj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YV(n),this.Gr=new rj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ij,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new oj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new dj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class dj extends qM{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Jr=new sy,this.Yr=null}static Zr(e){return new oy(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ee.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ay(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yD()?8:KM(mD())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hj;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(da()<=xe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(da()<=xe.DEBUG&&Y("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(da()<=xe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):B.resolve())}Yi(e,n){if(vx(n))return B.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,im(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return vx(n)||i.isEqual(ae.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(da()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.rs(e,o,n,zM(i,-1)).next(a=>a))})}ts(e,n){let r=new Et(WS(e));return n.forEach((i,s)=>{Fd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return da()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",As(n)),this.Ji.getDocumentsMatchingQuery(e,n,fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ke(Te),this._s=new No(s=>Jg(s),Zg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function mj(t,e,n,r){return new pj(t,e,n,r)}async function dC(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function gj(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=B.resolve();return p.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(v=>{const T=u.docVersions.get(E);Re(T!==null),v.version.compareTo(T)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hC(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yj(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(St.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(v,T,w){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=Ir(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(vj(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ae.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function vj(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ir();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function wj(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xj(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function cm(t,e,n){const r=le(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jl(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Px(t,e,n){const r=le(t);let i=ae.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=le(l),p=h._s.get(d);return p!==void 0?B.resolve(h.os.get(p)):h.Ur.getTargetData(u,d)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:pe())).next(a=>(_j(r,dV(e),a),{documents:a,Ts:s})))}function _j(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Rx{constructor(){this.activeTargetIds=yV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ej{constructor(){this.so=new Rx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function xf(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class Ij extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=xf(),l=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw fo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Sj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=xf();return new Promise((o,a)=>{const l=new IS;l.setWithCredentials(!0),l.listenOnce(bS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nu.NO_ERROR:const d=l.getResponseJson();Y(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case nu.TIMEOUT:Y(Rt,`RPC '${e}' ${s} timed out`),a(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const h=l.getStatus();if(Y(Rt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(T){const w=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(g.status);a(new G(E,g.message))}else a(new G(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(F.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Y(Rt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Y(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=xf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RS(),a=PS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Rt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const E=new Cj({Io:T=>{g?Y(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(Y(Rt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Y(Rt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},To:()=>h.close()}),v=(T,w,_)=>{T.listen(w,C=>{try{_(C)}catch(R){setTimeout(()=>{throw R},0)}})};return v(h,_a.EventType.OPEN,()=>{g||(Y(Rt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),v(h,_a.EventType.CLOSE,()=>{g||(g=!0,Y(Rt,`RPC '${e}' stream ${i} transport closed`),E.So())}),v(h,_a.EventType.ERROR,T=>{g||(g=!0,fo(Rt,`RPC '${e}' stream ${i} transport errored:`,T),E.So(new G(F.UNAVAILABLE,"The operation could not be completed")))}),v(h,_a.EventType.MESSAGE,T=>{var w;if(!g){const _=T.data[0];Re(!!_);const C=_,R=C.error||((w=C[0])===null||w===void 0?void 0:w.error);if(R){Y(Rt,`RPC '${e}' stream ${i} received error:`,R);const N=R.status;let V=function(b){const P=it[b];if(P!==void 0)return tC(P)}(N),I=R.message;V===void 0&&(V=F.INTERNAL,I="Unknown error status: "+N+" with message "+R.message),g=!0,E.So(new G(V,I)),h.close()}else Y(Rt,`RPC '${e}' stream ${i} received:`,_),E.bo(_)}}),v(a,AS.STAT_EVENT,T=>{T.stat===Jp.PROXY?Y(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Jp.NOPROXY&&Y(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new jV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bj extends pC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=FV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?tr(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=nm(l)?{documents:zV(s,l)}:{query:$V(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iC(s,o.resumeToken);const u=sm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Qu(s,o.snapshotVersion.toTimestamp());const u=sm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=HV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.a_(n)}}class Aj extends pC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UV(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=lm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,om(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,om(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Rj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{gs(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=le(l);u.L_.add(4),await Bl(u),u.q_.set("Unknown"),u.L_.delete(4),await Wd(u)}(this))})}),this.q_=new Rj(r,i)}}async function Wd(t){if(gs(t))for(const e of t.B_)await e(!0)}async function Bl(t){for(const e of t.B_)await e(!1)}function mC(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dy(n)?uy(n):Do(n).r_()&&cy(n,e))}function ly(t,e){const n=le(t),r=Do(n);n.N_.delete(e),r.r_()&&gC(n,e),n.N_.size===0&&(r.r_()?r.o_():gs(n)&&n.q_.set("Unknown"))}function cy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(t).A_(e)}function gC(t,e){t.Q_.xe(e),Do(t).R_(e)}function uy(t){t.Q_=new NV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Do(t).start(),t.q_.v_()}function dy(t){return gs(t)&&!Do(t).n_()&&t.N_.size>0}function gs(t){return le(t).L_.size===0}function yC(t){t.Q_=void 0}async function Nj(t){t.q_.set("Online")}async function Dj(t){t.N_.forEach((e,n)=>{cy(t,e)})}async function Mj(t,e){yC(t),dy(t)?(t.q_.M_(e),uy(t)):t.q_.set("Unknown")}async function Vj(t,e,n){if(t.q_.set("Online"),e instanceof rC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof su?t.Q_.Ke(e):e instanceof nC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await hC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),gC(s,l);const h=new Yr(d.target,l,u,d.sequenceNumber);cy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!jl(e))throw e;t.L_.add(1),await Bl(t),t.q_.set("Offline"),n||(n=()=>hC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wd(t)})}function vC(t,e){return e().catch(n=>Yu(t,n,e))}async function Hd(t){const e=le(t),n=mi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jj(e);)try{const i=await wj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Oj(e,i)}catch(i){await Yu(e,i)}wC(e)&&xC(e)}function jj(t){return gs(t)&&t.O_.length<10}function Oj(t,e){t.O_.push(e);const n=mi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wC(t){return gs(t)&&!mi(t).n_()&&t.O_.length>0}function xC(t){mi(t).start()}async function Lj(t){mi(t).p_()}async function Fj(t){const e=mi(t);for(const n of t.O_)e.m_(n.mutations)}async function Bj(t,e,n){const r=t.O_.shift(),i=ny.from(r,e,n);await vC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hd(t)}async function Uj(t,e){e&&mi(t).V_&&await async function(r,i){if(function(o){return PV(o)&&o!==F.ABORTED}(i.code)){const s=r.O_.shift();mi(r).s_(),await vC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hd(r)}}(t,e),wC(t)&&xC(t)}async function Nx(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.L_.add(3),await Bl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wd(n)}async function zj(t,e){const n=le(t);e?(n.L_.delete(2),await Wd(n)):e||(n.L_.add(2),await Bl(n),n.q_.set("Unknown"))}function Do(t){return t.K_||(t.K_=function(n,r,i){const s=le(n);return s.w_(),new bj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Nj.bind(null,t),Ro:Dj.bind(null,t),mo:Mj.bind(null,t),d_:Vj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dy(t)?uy(t):t.q_.set("Unknown")):(await t.K_.stop(),yC(t))})),t.K_}function mi(t){return t.U_||(t.U_=function(n,r,i){const s=le(n);return s.w_(),new Aj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Lj.bind(null,t),mo:Uj.bind(null,t),f_:Fj.bind(null,t),g_:Bj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hd(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new hy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),jl(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ea(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new to(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.W_=new Ke(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vo(e,n,to.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Wj{constructor(){this.queries=Mx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=Mx(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}}function Mx(){return new No(t=>$S(t),Ld)}async function py(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new $j,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=fy(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&gy(n)}async function my(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hj(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&gy(n)}function qj(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function gy(t){t.Y_.forEach(e=>{e.next()})}var um,Vx;(Vx=um||(um={})).ea="default",Vx.Cache="cache";class yy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class EC{constructor(e){this.key=e}}class Kj{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=WS(e),this.Ra=new to(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Dx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=Fd(this.query,h)?h:null,E=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?E!==v&&(r.track({type:3,doc:g}),T=!0):this.ga(p,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(l||u)&&(a=!0)),T&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,E){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return v(g)-v(E)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new vo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new EC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Gj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qj{constructor(e){this.key=e,this.va=!1}}class Yj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new No(a=>$S(a),Ld),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(ee.comparator),this.Na=new Map,this.La=new sy,this.Ba={},this.ka=new Map,this.qa=yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Xj(t,e,n=!0){const r=AC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await TC(r,e,n,!0),i}async function Jj(t,e){const n=AC(t);await TC(n,e,!0,!1)}async function TC(t,e,n,r){const i=await xj(t.localStore,er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Zj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mC(t.remoteStore,i),a}async function Zj(t,e,n,r,i){t.Ka=(h,p,g)=>async function(v,T,w,_){let C=T.view.ma(w);C.ns&&(C=await Px(v.localStore,T.query,!1).then(({documents:I})=>T.view.ma(I,C)));const R=_&&_.targetChanges.get(T.targetId),N=_&&_.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(C,v.isPrimaryClient,R,N);return Ox(v,T.targetId,V.wa),V.snapshot}(t,h,p,g);const s=await Px(t.localStore,e,!0),o=new Kj(e,s.Ts),a=o.ma(s.documents),l=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Ox(t,n,u.wa);const d=new Gj(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function eO(t,e,n){const r=le(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ld(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ly(r.remoteStore,i.targetId),dm(r,i.targetId)}).catch(Vl)):(dm(r,i.targetId),await cm(r.localStore,i.targetId,!0))}async function tO(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ly(n.remoteStore,r.targetId))}async function nO(t,e,n){const r=cO(t);try{const i=await function(o,a){const l=le(o),u=de.now(),d=a.reduce((g,E)=>g.add(E.key),pe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Ir(),v=pe();return l.cs.getEntries(g,d).next(T=>{E=T,E.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(T=>{h=T;const w=[];for(const _ of a){const C=SV(_,h.get(_.key).overlayedDocument);C!=null&&w.push(new Ci(_.key,C,VS(C.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,a)}).next(T=>{p=T;const w=T.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,T.batchId,w)})}).then(()=>({batchId:p.batchId,changes:qS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ke(Te)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ul(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=fy(i,"Failed to persist write");n.reject(s)}}async function SC(t,e){const n=le(t);try{const r=await yj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Re(o.va):i.removedDocuments.size>0&&(Re(o.va),o.va=!1))}),await Ul(n,r,e)}catch(r){await Vl(r)}}function jx(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&gy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rO(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ke(ee.comparator);o=o.insert(s,Mt.newNoDocument(s,ae.min()));const a=pe().add(s),l=new zd(ae.min(),new Map,new Ke(Te),o,a);await SC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),vy(r)}else await cm(r.localStore,e,!1).then(()=>dm(r,e,n)).catch(Vl)}async function iO(t,e){const n=le(t),r=e.batch.batchId;try{const i=await gj(n.localStore,e);IC(n,r,null),CC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ul(n,i)}catch(i){await Vl(i)}}async function sO(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Re(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);IC(r,e,n),CC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ul(r,i)}catch(i){await Vl(i)}}function CC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function IC(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bC(t,r)})}function bC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ly(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),vy(t))}function Ox(t,e,n){for(const r of n)r instanceof _C?(t.La.addReference(r.key,e),oO(t,r)):r instanceof EC?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bC(t,r.key)):re()}function oO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),vy(t))}function vy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(Fe.fromString(e)),r=t.qa.next();t.Na.set(r,new Qj(n)),t.Oa=t.Oa.insert(n,r),mC(t.remoteStore,new Yr(er(Od(n.path)),r,"TargetPurposeLimboResolution",Gg.oe))}}async function Ul(t,e,n){const r=le(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=ay.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,p=>B.forEach(p.$i,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>B.forEach(p.Ui,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!jl(h))throw h;Y("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.os.get(p),E=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(p,v)}}}(r.localStore,s))}async function aO(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await dC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new G(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ul(n,r.hs)}}function lO(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function AC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.Ca.d_=Hj.bind(null,e.eventManager),e.Ca.$a=qj.bind(null,e.eventManager),e}function cO(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,e),e}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mj(this.persistence,new fj,e.initialUser,this.serializer)}Ga(e){return new uj(oy.Zr,this.serializer)}Wa(e){return new Ej}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await zj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wj}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=function(s){return new Ij(s)}(e.databaseInfo);return function(s,o,a,l){return new Pj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jx(this.syncEngine,n,0),function(){return kx.D()?new kx:new Tj}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new Yj(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Bl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=NS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ef(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dO(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Nx(e.remoteStore,i)),t._onlineComponents=e}async function dO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Ef(t,new Xu)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Ef(t,new Xu);return t._offlineComponents}async function PC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await Lx(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await Lx(t,new hm))),t._onlineComponents}function hO(t){return PC(t).then(e=>e.syncEngine)}async function Ju(t){const e=await PC(t),n=e.eventManager;return n.onListen=Xj.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function fO(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new wy({next:p=>{d.Za(),o.enqueueAndForget(()=>my(s,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new yy(Od(a.path),d,{includeMetadataChanges:!0,_a:!0});return py(s,h)}(await Ju(t),t.asyncQueue,e,n,r)),r.promise}function pO(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new wy({next:p=>{d.Za(),o.enqueueAndForget(()=>my(s,h)),p.fromCache&&l.source==="server"?u.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new yy(a,d,{includeMetadataChanges:!0,_a:!0});return py(s,h)}(await Ju(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mO(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bx(t){if(!ee.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ux(t){if(ee.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DM;switch(r.type){case"firstParty":return new OM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fx.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Fx.delete(n),r.terminate())}(this),Promise.resolve()}}function gO(t,e,n,r={}){var i;const s=(t=Zt(t,Kd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nt.MOCK_USER;else{a=pD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nt(u)}t._authCredentials=new MM(new kS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class li extends ys{constructor(e,n,r){super(e,n,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ee(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function De(t,e,...n){if(t=ir(t),kC("collection","path",e),t instanceof Kd){const r=Fe.fromString(e,...n);return Ux(r),new li(t,null,r)}{if(!(t instanceof jt||t instanceof li))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Ux(r),new li(t.firestore,null,r)}}function ct(t,e,...n){if(t=ir(t),arguments.length===1&&(e=NS.newId()),kC("doc","path",e),t instanceof Kd){const r=Fe.fromString(e,...n);return Bx(r),new jt(t,null,new ee(r))}{if(!(t instanceof jt||t instanceof li))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Bx(r),new jt(t.firestore,t instanceof li?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fC(this,"async_queue_retry"),this.Vu=()=>{const r=_f();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!jl(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=hy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Wx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class br extends Kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $x,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function yO(t,e){const n=typeof t=="object"?t:TM(),r=typeof t=="string"?t:"(default)",i=wM(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hD("firestore");s&&gO(i,...s)}return i}function Gd(t){if(t._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vO(t),t._firestoreClient}function vO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new YM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(St.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=/^__.*__$/;class xO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}class NC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Ty{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DC(this.Cu)&&wO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _O{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Qu(e,n,r,i=!1){return new Ty({Cu:e,methodName:n,qu:r,path:xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yd(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new _O(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MC(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",o,r);const a=VC(r,o);let l,u;if(s.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=fm(e,h,n);if(!o.contains(p))throw new G(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);OC(d,p)||d.push(p)}l=new cn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new xO(new Gt(a),l,u)}class Xd extends xy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function EO(t,e,n,r){const i=t.Qu(1,e,n);Sy("Data must be an object, but it was:",i,r);const s=[],o=Gt.empty();ms(r,(l,u)=>{const d=Cy(e,l,n);u=ir(u);const h=i.Nu(d);if(u instanceof Xd)s.push(d);else{const p=zl(u,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new cn(s);return new NC(o,a,i.fieldTransforms)}function TO(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[fm(e,r,n)],l=[i];if(s.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(fm(e,s[p])),l.push(s[p+1]);const u=[],d=Gt.empty();for(let p=a.length-1;p>=0;--p)if(!OC(u,a[p])){const g=a[p];let E=l[p];E=ir(E);const v=o.Nu(g);if(E instanceof Xd)u.push(g);else{const T=zl(E,v);T!=null&&(u.push(g),d.set(g,T))}}const h=new cn(u);return new NC(d,h,o.fieldTransforms)}function SO(t,e,n,r=!1){return zl(n,t.Qu(r?4:3,e))}function zl(t,e){if(jC(t=ir(t)))return Sy("Unsupported field value:",e,t),VC(t,e);if(t instanceof xy)return function(r,i){if(!DC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=zl(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=de.fromDate(r);return{timestampValue:Qu(i.serializer,s)}}if(r instanceof de){const s=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qu(i.serializer,s)}}if(r instanceof _y)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:iC(i.serializer,r._byteString)};if(r instanceof jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ey)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return ey(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qd(r)}`)}(t,e)}function VC(t,e){const n={};return DS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,(r,i)=>{const s=zl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof de||t instanceof _y||t instanceof wo||t instanceof jt||t instanceof xy||t instanceof Ey)}function Sy(t,e,n){if(!jC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function fm(t,e,n){if((e=ir(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw Zu("Field path arguments must be of type string or ",t,!1,void 0,n)}const CO=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(CO)>=0)throw Zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qd(...e.split("."))._internalPath}catch{throw Zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(F.INVALID_ARGUMENT,a+t+l)}function OC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IO extends LC{data(){return super.data()}}function Iy(t,e){return typeof e=="string"?Cy(t,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class bO extends by{}function is(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ay).length,a=s.filter(l=>l instanceof Jd).length;if(o>1||o>0&&a>0)throw new G(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jd extends bO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jd(e,n,r)}_apply(e){const n=this._parse(e);return BC(e._query,n),new ys(e.firestore,e.converter,rm(e._query,n))}_parse(e){const n=Yd(e.firestore);return function(s,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qx(h,d);const g=[];for(const E of h)g.push(Hx(l,s,E));p={arrayValue:{values:g}}}else p=Hx(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qx(h,d),p=SO(a,o,h,d==="in"||d==="not-in");return ot.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ss(t,e,n){const r=e,i=Iy("where",t);return Jd._create(i,r,n)}class Ay extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ay(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)BC(o,l),o=rm(o,l)}(e._query,n),new ys(e.firestore,e.converter,rm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hx(t,e,n){if(typeof(n=ir(n))=="string"){if(n==="")throw new G(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(e)&&n.indexOf("/")!==-1)throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!ee.isDocumentKey(r))throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hx(t,new ee(r))}if(n instanceof jt)return hx(t,n._key);throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function qx(t,e){if(!Array.isArray(t)||t.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AO{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new Ey(s)}convertGeoPoint(e){return new _y(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const n=pi(e);return new de(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Re(uC(r));const i=new gl(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zC extends LC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ou extends zC{data(e={}){return super.data(e)}}class $C{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ou(this._firestore,this._userDataWriter,r.key,r,new Sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ou(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ou(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:PO(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){t=Zt(t,jt);const e=Zt(t.firestore,br);return fO(Gd(e),t._key).then(n=>HC(e,t,n))}class Py extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function on(t){t=Zt(t,ys);const e=Zt(t.firestore,br),n=Gd(e),r=new Py(e);return FC(t._query),pO(n,t._query).then(i=>new $C(e,r,t,i))}function RO(t,e,n){t=Zt(t,jt);const r=Zt(t.firestore,br),i=UC(t.converter,e);return eh(r,[MC(Yd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,bn.none())])}function On(t,e,n,...r){t=Zt(t,jt);const i=Zt(t.firestore,br),s=Yd(i);let o;return o=typeof(e=ir(e))=="string"||e instanceof Qd?TO(s,"updateDoc",t._key,e,n,r):EO(s,"updateDoc",t._key,e),eh(i,[o.toMutation(t._key,bn.exists(!0))])}function Zd(t){return eh(Zt(t.firestore,br),[new ty(t._key,bn.none())])}function xn(t,e){const n=Zt(t.firestore,br),r=ct(t),i=UC(t.converter,e);return eh(n,[MC(Yd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function WC(t,...e){var n,r,i;t=ir(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Wx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Wx(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof jt)u=Zt(t.firestore,br),d=Od(t._key.path),l={next:h=>{e[o]&&e[o](HC(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Zt(t,ys);u=Zt(h.firestore,br),d=h._query;const p=new Py(u);l={next:g=>{e[o]&&e[o](new $C(u,p,h,g))},error:e[o+1],complete:e[o+2]},FC(t._query)}return function(p,g,E,v){const T=new wy(v),w=new yy(g,T,E);return p.asyncQueue.enqueueAndForget(async()=>py(await Ju(p),w)),()=>{T.Za(),p.asyncQueue.enqueueAndForget(async()=>my(await Ju(p),w))}}(Gd(u),d,a,l)}function eh(t,e){return function(r,i){const s=new yr;return r.asyncQueue.enqueueAndForget(async()=>nO(await hO(r),i,s)),s.promise}(Gd(t),e)}function HC(t,e,n){const r=n.docs.get(e._key),i=new Py(t);return new zC(t,i,e._key,r,new Sa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ko=i})(EM),$u(new hl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new br(new VM(r.getProvider("auth-internal")),new FM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),eo(ax,"4.7.3",e),eo(ax,"4.7.3","esm2017")})();var kO="firebase",NO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(kO,NO,"app");const DO={apiKey:"AIzaSyDzLyTPK-kvmPNKKFufD0CTZHTI6NWq3QE",authDomain:"aktwgs-65f34.firebaseapp.com",projectId:"aktwgs-65f34",storageBucket:"aktwgs-65f34.firebasestorage.app",messagingSenderId:"762157998257",appId:"1:762157998257:web:508f6bc6a63e2161ce4290"},MO=ES(DO),oe=yO(MO);function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function VO(t,e){const n=y.createContext(e),r=s=>{const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function th(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:p,children:g,...E}=h,v=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,T=y.useMemo(()=>E,Object.values(E));return f.jsx(v.Provider,{value:T,children:g})};u.displayName=s+"Provider";function d(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,E=y.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,jO(i,...e)]}function jO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function OO(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...E}=h,v=(p==null?void 0:p[t][l])||a,T=y.useMemo(()=>E,Object.values(E));return f.jsx(v.Provider,{value:T,children:g})}function d(h,p){const g=(p==null?void 0:p[t][l])||a,E=y.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,LO(i,...e)]}function LO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function FO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qC(...t){return e=>t.forEach(n=>FO(n,e))}function Ge(...t){return y.useCallback(qC(...t),t)}var os=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),s=i.find(UO);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return f.jsx(pm,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return f.jsx(pm,{...r,ref:e,children:n})});os.displayName="Slot";var pm=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const i=$O(n);return y.cloneElement(n,{...zO(r,n.props),ref:e?qC(e,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});pm.displayName="SlotClone";var BO=({children:t})=>f.jsx(f.Fragment,{children:t});function UO(t){return y.isValidElement(t)&&t.type===BO}function zO(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function $O(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KC(t){const e=t+"CollectionProvider",[n,r]=OO(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:v}=g,T=Br.useRef(null),w=Br.useRef(new Map).current;return f.jsx(i,{scope:E,itemMap:w,collectionRef:T,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Br.forwardRef((g,E)=>{const{scope:v,children:T}=g,w=s(a,v),_=Ge(E,w.collectionRef);return f.jsx(os,{ref:_,children:T})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Br.forwardRef((g,E)=>{const{scope:v,children:T,...w}=g,_=Br.useRef(null),C=Ge(E,_),R=s(u,v);return Br.useEffect(()=>(R.itemMap.set(_,{ref:_,...w}),()=>void R.itemMap.delete(_))),f.jsx(os,{[d]:"",ref:C,children:T})});h.displayName=u;function p(g){const E=s(t+"CollectionConsumer",g);return Br.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const w=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((R,N)=>w.indexOf(R.ref.current)-w.indexOf(N.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function WO(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...E}=h,v=(p==null?void 0:p[t][l])||a,T=y.useMemo(()=>E,Object.values(E));return f.jsx(v.Provider,{value:T,children:g})}function d(h,p){const g=(p==null?void 0:p[t][l])||a,E=y.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,HO(i,...e)]}function HO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var $t=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},qO=eE.useId||(()=>{}),KO=0;function ci(t){const[e,n]=y.useState(qO());return $t(()=>{t||n(r=>r??String(KO++))},[t]),t||(e?`radix-${e}`:"")}var GO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=GO.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?os:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QO(t,e){t&&Ao.flushSync(()=>t.dispatchEvent(e))}function or(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=YO({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=or(n),l=y.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else i(u)},[s,t,i,a]);return[o,l]}function YO({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=or(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var XO=y.createContext(void 0);function Ry(t){const e=y.useContext(XO);return t||e||"ltr"}var Tf="rovingFocusGroup.onEntryFocus",JO={bubbles:!1,cancelable:!0},nh="RovingFocusGroup",[mm,GC,ZO]=KC(nh),[e4,QC]=WO(nh,[ZO]),[t4,n4]=e4(nh),YC=y.forwardRef((t,e)=>f.jsx(mm.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(mm.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(r4,{...t,ref:e})})}));YC.displayName=nh;var r4=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=y.useRef(null),g=Ge(e,p),E=Ry(s),[v=null,T]=xo({prop:o,defaultProp:a,onChange:l}),[w,_]=y.useState(!1),C=or(u),R=GC(n),N=y.useRef(!1),[V,I]=y.useState(0);return y.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(Tf,C),()=>S.removeEventListener(Tf,C)},[C]),f.jsx(t4,{scope:n,orientation:r,dir:E,loop:i,currentTabStopId:v,onItemFocus:y.useCallback(S=>T(S),[T]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>I(S=>S-1),[]),children:f.jsx(we.div,{tabIndex:w||V===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{N.current=!0}),onFocus:fe(t.onFocus,S=>{const b=!N.current;if(S.target===S.currentTarget&&b&&!w){const P=new CustomEvent(Tf,JO);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=R().filter(J=>J.focusable),M=D.find(J=>J.active),k=D.find(J=>J.id===v),ue=[M,k,...D].filter(Boolean).map(J=>J.ref.current);ZC(ue,d)}}N.current=!1}),onBlur:fe(t.onBlur,()=>_(!1))})})}),XC="RovingFocusGroupItem",JC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=ci(),l=s||a,u=n4(XC,n),d=u.currentTabStopId===l,h=GC(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return y.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),f.jsx(mm.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:f.jsx(we.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,E=>{r?u.onItemFocus(l):E.preventDefault()}),onFocus:fe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:fe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){u.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const v=o4(E,u.orientation,u.dir);if(v!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const _=w.indexOf(E.currentTarget);w=u.loop?a4(w,_+1):w.slice(_+1)}setTimeout(()=>ZC(w))}})})})});JC.displayName=XC;var i4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function o4(t,e,n){const r=s4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return i4[r]}function ZC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function a4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var l4=YC,c4=JC;function u4(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Mo=t=>{const{present:e,children:n}=t,r=d4(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Ge(r.ref,h4(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Mo.displayName="Presence";function d4(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=u4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Dc(r.current);s.current=a==="mounted"?u:"none"},[a]),$t(()=>{const u=r.current,d=i.current;if(d!==t){const p=s.current,g=Dc(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),$t(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const v=Dc(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=g=>{g.target===e&&(s.current=Dc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Dc(t){return(t==null?void 0:t.animationName)||"none"}function h4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ky="Tabs",[f4,N$]=th(ky,[QC]),eI=QC(),[p4,Ny]=f4(ky),tI=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Ry(a),[h,p]=xo({prop:r,onChange:i,defaultProp:s});return f.jsx(p4,{scope:n,baseId:ci(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:f.jsx(we.div,{dir:d,"data-orientation":o,...u,ref:e})})});tI.displayName=ky;var nI="TabsList",rI=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Ny(nI,n),o=eI(n);return f.jsx(l4,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(we.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});rI.displayName=nI;var iI="TabsTrigger",sI=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=Ny(iI,n),a=eI(n),l=lI(o.baseId,r),u=cI(o.baseId,r),d=r===o.value;return f.jsx(c4,{asChild:!0,...a,focusable:!i,active:d,children:f.jsx(we.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:fe(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});sI.displayName=iI;var oI="TabsContent",aI=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=Ny(oI,n),l=lI(a.baseId,r),u=cI(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(Mo,{present:i||d,children:({present:p})=>f.jsx(we.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&s})})});aI.displayName=oI;function lI(t,e){return`${t}-trigger-${e}`}function cI(t,e){return`${t}-content-${e}`}var m4=tI,uI=rI,dI=sI,hI=aI;function fI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function g4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fI(t))&&(r&&(r+=" "),r+=e);return r}const Dy="-",y4=t=>{const e=w4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Dy);return a[0]===""&&a.length!==1&&a.shift(),pI(a,e)||v4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},pI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Dy);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Gx=/^\[(.+)\]$/,v4=t=>{if(Gx.test(t)){const e=Gx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},w4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _4(Object.entries(t.classGroups),n).forEach(([s,o])=>{gm(o,r,s,e)}),r},gm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Qx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(x4(i)){gm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{gm(o,Qx(e,s),n,r)})})},Qx=(t,e)=>{let n=t;return e.split(Dy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},x4=t=>t.isThemeGetter,_4=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,E4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},mI="!",T4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let T=0;T<a.length;T++){let w=a[T];if(u===0){if(w===i&&(r||a.slice(T,T+s)===e)){l.push(a.slice(d,T)),d=T+s;continue}if(w==="/"){h=T;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(mI),E=g?p.substring(1):p,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},S4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},C4=t=>({cache:E4(t.cacheSize),parseClassName:T4(t),...y4(t)}),I4=/\s+/,b4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(I4);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let E=!!g,v=r(E?p.substring(0,g):p);if(!v){if(!E){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}E=!1}const T=S4(d).join(":"),w=h?T+mI:T,_=w+v;if(s.includes(_))continue;s.push(_);const C=i(v,E);for(let R=0;R<C.length;++R){const N=C[R];s.push(w+N)}a=u+(a.length>0?" "+a:a)}return a};function A4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gI(e))&&(r&&(r+=" "),r+=n);return r}const gI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gI(t[r]))&&(n&&(n+=" "),n+=e);return n};function P4(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=C4(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=b4(l,n);return i(l,d),d}return function(){return s(A4.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,R4=/^\d+\/\d+$/,k4=new Set(["px","full","screen"]),N4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dr=t=>no(t)||k4.has(t)||R4.test(t),Or=t=>Vo(t,"length",W4),no=t=>!!t&&!Number.isNaN(Number(t)),Sf=t=>Vo(t,"number",no),ha=t=>!!t&&Number.isInteger(Number(t)),O4=t=>t.endsWith("%")&&no(t.slice(0,-1)),ce=t=>yI.test(t),Lr=t=>N4.test(t),L4=new Set(["length","size","percentage"]),F4=t=>Vo(t,L4,vI),B4=t=>Vo(t,"position",vI),U4=new Set(["image","url"]),z4=t=>Vo(t,U4,q4),$4=t=>Vo(t,"",H4),fa=()=>!0,Vo=(t,e,n)=>{const r=yI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},W4=t=>D4.test(t)&&!M4.test(t),vI=()=>!1,H4=t=>V4.test(t),q4=t=>j4.test(t),K4=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),i=Oe("borderColor"),s=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),u=Oe("grayscale"),d=Oe("hueRotate"),h=Oe("invert"),p=Oe("gap"),g=Oe("gradientColorStops"),E=Oe("gradientColorStopPositions"),v=Oe("inset"),T=Oe("margin"),w=Oe("opacity"),_=Oe("padding"),C=Oe("saturate"),R=Oe("scale"),N=Oe("sepia"),V=Oe("skew"),I=Oe("space"),S=Oe("translate"),b=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],M=()=>[ce,e],k=()=>["",dr,Or],X=()=>["auto",no,ce],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ce],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[no,ce];return{cacheSize:500,separator:":",theme:{colors:[fa],spacing:[dr,Or],blur:["none","",Lr,ce],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Lr,ce],borderSpacing:M(),borderWidth:k(),contrast:ie(),grayscale:z(),hueRotate:ie(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[O4,Or],inset:D(),margin:D(),opacity:ie(),padding:M(),saturate:ie(),scale:ie(),sepia:z(),skew:ie(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Lr]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ce]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ha,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ha,ce]}],"grid-cols":[{"grid-cols":[fa]}],"col-start-end":[{col:["auto",{span:["full",ha,ce]},ce]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[fa]}],"row-start-end":[{row:["auto",{span:[ha,ce]},ce]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Lr]},Lr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Lr,Or]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sf]}],"font-family":[{font:[fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",no,Sf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dr,Or]}],"underline-offset":[{"underline-offset":["auto",dr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),B4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},z4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[dr,ce]}],"outline-w":[{outline:[dr,Or]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[dr,Or]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Lr,$4]}],"shadow-color":[{shadow:[fa]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Lr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[ha,ce]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dr,Or,Sf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},G4=P4(K4);function ke(...t){return G4(g4(t))}const My=y.createContext({});function Vy(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const rh=y.createContext(null),jy=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Q4 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y4({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=y.useContext(jy);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f.jsx(Q4,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const X4=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Vy(J4),l=y.useId(),u=y.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),d=y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),u]:[n,u]);return y.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(Y4,{isPresent:n,children:t})),f.jsx(rh.Provider,{value:d,children:t})};function J4(){return new Map}function wI(t=!0){const e=y.useContext(rh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=y.useId();y.useEffect(()=>{t&&i(s)},[t]);const o=y.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Mc=t=>t.key||"";function Yx(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Oy=typeof window<"u",xI=Oy?y.useLayoutEffect:y.useEffect,_I=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=wI(o),u=y.useMemo(()=>Yx(t),[t]),d=o&&!a?[]:u.map(Mc),h=y.useRef(!0),p=y.useRef(u),g=Vy(()=>new Map),[E,v]=y.useState(u),[T,w]=y.useState(u);xI(()=>{h.current=!1,p.current=u;for(let R=0;R<T.length;R++){const N=Mc(T[R]);d.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[T,d.length,d.join("-")]);const _=[];if(u!==E){let R=[...u];for(let N=0;N<T.length;N++){const V=T[N],I=Mc(V);d.includes(I)||(R.splice(N,0,V),_.push(V))}s==="wait"&&_.length&&(R=_),w(Yx(R)),v(u);return}const{forceRender:C}=y.useContext(My);return f.jsx(f.Fragment,{children:T.map(R=>{const N=Mc(R),V=o&&!a?!1:u===T||d.includes(N),I=()=>{if(g.has(N))g.set(N,!0);else return;let S=!0;g.forEach(b=>{b||(S=!1)}),S&&(C==null||C(),w(p.current),o&&(l==null||l()),r&&r())};return f.jsx(X4,{isPresent:V,initial:!h.current||n?void 0:!1,custom:V?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:V?void 0:I,children:R},N)})})},dn=t=>t;let ym=dn;function Ly(t){let e;return()=>(e===void 0&&(e=t()),e)}const _o=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vr=t=>t*1e3,wr=t=>t/1e3,Z4={skipAnimations:!1,useManualTiming:!1};function eL(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const g=h&&r?e:n;return d&&s.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Vc=["read","resolveKeyframes","update","preRender","render","postRender"],tL=40;function EI(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Vc.reduce((w,_)=>(w[_]=eL(s),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:p}=o,g=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,tL),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},E=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Vc.reduce((w,_)=>{const C=o[_];return w[_]=(R,N=!1,V=!1)=>(n||E(),C.schedule(R,N,V)),w},{}),cancel:w=>{for(let _=0;_<Vc.length;_++)o[Vc[_]].cancel(w)},state:i,steps:o}}const{schedule:Ue,cancel:gi,state:vt,steps:Cf}=EI(typeof requestAnimationFrame<"u"?requestAnimationFrame:dn,!0),TI=y.createContext({strict:!1}),Xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eo={};for(const t in Xx)Eo[t]={isEnabled:e=>Xx[t].some(n=>!!e[n])};function nL(t){for(const e in t)Eo[e]={...Eo[e],...t[e]}}const rL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rL.has(t)}let SI=t=>!ed(t);function iL(t){t&&(SI=e=>e.startsWith("on")?!ed(e):t(e))}try{iL(require("@emotion/is-prop-valid").default)}catch{}function sL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(SI(i)||n===!0&&ed(i)||!e&&!ed(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function oL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ih=y.createContext({});function xl(t){return typeof t=="string"||Array.isArray(t)}function sh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Fy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],By=["initial",...Fy];function oh(t){return sh(t.animate)||By.some(e=>xl(t[e]))}function CI(t){return!!(oh(t)||t.variants)}function aL(t,e){if(oh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xl(n)?n:void 0,animate:xl(r)?r:void 0}}return t.inherit!==!1?e:{}}function lL(t){const{initial:e,animate:n}=aL(t,y.useContext(ih));return y.useMemo(()=>({initial:e,animate:n}),[Jx(e),Jx(n)])}function Jx(t){return Array.isArray(t)?t.join(" "):t}const cL=Symbol.for("motionComponentSymbol");function $s(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uL(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$s(n)&&(n.current=r))},[e])}const Uy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dL="framerAppearId",II="data-"+Uy(dL),{schedule:zy,cancel:D$}=EI(queueMicrotask,!1),bI=y.createContext({});function hL(t,e,n,r,i){var s,o;const{visualElement:a}=y.useContext(ih),l=y.useContext(TI),u=y.useContext(rh),d=y.useContext(jy).reducedMotion,h=y.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=y.useContext(bI);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&fL(h.current,n,i,g);const E=y.useRef(!1);y.useInsertionEffect(()=>{p&&E.current&&p.update(n,u)});const v=n[II],T=y.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return xI(()=>{p&&(E.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),zy.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),y.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,v)}),T.current=!1))}),p}function fL(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AI(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&$s(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function AI(t){if(t)return t.options.allowProjection!==!1?t.projection:AI(t.parent)}function pL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&nL(t);function a(u,d){let h;const p={...y.useContext(jy),...u,layoutId:mL(u)},{isStatic:g}=p,E=lL(u),v=r(u,g);if(!g&&Oy){gL();const T=yL(p);h=T.MeasureLayout,E.visualElement=hL(i,v,p,e,T.ProjectionNode)}return f.jsxs(ih.Provider,{value:E,children:[h&&E.visualElement?f.jsx(h,{visualElement:E.visualElement,...p}):null,n(i,u,uL(v,E.visualElement,d),v,g,E.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=y.forwardRef(a);return l[cL]=i,l}function mL({layoutId:t}){const e=y.useContext(My).id;return e&&t!==void 0?e+"-"+t:t}function gL(t,e){y.useContext(TI).strict}function yL(t){const{drag:e,layout:n}=Eo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $y(t){return typeof t!="string"||t.includes("-")?!1:!!(vL.indexOf(t)>-1||/[A-Z]/u.test(t))}function Zx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Wy(t,e,n,r){if(typeof e=="function"){const[i,s]=Zx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Zx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const vm=t=>Array.isArray(t),wL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xL=t=>vm(t)?t[t.length-1]||0:t,Vt=t=>!!(t&&t.getVelocity);function au(t){const e=Vt(t)?t.get():t;return wL(e)?e.toValue():e}function _L({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:EL(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const PI=t=>(e,n)=>{const r=y.useContext(ih),i=y.useContext(rh),s=()=>_L(t,e,r,i);return n?s():Vy(s)};function EL(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=au(s[p]);let{initial:o,animate:a}=t;const l=oh(t),u=CI(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!sh(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const E=Wy(t,p[g]);if(E){const{transitionEnd:v,transition:T,...w}=E;for(const _ in w){let C=w[_];if(Array.isArray(C)){const R=d?C.length-1:0;C=C[R]}C!==null&&(i[_]=C)}for(const _ in v)i[_]=v[_]}}}return i}const jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vs=new Set(jo),RI=t=>e=>typeof e=="string"&&e.startsWith(t),kI=RI("--"),TL=RI("var(--"),Hy=t=>TL(t)?SL.test(t.split("/*")[0].trim()):!1,SL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ar=(t,e,n)=>n>e?e:n<t?t:n,Oo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_l={...Oo,transform:t=>Ar(0,1,t)},jc={...Oo,default:1},$l=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=$l("deg"),nr=$l("%"),ne=$l("px"),CL=$l("vh"),IL=$l("vw"),e1={...nr,parse:t=>nr.parse(t)/100,transform:t=>nr.transform(t*100)},bL={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},AL={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:Ur,skewX:Ur,skewY:Ur,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:_l,originX:e1,originY:e1,originZ:ne},t1={...Oo,transform:Math.round},qy={...bL,...AL,zIndex:t1,size:ne,fillOpacity:_l,strokeOpacity:_l,numOctaves:t1},PL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RL=jo.length;function kL(t,e,n){let r="",i=!0;for(let s=0;s<RL;s++){const o=jo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=NI(a,qy[o]);if(!l){i=!1;const d=PL[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Ky(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(vs.has(l)){o=!0;continue}else if(kI(l)){i[l]=u;continue}else{const d=NI(u,qy[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=kL(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const NL={offset:"stroke-dashoffset",array:"stroke-dasharray"},DL={offset:"strokeDashoffset",array:"strokeDasharray"};function ML(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?NL:DL;t[s.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[s.array]=`${o} ${a}`}function n1(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function VL(t,e,n){const r=n1(e,t.x,t.width),i=n1(n,t.y,t.height);return`${r} ${i}`}function Gy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(Ky(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:E}=t;p.transform&&(E&&(g.transform=p.transform),delete p.transform),E&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=VL(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&ML(p,o,a,l,!1)}const Qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DI=()=>({...Qy(),attrs:{}}),Yy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const VI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jI(t,e,n,r){MI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(VI.has(i)?i:Uy(i),e.attrs[i])}const td={};function jL(t){Object.assign(td,t)}function OI(t,{layout:e,layoutId:n}){return vs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!td[t]||t==="opacity")}function Xy(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Vt(i[o])||e.style&&Vt(e.style[o])||OI(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function LI(t,e,n){const r=Xy(t,e,n);for(const i in t)if(Vt(t[i])||Vt(e[i])){const s=jo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function OL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const r1=["x","y","width","height","cx","cy","r"],LL={useVisualState:PI({scrapeMotionValuesFromProps:LI,createRenderState:DI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(vs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<r1.length;a++){const l=r1[a];t[l]!==e[l]&&(o=!0)}o&&Ue.read(()=>{OL(n,r),Ue.render(()=>{Gy(r,i,Yy(n.tagName),t.transformTemplate),jI(n,r)})})}})},FL={useVisualState:PI({scrapeMotionValuesFromProps:Xy,createRenderState:Qy})};function FI(t,e,n){for(const r in e)!Vt(e[r])&&!OI(r,n)&&(t[r]=e[r])}function BL({transformTemplate:t},e){return y.useMemo(()=>{const n=Qy();return Ky(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UL(t,e){const n=t.style||{},r={};return FI(r,n,t),Object.assign(r,BL(t,e)),r}function zL(t,e){const n={},r=UL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function $L(t,e,n,r){const i=y.useMemo(()=>{const s=DI();return Gy(s,e,Yy(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};FI(s,t.style,t),i.style={...s,...i.style}}return i}function WL(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=($y(n)?$L:zL)(r,s,o,n),u=sL(r,typeof n=="string",t),d=n!==y.Fragment?{...u,...l,ref:i}:{},{children:h}=r,p=y.useMemo(()=>Vt(h)?h.get():h,[h]);return y.createElement(n,{...d,children:p})}}function HL(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...$y(r)?LL:FL,preloadedFeatures:t,useRender:WL(i),createVisualElement:e,Component:r};return pL(o)}}function BI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ah(t,e,n){const r=t.getProps();return Wy(r,e,n!==void 0?n:r.custom,t)}const qL=Ly(()=>window.ScrollTimeline!==void 0);class KL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(qL()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GL extends KL{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Jy(t,e){return t?t[e]||t.default||t:void 0}const wm=2e4;function UI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wm;)e+=n,r=t.next(e);return e>=wm?1/0:e}function Zy(t){return typeof t=="function"}function i1(t,e){t.timeline=e,t.onfinish=null}const ev=t=>Array.isArray(t)&&typeof t[0]=="number",QL={linearEasing:void 0};function YL(t,e){const n=Ly(t);return()=>{var r;return(r=QL[e])!==null&&r!==void 0?r:n()}}const nd=YL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zI=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(_o(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function $I(t){return!!(typeof t=="function"&&nd()||!t||typeof t=="string"&&(t in xm||nd())||ev(t)||Array.isArray(t)&&t.every($I))}const Ca=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ca([0,.65,.55,1]),circOut:Ca([.55,0,1,.45]),backIn:Ca([.31,.01,.66,-.59]),backOut:Ca([.33,1.53,.69,.99])};function WI(t,e){if(t)return typeof t=="function"&&nd()?zI(t,e):ev(t)?Ca(t):Array.isArray(t)?t.map(n=>WI(n,e)||xm.easeOut):xm[t]}const Nn={x:!1,y:!1};function HI(){return Nn.x||Nn.y}function XL(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function qI(t,e){const n=XL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function s1(t){return e=>{e.pointerType==="touch"||HI()||t(e)}}function JL(t,e,n={}){const[r,i,s]=qI(t,n),o=s1(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=s1(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const KI=(t,e)=>e?t===e?!0:KI(t,e.parentElement):!1,tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eF(t){return ZL.has(t.tagName)||t.tabIndex!==-1}const Ia=new WeakSet;function o1(t){return e=>{e.key==="Enter"&&t(e)}}function If(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=o1(()=>{if(Ia.has(n))return;If(n,"down");const i=o1(()=>{If(n,"up")}),s=()=>If(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function a1(t){return tv(t)&&!HI()}function nF(t,e,n={}){const[r,i,s]=qI(t,n),o=a=>{const l=a.currentTarget;if(!a1(a)||Ia.has(l))return;Ia.add(l);const u=e(a),d=(g,E)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!a1(g)||!Ia.has(l))&&(Ia.delete(l),typeof u=="function"&&u(g,{success:E}))},h=g=>{d(g,n.useGlobalTarget||KI(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!eF(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>tF(u,i),i)}),s}function rF(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}const GI=new Set(["width","height","top","left","right","bottom",...jo]);let lu;function iF(){lu=void 0}const rr={now:()=>(lu===void 0&&rr.set(vt.isProcessing||Z4.useManualTiming?vt.timestamp:performance.now()),lu),set:t=>{lu=t,queueMicrotask(iF)}};function nv(t,e){t.indexOf(e)===-1&&t.push(e)}function rv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class iv{constructor(){this.subscriptions=[]}add(e){return nv(this.subscriptions,e),()=>rv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QI(t,e){return e?t*(1e3/e):0}const l1=30,sF=t=>!isNaN(parseFloat(t));class oF{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=rr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>l1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,l1);return QI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(t,e){return new oF(t,e)}function aF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,El(n))}function lF(t,e){const n=ah(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=xL(s[o]);aF(t,o,a)}}function cF(t){return!!(Vt(t)&&t.add)}function _m(t,e){const n=t.getValue("willChange");if(cF(n))return n.add(e)}function YI(t){return t.props[II]}const XI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uF=1e-7,dF=12;function hF(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=XI(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>uF&&++a<dF);return o}function Wl(t,e,n,r){if(t===e&&n===r)return dn;const i=s=>hF(s,0,1,t,n);return s=>s===0||s===1?s:XI(i(s),e,r)}const JI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZI=t=>e=>1-t(1-e),eb=Wl(.33,1.53,.69,.99),sv=ZI(eb),tb=JI(sv),nb=t=>(t*=2)<1?.5*sv(t):.5*(2-Math.pow(2,-10*(t-1))),ov=t=>1-Math.sin(Math.acos(t)),rb=ZI(ov),ib=JI(ov),sb=t=>/^0[^.\s]+$/u.test(t);function fF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sb(t):!0}const za=t=>Math.round(t*1e5)/1e5,av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pF(t){return t==null}const mF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lv=(t,e)=>n=>!!(typeof n=="string"&&mF.test(n)&&n.startsWith(t)||e&&!pF(n)&&Object.prototype.hasOwnProperty.call(n,e)),ob=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(av);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},gF=t=>Ar(0,255,t),bf={...Oo,transform:t=>Math.round(gF(t))},Wi={test:lv("rgb","red"),parse:ob("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bf.transform(t)+", "+bf.transform(e)+", "+bf.transform(n)+", "+za(_l.transform(r))+")"};function yF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Em={test:lv("#"),parse:yF,transform:Wi.transform},Ws={test:lv("hsl","hue"),parse:ob("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+nr.transform(za(e))+", "+nr.transform(za(n))+", "+za(_l.transform(r))+")"},kt={test:t=>Wi.test(t)||Em.test(t)||Ws.test(t),parse:t=>Wi.test(t)?Wi.parse(t):Ws.test(t)?Ws.parse(t):Em.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wi.transform(t):Ws.transform(t)},vF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(av))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vF))===null||n===void 0?void 0:n.length)||0)>0}const ab="number",lb="color",xF="var",_F="var(",c1="${}",EF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(EF,l=>(kt.test(l)?(r.color.push(s),i.push(lb),n.push(kt.parse(l))):l.startsWith(_F)?(r.var.push(s),i.push(xF),n.push(l)):(r.number.push(s),i.push(ab),n.push(parseFloat(l))),++s,c1)).split(c1);return{values:n,split:a,indexes:r,types:i}}function cb(t){return Tl(t).values}function ub(t){const{split:e,types:n}=Tl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===ab?s+=za(i[o]):a===lb?s+=kt.transform(i[o]):s+=i[o]}return s}}const TF=t=>typeof t=="number"?0:t;function SF(t){const e=cb(t);return ub(t)(e.map(TF))}const yi={test:wF,parse:cb,createTransformer:ub,getAnimatableNone:SF},CF=new Set(["brightness","contrast","saturate","opacity"]);function IF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(av)||[];if(!r)return t;const i=n.replace(r,"");let s=CF.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const bF=/\b([a-z-]*)\(.*?\)/gu,Tm={...yi,getAnimatableNone:t=>{const e=t.match(bF);return e?e.map(IF).join(" "):t}},AF={...qy,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Tm,WebkitFilter:Tm},cv=t=>AF[t];function db(t,e){let n=cv(t);return n!==Tm&&(n=yi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PF=new Set(["auto","none","0"]);function RF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!PF.has(s)&&Tl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=db(n,i)}const u1=t=>t===Oo||t===ne,d1=(t,e)=>parseFloat(t.split(", ")[e]),h1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return d1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?d1(s[1],t):0}},kF=new Set(["x","y","z"]),NF=jo.filter(t=>!kF.has(t));function DF(t){const e=[];return NF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const To={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:h1(4,13),y:h1(5,14)};To.translateX=To.x;To.translateY=To.y;const Qi=new Set;let Sm=!1,Cm=!1;function hb(){if(Cm){const t=Array.from(Qi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=DF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cm=!1,Sm=!1,Qi.forEach(t=>t.complete()),Qi.clear()}function fb(){Qi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cm=!0)})}function MF(){fb(),hb()}class uv{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qi.add(this),Sm||(Sm=!0,Ue.read(fb),Ue.resolveKeyframes(hb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),VF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jF(t){const e=VF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function mb(t,e,n=1){const[r,i]=jF(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return pb(o)?parseFloat(o):o}return Hy(i)?mb(i,e,n+1):i}const gb=t=>e=>e.test(t),OF={test:t=>t==="auto",parse:t=>t},yb=[Oo,ne,nr,Ur,IL,CL,OF],f1=t=>yb.find(gb(t));class vb extends uv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Hy(u))){const d=mb(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!GI.has(r)||e.length!==2)return;const[i,s]=e,o=f1(i),a=f1(s);if(o!==a)if(u1(o)&&u1(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)fF(e[i])&&r.push(i);r.length&&RF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=To[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=To[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const p1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yi.test(t)||t==="0")&&!t.startsWith("url("));function LF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=p1(i,e),a=p1(s,e);return!o||!a?!1:LF(t)||(n==="spring"||Zy(n))&&r}const BF=t=>t!==null;function lh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(BF),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const UF=40;class wb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MF(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=rr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!FF(e,r,i,s))if(o)this.options.duration=0;else{l&&l(lh(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const We=(t,e,n)=>t+(e-t)*n;function Af(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Af(l,a,t+1/3),s=Af(l,a,t),o=Af(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function rd(t,e){return n=>n>0?e:t}const Pf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},$F=[Em,Wi,Ws],WF=t=>$F.find(e=>e.test(t));function m1(t){const e=WF(t);if(!e)return!1;let n=e.parse(t);return e===Ws&&(n=zF(n)),n}const g1=(t,e)=>{const n=m1(t),r=m1(e);if(!n||!r)return rd(t,e);const i={...n};return s=>(i.red=Pf(n.red,r.red,s),i.green=Pf(n.green,r.green,s),i.blue=Pf(n.blue,r.blue,s),i.alpha=We(n.alpha,r.alpha,s),Wi.transform(i))},HF=(t,e)=>n=>e(t(n)),Hl=(...t)=>t.reduce(HF),Im=new Set(["none","hidden"]);function qF(t,e){return Im.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KF(t,e){return n=>We(t,e,n)}function dv(t){return typeof t=="number"?KF:typeof t=="string"?Hy(t)?rd:kt.test(t)?g1:YF:Array.isArray(t)?xb:typeof t=="object"?kt.test(t)?g1:GF:rd}function xb(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>dv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function GF(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function QF(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const YF=(t,e)=>{const n=yi.createTransformer(e),r=Tl(t),i=Tl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Im.has(t)&&!i.values.length||Im.has(e)&&!r.values.length?qF(t,e):Hl(xb(QF(r,i),i.values),n):rd(t,e)};function _b(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):dv(t)(t,e)}const XF=5;function Eb(t,e,n){const r=Math.max(e-XF,0);return QI(n-t(r),e-r)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rf=.001;function JF({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:r=Ye.mass}){let i,s,o=1-e;o=Ar(Ye.minDamping,Ye.maxDamping,o),t=Ar(Ye.minDuration,Ye.maxDuration,wr(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,g=bm(u,o),E=Math.exp(-h);return Rf-p/g*E},s=u=>{const h=u*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-h),v=bm(Math.pow(u,2),o);return(-i(u)+Rf>0?-1:1)*((p-g)*E)/v}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Rf+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=e3(i,s,a);if(t=vr(t),isNaN(l))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const ZF=12;function e3(t,e,n){let r=n;for(let i=1;i<ZF;i++)r=r-t(r)/e(r);return r}function bm(t,e){return t*Math.sqrt(1-e*e)}const t3=["duration","bounce"],n3=["stiffness","damping","mass"];function y1(t,e){return e.some(n=>t[n]!==void 0)}function r3(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!y1(t,n3)&&y1(t,t3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ar(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ye.mass,stiffness:i,damping:s}}else{const n=JF(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function Tb(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=r3({...n,velocity:-wr(n.velocity||0)}),E=p||0,v=u/(2*Math.sqrt(l*d)),T=o-s,w=wr(Math.sqrt(l/d)),_=Math.abs(T)<5;r||(r=_?Ye.restSpeed.granular:Ye.restSpeed.default),i||(i=_?Ye.restDelta.granular:Ye.restDelta.default);let C;if(v<1){const N=bm(w,v);C=V=>{const I=Math.exp(-v*w*V);return o-I*((E+v*w*T)/N*Math.sin(N*V)+T*Math.cos(N*V))}}else if(v===1)C=N=>o-Math.exp(-w*N)*(T+(E+w*T)*N);else{const N=w*Math.sqrt(v*v-1);C=V=>{const I=Math.exp(-v*w*V),S=Math.min(N*V,300);return o-I*((E+v*w*T)*Math.sinh(S)+N*T*Math.cosh(S))/N}}const R={calculatedDuration:g&&h||null,next:N=>{const V=C(N);if(g)a.done=N>=h;else{let I=0;v<1&&(I=N===0?vr(E):Eb(C,N,V));const S=Math.abs(I)<=r,b=Math.abs(o-V)<=i;a.done=S&&b}return a.value=a.done?o:V,a},toString:()=>{const N=Math.min(UI(R),wm),V=zI(I=>R.next(N*I).value,N,30);return N+"ms "+V}};return R}function v1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,E=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const T=h+v,w=o===void 0?T:o(T);w!==T&&(v=w-h);const _=S=>-v*Math.exp(-S/r),C=S=>w+_(S),R=S=>{const b=_(S),P=C(S);p.done=Math.abs(b)<=u,p.value=p.done?w:P};let N,V;const I=S=>{g(p.value)&&(N=S,V=Tb({keyframes:[p.value,E(p.value)],velocity:Eb(C,S,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:S=>{let b=!1;return!V&&N===void 0&&(b=!0,R(S),I(S)),N!==void 0&&S>=N?V.next(S-N):(!b&&R(S),p)}}}const i3=Wl(.42,0,1,1),s3=Wl(0,0,.58,1),Sb=Wl(.42,0,.58,1),o3=t=>Array.isArray(t)&&typeof t[0]!="number",w1={linear:dn,easeIn:i3,easeInOut:Sb,easeOut:s3,circIn:ov,circInOut:ib,circOut:rb,backIn:sv,backInOut:tb,backOut:eb,anticipate:nb},x1=t=>{if(ev(t)){ym(t.length===4);const[e,n,r,i]=t;return Wl(e,n,r,i)}else if(typeof t=="string")return ym(w1[t]!==void 0),w1[t];return t};function a3(t,e,n){const r=[],i=n||_b,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||dn:e;a=Hl(l,a)}r.push(a)}return r}function l3(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(ym(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=a3(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=_o(t[h],t[h+1],d);return a[h](p)};return n?d=>u(Ar(t[0],t[s-1],d)):u}function c3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=_o(0,e,r);t.push(We(n,1,i))}}function u3(t){const e=[0];return c3(e,t.length-1),e}function d3(t,e){return t.map(n=>n*e)}function h3(t,e){return t.map(()=>e||Sb).splice(0,t.length-1)}function id({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=o3(r)?r.map(x1):x1(r),s={done:!1,value:e[0]},o=d3(n&&n.length===e.length?n:u3(e),t),a=l3(o,e,{ease:Array.isArray(i)?i:h3(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const f3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ue.update(e,!0),stop:()=>gi(e),now:()=>vt.isProcessing?vt.timestamp:rr.now()}},p3={decay:v1,inertia:v1,tween:id,keyframes:id,spring:Tb},m3=t=>t/100;class hv extends wb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||uv,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Zy(n)?n:p3[n]||id;let l,u;a!==id&&typeof e[0]!="number"&&(l=Hl(m3,_b(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=UI(d));const{calculatedDuration:h}=d,p=h+i,g=p*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:E,repeatDelay:v,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,R=s;if(g){const S=Math.min(this.currentTime,d)/h;let b=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&b--,b=Math.min(b,g+1),!!(b%2)&&(E==="reverse"?(P=1-P,v&&(P-=v/h)):E==="mirror"&&(R=o)),C=Ar(0,1,P)*h}const N=_?{done:!1,value:l[0]}:R.next(C);a&&(N.value=a(N.value));let{done:V}=N;!_&&u!==null&&(V=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return I&&i!==void 0&&(N.value=lh(l,this.options,i)),T&&T(N.value),I&&this.finish(),N}get duration(){const{resolved:e}=this;return e?wr(e.calculatedDuration):0}get time(){return wr(this.currentTime)}set time(e){e=vr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=f3,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const g3=new Set(["opacity","clipPath","filter","transform"]);function y3(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=WI(a,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const v3=Ly(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sd=10,w3=2e4;function x3(t){return Zy(t.type)||t.type==="spring"||!$I(t.ease)}function _3(t,e){const n=new hv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<w3;)r=n.sample(s),i.push(r.value),s+=sd;return{times:void 0,keyframes:i,duration:s-sd,ease:"linear"}}const Cb={anticipate:nb,backInOut:tb,circInOut:ib};function E3(t){return t in Cb}class _1 extends wb{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new vb(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&nd()&&E3(s)&&(s=Cb[s]),x3(this.options)){const{onComplete:h,onUpdate:p,motionValue:g,element:E,...v}=this.options,T=_3(e,v);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,i=T.times,s=T.ease,o="keyframes"}const d=y3(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(i1(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(lh(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return dn;const{animation:r}=n;i1(r,e)}return dn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...g}=this.options,E=new hv({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=vr(this.time);u.setWithVelocity(E.sample(v-sd).value,E.sample(v).value,sd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return v3()&&r&&g3.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const T3={type:"spring",stiffness:500,damping:25,restSpeed:10},S3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),C3={type:"keyframes",duration:.8},I3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b3=(t,{keyframes:e})=>e.length>2?C3:vs.has(t)?t.startsWith("scale")?S3(e[1]):T3:I3;function A3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const fv=(t,e,n,r={},i,s)=>o=>{const a=Jy(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};A3(a)||(d={...d,...b3(t,d)}),d.duration&&(d.duration=vr(d.duration)),d.repeatDelay&&(d.repeatDelay=vr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=lh(d.keyframes,a);if(p!==void 0)return Ue.update(()=>{d.onUpdate(p),d.onComplete()}),new GL([])}return!s&&_1.supports(d)?new _1(d):new hv(d)};function P3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ib(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),g=l[h];if(g===void 0||d&&P3(d,h))continue;const E={delay:n,...Jy(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const w=YI(t);if(w){const _=window.MotionHandoffAnimation(w,h,Ue);_!==null&&(E.startTime=_,v=!0)}}_m(t,h),p.start(fv(h,p,g,t.shouldReduceMotion&&GI.has(h)?{type:!1}:E,t,v));const T=p.animation;T&&u.push(T)}return a&&Promise.all(u).then(()=>{Ue.update(()=>{a&&lF(t,a)})}),u}function Am(t,e,n={}){var r;const i=ah(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Ib(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return R3(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function R3(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(k3).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Am(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function k3(t,e){return t.sortNodePosition(e)}function N3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Am(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Am(t,e,n);else{const i=typeof e=="function"?ah(t,e,n.custom):e;r=Promise.all(Ib(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const D3=By.length;function bb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<D3;n++){const r=By[n],i=t.props[r];(xl(i)||i===!1)&&(e[r]=i)}return e}const M3=[...Fy].reverse(),V3=Fy.length;function j3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>N3(t,n,r)))}function O3(t){let e=j3(t),n=E1(),r=!0;const i=l=>(u,d)=>{var h;const p=ah(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:g,transitionEnd:E,...v}=p;u={...u,...v,...E}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=bb(t.parent)||{},h=[],p=new Set;let g={},E=1/0;for(let T=0;T<V3;T++){const w=M3[T],_=n[w],C=u[w]!==void 0?u[w]:d[w],R=xl(C),N=w===l?_.isActive:null;N===!1&&(E=T);let V=C===d[w]&&C!==u[w]&&R;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),_.protectedKeys={...g},!_.isActive&&N===null||!C&&!_.prevProp||sh(C)||typeof C=="boolean")continue;const I=L3(_.prevProp,C);let S=I||w===l&&_.isActive&&!V&&R||T>E&&R,b=!1;const P=Array.isArray(C)?C:[C];let D=P.reduce(i(w),{});N===!1&&(D={});const{prevResolvedValues:M={}}=_,k={...M,...D},X=Q=>{S=!0,p.has(Q)&&(b=!0,p.delete(Q)),_.needsAnimating[Q]=!0;const O=t.getValue(Q);O&&(O.liveStyle=!1)};for(const Q in k){const O=D[Q],z=M[Q];if(g.hasOwnProperty(Q))continue;let q=!1;vm(O)&&vm(z)?q=!BI(O,z):q=O!==z,q?O!=null?X(Q):p.add(Q):O!==void 0&&p.has(Q)?X(Q):_.protectedKeys[Q]=!0}_.prevProp=C,_.prevResolvedValues=D,_.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(V&&I)||b)&&h.push(...P.map(Q=>({animation:Q,options:{type:w}})))}if(p.size){const T={};p.forEach(w=>{const _=t.getBaseTarget(w),C=t.getValue(w);C&&(C.liveStyle=!0),T[w]=_??null}),h.push({animation:T})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=E1(),r=!0}}}function L3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BI(e,t):!1}function Di(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E1(){return{animate:Di(!0),whileInView:Di(),whileHover:Di(),whileTap:Di(),whileDrag:Di(),whileFocus:Di(),exit:Di()}}class Ii{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F3 extends Ii{constructor(e){super(e),e.animationState||(e.animationState=O3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let B3=0;class U3 extends Ii{constructor(){super(...arguments),this.id=B3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const z3={animation:{Feature:F3},exit:{Feature:U3}};function Sl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ql(t){return{point:{x:t.pageX,y:t.pageY}}}const $3=t=>e=>tv(e)&&t(e,ql(e));function $a(t,e,n,r){return Sl(t,e,$3(n),r)}const T1=(t,e)=>Math.abs(t-e);function W3(t,e){const n=T1(t.x,e.x),r=T1(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ab{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Nf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=W3(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:E}=h,{timestamp:v}=vt;this.history.push({...E,timestamp:v});const{onStart:T,onMove:w}=this.handlers;p||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kf(p,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Nf(h.type==="pointercancel"?this.lastMoveEventInfo:kf(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,T),E&&E(h,T)},!tv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ql(e),a=kf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=vt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Nf(a,this.history)),this.removeListeners=Hl($a(this.contextWindow,"pointermove",this.handlePointerMove),$a(this.contextWindow,"pointerup",this.handlePointerUp),$a(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gi(this.updatePoint)}}function kf(t,e){return e?{point:e(t.point)}:t}function S1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nf({point:t},e){return{point:t,delta:S1(t,Pb(e)),offset:S1(t,H3(e)),velocity:q3(e,.1)}}function H3(t){return t[0]}function Pb(t){return t[t.length-1]}function q3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Pb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>vr(e)));)n--;if(!r)return{x:0,y:0};const s=wr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Rb=1e-4,K3=1-Rb,G3=1+Rb,kb=.01,Q3=0-kb,Y3=0+kb;function pn(t){return t.max-t.min}function X3(t,e,n){return Math.abs(t-e)<=n}function C1(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(t.scale>=K3&&t.scale<=G3||isNaN(t.scale))&&(t.scale=1),(t.translate>=Q3&&t.translate<=Y3||isNaN(t.translate))&&(t.translate=0)}function Wa(t,e,n,r){C1(t.x,e.x,n.x,r?r.originX:void 0),C1(t.y,e.y,n.y,r?r.originY:void 0)}function I1(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function J3(t,e,n){I1(t.x,e.x,n.x),I1(t.y,e.y,n.y)}function b1(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Ha(t,e,n){b1(t.x,e.x,n.x),b1(t.y,e.y,n.y)}function Z3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function A1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function e9(t,{top:e,left:n,bottom:r,right:i}){return{x:A1(t.x,n,i),y:A1(t.y,e,r)}}function P1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function t9(t,e){return{x:P1(t.x,e.x),y:P1(t.y,e.y)}}function n9(t,e){let n=.5;const r=pn(t),i=pn(e);return i>r?n=_o(e.min,e.max-r,t.min):r>i&&(n=_o(t.min,t.max-i,e.min)),Ar(0,1,n)}function r9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Pm=.35;function i9(t=Pm){return t===!1?t=0:t===!0&&(t=Pm),{x:R1(t,"left","right"),y:R1(t,"top","bottom")}}function R1(t,e,n){return{min:k1(t,e),max:k1(t,n)}}function k1(t,e){return typeof t=="number"?t:t[e]||0}const N1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hs=()=>({x:N1(),y:N1()}),D1=()=>({min:0,max:0}),Ze=()=>({x:D1(),y:D1()});function wn(t){return[t("x"),t("y")]}function Nb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function s9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Df(t){return t===void 0||t===1}function Rm({scale:t,scaleX:e,scaleY:n}){return!Df(t)||!Df(e)||!Df(n)}function Oi(t){return Rm(t)||Db(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Db(t){return M1(t.x)||M1(t.y)}function M1(t){return t&&t!=="0%"}function od(t,e,n){const r=t-n,i=e*r;return n+i}function V1(t,e,n,r,i){return i!==void 0&&(t=od(t,i,r)),od(t,n,r)+e}function km(t,e=0,n=1,r,i){t.min=V1(t.min,e,n,r,i),t.max=V1(t.max,e,n,r,i)}function Mb(t,{x:e,y:n}){km(t.x,e.translate,e.scale,e.originPoint),km(t.y,n.translate,n.scale,n.originPoint)}const j1=.999999999999,O1=1.0000000000001;function a9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ks(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Mb(t,o)),r&&Oi(s.latestValues)&&Ks(t,s.latestValues))}e.x<O1&&e.x>j1&&(e.x=1),e.y<O1&&e.y>j1&&(e.y=1)}function qs(t,e){t.min=t.min+e,t.max=t.max+e}function L1(t,e,n,r,i=.5){const s=We(t.min,t.max,i);km(t,e,n,s,r)}function Ks(t,e){L1(t.x,e.x,e.scaleX,e.scale,e.originX),L1(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vb(t,e){return Nb(o9(t.getBoundingClientRect(),e))}function l9(t,e,n){const r=Vb(t,n),{scroll:i}=e;return i&&(qs(r.x,i.offset.x),qs(r.y,i.offset.y)),r}const jb=({current:t})=>t?t.ownerDocument.defaultView:null,c9=new WeakMap;class u9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ql(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:g,onDragStart:E}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rF(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(T=>{let w=this.getAxisMotionValue(T).get()||0;if(nr.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const C=_.layout.layoutBox[T];C&&(w=pn(C)*(parseFloat(w)/100))}}this.originPoint[T]=w}),E&&Ue.postRender(()=>E(d,h)),_m(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:E,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=h;if(g&&this.currentDirection===null){this.currentDirection=d9(T),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>wn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ab(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:jb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ue.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Oc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Z3(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&$s(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=e9(i.layoutBox,n):this.constraints=!1,this.elastic=i9(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=r9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$s(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=l9(r,i.root,this.visualElement.getTransformPagePoint());let o=t9(i.layout.layoutBox,s);if(n){const a=n(s9(o));this.hasMutatedConstraints=!!a,a&&(o=Nb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wn(d=>{if(!Oc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _m(this.visualElement,e),r.start(fv(e,r,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:r}=this.getProps();if(!Oc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-We(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$s(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=n9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(o=>{if(!Oc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(We(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;c9.set(this.visualElement,this);const e=this.visualElement.current,n=$a(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$s(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ue.read(r);const o=Sl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Pm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Oc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function d9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class h9 extends Ii{constructor(e){super(e),this.removeGroupControls=dn,this.removeListeners=dn,this.controls=new u9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const F1=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class f9 extends Ii{constructor(){super(...arguments),this.removePointerDownListener=dn}onPointerDown(e){this.session=new Ab(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:F1(e),onStart:F1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ue.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$a(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function B1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=B1(t,e.target.x),r=B1(t,e.target.y);return`${n}% ${r}%`}},p9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=yi.parse(t);if(i.length>5)return r;const s=yi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=We(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class m9 extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;jL(g9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ue.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ob(t){const[e,n]=wI(),r=y.useContext(My);return f.jsx(m9,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(bI),isPresent:e,safeToRemove:n})}const g9={borderRadius:{...pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pa,borderTopRightRadius:pa,borderBottomLeftRadius:pa,borderBottomRightRadius:pa,boxShadow:p9};function y9(t,e,n){const r=Vt(t)?t:El(t);return r.start(fv("",r,e,n)),r.animation}function v9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const w9=(t,e)=>t.depth-e.depth;class x9{constructor(){this.children=[],this.isDirty=!1}add(e){nv(this.children,e),this.isDirty=!0}remove(e){rv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w9),this.isDirty=!1,this.children.forEach(e)}}function _9(t,e){const n=rr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gi(r),t(s-e))};return Ue.read(r,!0),()=>gi(r)}const Lb=["TopLeft","TopRight","BottomLeft","BottomRight"],E9=Lb.length,U1=t=>typeof t=="string"?parseFloat(t):t,z1=t=>typeof t=="number"||ne.test(t);function T9(t,e,n,r,i,s){i?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,S9(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,C9(r))):s&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<E9;o++){const a=`border${Lb[o]}Radius`;let l=$1(e,a),u=$1(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||z1(l)===z1(u)?(t[a]=Math.max(We(U1(l),U1(u),r),0),(nr.test(u)||nr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function $1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const S9=Fb(0,.5,rb),C9=Fb(.5,.95,dn);function Fb(t,e,n){return r=>r<t?0:r>e?1:n(_o(t,e,r))}function W1(t,e){t.min=e.min,t.max=e.max}function vn(t,e){W1(t.x,e.x),W1(t.y,e.y)}function H1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function q1(t,e,n,r,i){return t-=e,t=od(t,1/n,r),i!==void 0&&(t=od(t,1/i,r)),t}function I9(t,e=0,n=1,r=.5,i,s=t,o=t){if(nr.test(e)&&(e=parseFloat(e),e=We(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=We(s.min,s.max,r);t===s&&(a-=e),t.min=q1(t.min,e,n,a,i),t.max=q1(t.max,e,n,a,i)}function K1(t,e,[n,r,i],s,o){I9(t,e[n],e[r],e[i],e.scale,s,o)}const b9=["x","scaleX","originX"],A9=["y","scaleY","originY"];function G1(t,e,n,r){K1(t.x,e,b9,n?n.x:void 0,r?r.x:void 0),K1(t.y,e,A9,n?n.y:void 0,r?r.y:void 0)}function Q1(t){return t.translate===0&&t.scale===1}function Bb(t){return Q1(t.x)&&Q1(t.y)}function Y1(t,e){return t.min===e.min&&t.max===e.max}function P9(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function X1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ub(t,e){return X1(t.x,e.x)&&X1(t.y,e.y)}function J1(t){return pn(t.x)/pn(t.y)}function Z1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class R9{constructor(){this.members=[]}add(e){nv(this.members,e),e.scheduleRender()}remove(e){if(rv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k9(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:g,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Li={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ba=typeof window<"u"&&window.MotionDebug!==void 0,Mf=["","X","Y","Z"],N9={visibility:"hidden"},e_=1e3;let D9=0;function Vf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zb(r)}function $b({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=D9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ba&&(Li.totalNodes=Li.resolvedTargetDeltas=Li.recalculatedProjection=0),this.nodes.forEach(j9),this.nodes.forEach(U9),this.nodes.forEach(z9),this.nodes.forEach(O9),ba&&window.MotionDebug.record(Li)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new x9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_9(p,250),cu.hasAnimatedSinceResize&&(cu.hasAnimatedSinceResize=!1,this.nodes.forEach(n_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||K9,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=d.getProps(),_=!this.targetLayout||!Ub(this.targetLayout,E)||g,C=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const R={...Jy(v,"layout"),onPlay:T,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||n_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t_);return}this.isUpdating||this.nodes.forEach(F9),this.isUpdating=!1,this.nodes.forEach(B9),this.nodes.forEach(M9),this.nodes.forEach(V9),this.clearAllSnapshots();const a=rr.now();vt.delta=Ar(0,1e3/60,a-vt.timestamp),vt.timestamp=a,vt.isProcessing=!0,Cf.update.process(vt),Cf.preRender.process(vt),Cf.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L9),this.sharedNodes.forEach(W9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Bb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Oi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),G9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ze();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Q9))){const{scroll:d}=this.root;d&&(qs(l.x,d.offset.x),qs(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Ze();if(vn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&vn(l,o),qs(l.x,h.offset.x),qs(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ze();vn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ks(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Oi(d.latestValues)&&Ks(l,d.latestValues)}return Oi(this.latestValues)&&Ks(l,this.latestValues),l}removeTransform(o){const a=Ze();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Oi(u.latestValues))continue;Rm(u.latestValues)&&u.updateSnapshot();const d=Ze(),h=u.measurePageBox();vn(d,h),G1(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Oi(this.latestValues)&&G1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),Mb(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Ha(this.relativeTargetOrigin,this.target,g.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba&&Li.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rm(this.parent.latestValues)||Db(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;vn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;a9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ze());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H1(this.prevProjectionDelta.x,this.projectionDelta.x),H1(this.prevProjectionDelta.y,this.projectionDelta.y)),Wa(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),ba&&Li.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hs(),this.projectionDelta=Hs(),this.projectionDeltaWithTransform=Hs()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ze(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,v=g!==E,T=this.getStack(),w=!T||T.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(q9));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const N=R/1e3;r_(h.x,o.x,N),r_(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H9(this.relativeTarget,this.relativeTargetOrigin,p,N),C&&P9(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ze()),vn(C,this.relativeTarget)),v&&(this.animationValues=d,T9(d,u,this.latestValues,N,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{cu.hasAnimatedSinceResize=!0,this.currentAnimation=y9(0,e_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Wb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ze();const h=pn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=pn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}vn(a,l),Ks(a,d),Wa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new R9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Vf("z",o,u,this.animationValues);for(let d=0;d<Mf.length;d++)Vf(`rotate${Mf[d]}`,o,u,this.animationValues),Vf(`skew${Mf[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N9;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=au(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=au(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Oi(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=k9(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y:E}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in td){if(p[v]===void 0)continue;const{correct:T,applyTo:w}=td[v],_=u.transform==="none"?p[v]:T(p[v],h);if(w){const C=w.length;for(let R=0;R<C;R++)u[w[R]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=h===this?au(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(t_),this.root.sharedNodes.clear()}}}function M9(t){t.updateLayout()}function V9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?wn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=pn(p);p.min=r[h].min,p.max=p.min+g}):Wb(s,n.layoutBox,r)&&wn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=pn(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=Hs();Wa(a,r,n.layoutBox);const l=Hs();o?Wa(l,t.applyTransform(i,!0),n.measuredBox):Wa(l,r,n.layoutBox);const u=!Bb(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const E=Ze();Ha(E,n.layoutBox,p.layoutBox);const v=Ze();Ha(v,r,g.layoutBox),Ub(E,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function j9(t){ba&&Li.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function O9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function L9(t){t.clearSnapshot()}function t_(t){t.clearMeasurements()}function F9(t){t.isLayoutDirty=!1}function B9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U9(t){t.resolveTargetDelta()}function z9(t){t.calcProjection()}function $9(t){t.resetSkewAndRotation()}function W9(t){t.removeLeadSnapshot()}function r_(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function i_(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function H9(t,e,n,r){i_(t.x,e.x,n.x,r),i_(t.y,e.y,n.y,r)}function q9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K9={duration:.45,ease:[.4,0,.1,1]},s_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o_=s_("applewebkit/")&&!s_("chrome/")?Math.round:dn;function a_(t){t.min=o_(t.min),t.max=o_(t.max)}function G9(t){a_(t.x),a_(t.y)}function Wb(t,e,n){return t==="position"||t==="preserve-aspect"&&!X3(J1(e),J1(n),.2)}function Q9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y9=$b({attachResizeListener:(t,e)=>Sl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jf={current:void 0},Hb=$b({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jf.current){const t=new Y9({});t.mount(window),t.setOptions({layoutScroll:!0}),jf.current=t}return jf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),X9={pan:{Feature:f9},drag:{Feature:h9,ProjectionNode:Hb,MeasureLayout:Ob}};function l_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ue.postRender(()=>s(e,ql(e)))}class J9 extends Ii{mount(){const{current:e}=this.node;e&&(this.unmount=JL(e,n=>(l_(this.node,n,"Start"),r=>l_(this.node,r,"End"))))}unmount(){}}class Z9 extends Ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hl(Sl(this.node.current,"focus",()=>this.onFocus()),Sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ue.postRender(()=>s(e,ql(e)))}class e5 extends Ii{mount(){const{current:e}=this.node;e&&(this.unmount=nF(e,n=>(c_(this.node,n,"Start"),(r,{success:i})=>c_(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nm=new WeakMap,Of=new WeakMap,t5=t=>{const e=Nm.get(t.target);e&&e(t)},n5=t=>{t.forEach(t5)};function r5({root:t,...e}){const n=t||document;Of.has(n)||Of.set(n,{});const r=Of.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(n5,{root:t,...e})),r[i]}function i5(t,e,n){const r=r5(e);return Nm.set(t,n),r.observe(t),()=>{Nm.delete(t),r.unobserve(t)}}const s5={some:0,all:1};class o5 extends Ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:s5[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return i5(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(a5(e,n))&&this.startObserver()}unmount(){}}function a5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const l5={inView:{Feature:o5},tap:{Feature:e5},focus:{Feature:Z9},hover:{Feature:J9}},c5={layout:{ProjectionNode:Hb,MeasureLayout:Ob}},Dm={current:null},qb={current:!1};function u5(){if(qb.current=!0,!!Oy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dm.current=t.matches;t.addListener(e),e()}else Dm.current=!1}const d5=[...yb,kt,yi],h5=t=>d5.find(gb(t)),u_=new WeakMap;function f5(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Vt(i))t.addValue(r,i);else if(Vt(s))t.addValue(r,El(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,El(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const d_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=rr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ue.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=oh(n),this.isVariantNode=CI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const E=p[g];l[g]!==void 0&&Vt(E)&&E.set(l[g],!1)}}mount(e){this.current=e,u_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qb.current||u5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){u_.delete(this.current),this.projection&&this.projection.unmount(),gi(this.notifyUpdate),gi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vs.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Eo){const n=Eo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d_.length;r++){const i=d_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=f5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=El(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(pb(i)||sb(i))?i=parseFloat(i):!h5(i)&&yi.test(n)&&(i=db(e,n)),this.setBaseTarget(e,Vt(i)?i.get():i)),Vt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Wy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Kb extends p5{constructor(){super(...arguments),this.KeyframeResolver=vb}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function m5(t){return window.getComputedStyle(t)}class g5 extends Kb{constructor(){super(...arguments),this.type="html",this.renderInstance=MI}readValueFromInstance(e,n){if(vs.has(n)){const r=cv(n);return r&&r.default||0}else{const r=m5(e),i=(kI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vb(e,n)}build(e,n,r){Ky(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Xy(e,n,r)}}class y5 extends Kb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vs.has(n)){const r=cv(n);return r&&r.default||0}return n=VI.has(n)?n:Uy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LI(e,n,r)}build(e,n,r){Gy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){jI(e,n,r,i)}mount(e){this.isSVGTag=Yy(e.tagName),super.mount(e)}}const v5=(t,e)=>$y(t)?new y5(e):new g5(e,{allowProjection:t!==y.Fragment}),w5=HL({...z3,...l5,...X9,...c5},v5),ge=oL(w5),pv=m4,ch=y.forwardRef(({className:t,...e},n)=>f.jsx(uI,{ref:n,className:ke("inline-flex h-14 w-full items-center justify-center rounded-lg bg-white/10 p-1 text-white/70",t),...e}));ch.displayName=uI.displayName;const Tn=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(dI,{ref:r,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white/20 data-[state=active]:text-white data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50 relative group flex-1",t),...n,children:[f.jsx("span",{className:"relative z-10",children:e}),f.jsx(ge.div,{className:"absolute inset-0 bg-white/10 rounded-md transform scale-x-0 group-data-[state=active]:scale-x-100 transition-transform",layoutId:"activeTab"})]}));Tn.displayName=dI.displayName;const Sn=y.forwardRef(({className:t,...e},n)=>f.jsx(hI,{ref:n,className:ke("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",t),...e}));Sn.displayName=hI.displayName;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,..._5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Gb("lucide",i),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(E5,{ref:s,iconNode:e,className:Gb(`lucide-${x5(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=Ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=Ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=Ve("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=Ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=Ve("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ve("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Ve("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ve("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=Ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M5=1,V5=1e6;let Lf=0;function j5(){return Lf=(Lf+1)%Number.MAX_SAFE_INTEGER,Lf.toString()}const Ff=new Map,h_=t=>{if(Ff.has(t))return;const e=setTimeout(()=>{Ff.delete(t),qa({type:"REMOVE_TOAST",toastId:t})},V5);Ff.set(t,e)},O5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,M5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?h_(n):t.toasts.forEach(r=>{h_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uu=[];let du={toasts:[]};function qa(t){du=O5(du,t),uu.forEach(e=>{e(du)})}function L5({...t}){const e=j5(),n=i=>qa({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>qa({type:"DISMISS_TOAST",toastId:e});return qa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Lo(){const[t,e]=y.useState(du);return y.useEffect(()=>(uu.push(e),()=>{const n=uu.indexOf(e);n>-1&&uu.splice(n,1)}),[t]),{...t,toast:L5,dismiss:n=>qa({type:"DISMISS_TOAST",toastId:n})}}function rA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=rA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function F5(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=rA(t))&&(r&&(r+=" "),r+=e);return r}const f_=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,p_=F5,mv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return p_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const p=f_(d)||f_(h);return i[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(E=>{let[v,T]=E;return Array.isArray(T)?T.includes({...s,...a}[v]):{...s,...a}[v]===T})?[...u,h,p]:u},[]);return p_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},B5=mv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ce=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?os:"button";return f.jsx(o,{className:ke(B5({variant:e,size:n,className:t})),ref:s,...i})});Ce.displayName="Button";function U5({currentEmployee:t,onLogout:e}){return f.jsxs("header",{className:"p-4 flex justify-between items-center bg-black/10 backdrop-blur-md",children:[f.jsx(ge.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl font-bold text-white",children:"Employee Panel"}),f.jsxs("div",{className:"flex items-center gap-4",children:[(t==null?void 0:t.isAdmin)&&f.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex gap-2",children:f.jsx(Hp,{to:"/admin",children:f.jsxs(Ce,{variant:"ghost",className:"text-white hover:bg-white/20",children:[f.jsx(k5,{className:"w-4 h-4 mr-2"}),"Admin"]})})}),f.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-white/90",children:["Welcome, ",t==null?void 0:t.name]}),f.jsxs(Ce,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/20",children:[f.jsx(Xb,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})}const en=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));en.displayName="Card";const zn=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));zn.displayName="CardHeader";const $n=y.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));$n.displayName="CardTitle";const iA=y.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));iA.displayName="CardDescription";const tn=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ke("p-6 pt-0",t),...e}));tn.displayName="CardContent";const z5=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",t),...e}));z5.displayName="CardFooter";const $5=mv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ld({className:t,variant:e,...n}){return f.jsx("div",{className:ke($5({variant:e}),t),...n})}function Kt(t){const e=Math.floor(t/1e3%60),n=Math.floor(t/(1e3*60)%60);return[Math.floor(t/(1e3*60*60)),n,e].map(i=>i.toString().padStart(2,"0")).join(":")}const m_=t=>{const[e,n]=t.split(":"),r=new Date;return r.setHours(parseInt(e,10),parseInt(n,10)),r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};function W5({employeeStatus:t,clockInTimer:e,breakTimer:n,accumulatedBreakMs:r,currentDepartment:i,isLate:s,lateMinutes:o,isOvertime:a,overtimeMinutes:l,onClockIn:u,onClockOut:d,onToggleBreak:h,onResumeWorking:p,onToggleStandby:g,getStatusColor:E,getBreakButtonState:v}){return f.jsxs(en,{className:`${E(t.status)} backdrop-blur-md text-white`,children:[f.jsx(zn,{children:f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx($n,{children:"Status & Controls"}),i&&f.jsx(iA,{className:"text-white/80",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 bg-white/5 rounded-lg p-4 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Qb,{className:"w-4 h-4 text-white/70"}),f.jsx("span",{className:"font-medium",children:i.name})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-white/70",children:"Schedule:"}),f.jsxs("span",{className:"font-medium",children:[m_(i.schedule.clockIn)," - ",m_(i.schedule.clockOut)]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-white/70",children:"Grace Period:"}),f.jsxs("span",{children:[i.schedule.gracePeriod," minutes"]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-white/70",children:"Overtime After:"}),f.jsxs("span",{children:[i.schedule.overtimeThreshold," minutes"]})]})]})]})})]})}),f.jsx(tn,{children:f.jsxs("div",{className:"grid gap-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs(ge.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[f.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Current Status"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(ld,{variant:t.status==="Clocked Out"?"outline":t.status==="Working"?"default":(t.status==="Standby","secondary"),className:"text-lg py-2 px-4",children:t.status}),s&&t.status!=="Clocked Out"&&f.jsxs("div",{className:"flex items-center gap-2 mt-3 bg-yellow-500/10 text-yellow-300 p-2 rounded-lg border border-yellow-500/20",children:[f.jsx(tA,{className:"w-4 h-4"}),f.jsxs("span",{className:"text-sm font-medium",children:["Late by ",o," minutes"]})]}),a&&f.jsxs("div",{className:"flex items-center gap-2 mt-2 bg-orange-500/10 text-orange-300 p-2 rounded-lg border border-orange-500/20",children:[f.jsx(Vm,{className:"w-4 h-4"}),f.jsxs("span",{className:"text-sm font-medium",children:["Overtime: ",l," minutes"]})]})]})]}),f.jsxs(ge.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[f.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Clock Timer"}),f.jsx("div",{className:"text-3xl font-mono",children:e})]}),f.jsxs(ge.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[f.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Break Timer"}),f.jsx("div",{className:"text-3xl font-mono",children:n})]}),f.jsxs(ge.div,{whileHover:{scale:1.02},className:"bg-white/5 p-6 rounded-lg backdrop-blur-sm",children:[f.jsx("div",{className:"text-sm text-white/70 mb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Vm,{className:"w-4 h-4"}),"Accumulated Break"]})}),f.jsx("div",{className:"text-3xl font-mono",children:Kt(r)})]})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.status==="Clocked Out"?f.jsx(Ce,{onClick:u,className:"col-span-full h-14 text-lg bg-green-500 hover:bg-green-600",children:"Clock In"}):f.jsxs(f.Fragment,{children:[f.jsx(Ce,{onClick:d,variant:"destructive",className:"col-span-full h-14 text-lg mb-3",children:"Clock Out"}),t.status==="Working"&&f.jsx(Ce,{onClick:g,variant:"outline",className:"col-span-full h-12 text-white border-white/30 hover:bg-white/10 mb-3",children:"Go to Standby"}),t.status==="Standby"&&f.jsx(Ce,{onClick:g,variant:"outline",className:"col-span-full h-12 bg-white/20 text-white hover:bg-white/30 mb-3",children:"Resume Working"}),["Lunch","Pee Break 1","Pee Break 2","Small Break"].map(T=>{const{visible:w,active:_,disabled:C}=v(T);return w?f.jsx(Ce,{onClick:()=>h(T),variant:_?"default":"outline",disabled:C&&!_,className:`h-12 ${_?"bg-white/20 text-white":"text-white border-white/30"}`,children:_?`End ${T}`:T},T):null}),t.status==="Working Idle"&&f.jsx(Ce,{onClick:p,className:"col-span-full h-12 bg-white/20 text-white hover:bg-white/30",children:"Resume Working"})]})})]})})]})}function H5({attendanceSummaries:t,isLoading:e,onRefresh:n}){return f.jsxs(en,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[f.jsxs(zn,{className:"flex flex-row items-center justify-between",children:[f.jsx($n,{children:"Attendance Summary"}),f.jsxs(Ce,{variant:"ghost",size:"sm",onClick:n,disabled:e,className:"text-white hover:bg-white/20",children:[f.jsx(ad,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Refresh"]})]}),f.jsx(tn,{children:t.length===0?f.jsxs("div",{className:"text-center text-white/70 py-8 flex flex-col items-center gap-4",children:[f.jsx("p",{children:"No summary records found"}),f.jsxs(Ce,{variant:"outline",onClick:n,disabled:e,className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(ad,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Load Attendance Summary"]})]}):f.jsx(ge.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},children:t.map(r=>{var i,s;return f.jsx(ge.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:f.jsxs("div",{className:"grid gap-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pr,{className:"w-4 h-4 text-white/70"}),f.jsx("span",{className:"font-medium",children:new Date(r.date.seconds*1e3).toLocaleDateString()})]}),f.jsx("span",{className:"text-sm text-white/70",children:new Date(r.date.seconds*1e3).toLocaleTimeString()})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Clock In"}),f.jsx("div",{children:(i=r.clockInTime)==null?void 0:i.toDate().toLocaleString()})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Clock Out"}),f.jsx("div",{children:(s=r.clockOutTime)==null?void 0:s.toDate().toLocaleString()})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Total Time"}),f.jsx("div",{className:"font-mono",children:Kt(r.totalClockTime)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Break Time"}),f.jsx("div",{className:"font-mono",children:Kt(r.accumulatedBreak)})]})]}),(r.isLate||r.isOvertime)&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.isLate&&f.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 text-yellow-300 p-2 rounded-lg border border-yellow-500/20",children:[f.jsx(tA,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm",children:"Late"}),f.jsxs("div",{children:[r.lateMinutes," minutes"]})]})]}),r.isOvertime&&f.jsxs("div",{className:"flex items-center gap-2 bg-blue-500/10 text-blue-400 p-2 rounded-lg border border-blue-500/20",children:[f.jsx(Vm,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm",children:"Overtime"}),f.jsxs("div",{children:[r.overtimeMinutes," minutes"]})]})]})]})]})},r.id)})})})]})}function q5({attendanceHistory:t,onRefresh:e}){return f.jsxs(en,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[f.jsxs(zn,{className:"flex flex-row items-center justify-between",children:[f.jsx($n,{children:"History"}),f.jsxs(Ce,{variant:"ghost",onClick:e,className:"text-white hover:bg-white/20",children:[f.jsx(Yb,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),f.jsx(tn,{children:t.length===0?f.jsx("p",{className:"text-center text-white/70 py-8",children:"No history found"}):f.jsx("div",{className:"space-y-4",children:t.map(n=>{var r,i;return f.jsx(ge.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:f.jsxs("div",{className:"grid gap-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"font-medium capitalize",children:n.eventType.replace(/_/g," ")}),f.jsx("span",{className:"text-sm text-white/70",children:n.timestamp.toDate().toLocaleString()})]}),n.eventType==="clockOut"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Clock In"}),f.jsx("div",{children:(r=n.clockInTime)==null?void 0:r.toDate().toLocaleString()})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Clock Out"}),f.jsx("div",{children:(i=n.clockOutTime)==null?void 0:i.toDate().toLocaleString()})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Total Time"}),f.jsx("div",{children:Kt(n.totalClockTime||0)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Break Time"}),f.jsx("div",{children:Kt(n.accumulatedBreak||0)})]})]}),(n.isLate||n.isOvertime)&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[n.isLate&&f.jsxs("div",{className:"text-yellow-400",children:[f.jsx("div",{className:"text-sm",children:"Late"}),f.jsxs("div",{children:[n.lateMinutes," minutes"]})]}),n.isOvertime&&f.jsxs("div",{className:"text-blue-400",children:[f.jsx("div",{className:"text-sm",children:"Overtime"}),f.jsxs("div",{children:[n.overtimeMinutes," minutes"]})]})]})]})]})},n.id)})})})]})}const K5=({employeeId:t,employeeName:e})=>{const[n,r]=y.useState([]),[i,s]=y.useState(""),[o,a]=y.useState(null);y.useEffect(()=>{l();const d=setInterval(l,1e4);return()=>clearInterval(d)},[t]);const l=async()=>{try{const d=is(De(oe,"messages"),ss("recipientId","in",[t,""])),h=await on(d),p=[];h.forEach(g=>{p.push({id:g.id,...g.data()})}),p.sort((g,E)=>{var v,T;return(((v=E.timestamp)==null?void 0:v.seconds)||0)-(((T=g.timestamp)==null?void 0:T.seconds)||0)}),r(p)}catch(d){console.error("Fetch messages error:",d)}},u=async d=>{if(i.trim())try{const h=ct(oe,"messages",d);await On(h,{reply:{sender:e,message:i,timestamp:de.now()}}),s(""),a(null),l()}catch(h){console.error("Error replying to message:",h)}};return f.jsxs(en,{className:"glassmorphism",children:[f.jsx(zn,{children:f.jsxs($n,{className:"text-white flex items-center gap-2",children:[f.jsx(dh,{className:"w-6 h-6"}),"Messages"]})}),f.jsx(tn,{children:f.jsx(ge.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},children:f.jsx(_I,{children:n.map((d,h)=>{var p;return f.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:h*.1},className:"border border-white/20 rounded-lg p-4 bg-white/5",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-medium text-white",children:d.sender}),f.jsx("span",{className:"text-sm text-white/50",children:(p=d.timestamp)==null?void 0:p.toDate().toLocaleString()})]}),f.jsx("p",{className:"mt-2 text-white/90",children:d.message}),d.reply?f.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 ml-4 p-3 bg-white/10 rounded-lg",children:[f.jsx("p",{className:"text-sm text-white/70",children:"Your reply:"}),f.jsx("p",{className:"mt-1 text-white",children:d.reply.message}),f.jsx("span",{className:"text-xs text-white/50",children:d.reply.timestamp.toDate().toLocaleString()})]}):f.jsx("div",{className:"mt-3",children:o===d.id?f.jsxs(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[f.jsx("textarea",{value:i,onChange:g=>s(g.target.value),placeholder:"Type your reply...",className:"w-full p-2 rounded-md bg-white/10 border-white/20 text-white placeholder:text-white/50",rows:3}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Ce,{onClick:()=>u(d.id),className:"bg-white/20 hover:bg-white/30 text-white border-0",children:[f.jsx(Zb,{className:"w-4 h-4 mr-2"}),"Send Reply"]}),f.jsxs(Ce,{variant:"outline",onClick:()=>{a(null),s("")},className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(D5,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):f.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>a(d.id),className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(R5,{className:"w-4 h-4 mr-2"}),"Reply"]})})]},d.id)})})})})]})};async function cd(){try{const t=await on(De(oe,"departments")),e=[];t.forEach(i=>{e.push({id:i.id,...i.data()})});const n=new Date,r=`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`;for(const i of e)if(r===i.schedule.clockIn){const s=is(De(oe,"employees"),ss("department","==",i.id));(await on(s)).forEach(async a=>{const l=a.data(),u=ct(oe,"status",l.employeeId);try{const d=de.now();await On(u,{status:"Working",stateStartTime:d,lastTimerUpdate:d})}catch(d){console.error(`Error updating status for employee ${l.employeeId}:`,d)}})}}catch(t){console.error("Error in schedule checker:",t)}}const G5=()=>{const t=localStorage.getItem("currentEmployee"),e=t?JSON.parse(t):null;y.useState(!!e);const[n]=y.useState(e),[r,i]=y.useState({status:"Clocked Out",stateStartTime:null}),[s,o]=y.useState(null),[a,l]=y.useState("00:00:00"),[u,d]=y.useState("00:00:00"),[h,p]=y.useState(()=>{if(n!=null&&n.employeeId){const $=localStorage.getItem(`accumulatedBreak_${n.employeeId}`);return $?parseInt($,10):0}return 0}),[g,E]=y.useState(null),[v,T]=y.useState([]);y.useState([]);const[w,_]=y.useState([]);y.useState([]),y.useState(new Date),y.useState(!1);const[C,R]=y.useState(!1),[N,V]=y.useState(null),[I,S]=y.useState(!1),[b,P]=y.useState(0),[D,M]=y.useState(!1),[k,X]=y.useState(0),ue=y.useRef(null),J=y.useRef(null);y.useRef(null);const Q=y.useRef();y.useRef(null);const{toast:O}=Lo(),z=Vd();y.useEffect(()=>{n!=null&&n.employeeId&&localStorage.setItem(`accumulatedBreak_${n.employeeId}`,h.toString())},[h,n==null?void 0:n.employeeId]),y.useEffect(()=>{if(n!=null&&n.employeeId){const $=localStorage.getItem(`lateStatus_${n.employeeId}`);if($){const W=JSON.parse($),te=new Date().toDateString();W.date===te?(S(W.isLate),P(W.lateMinutes)):localStorage.removeItem(`lateStatus_${n.employeeId}`)}}},[n==null?void 0:n.employeeId]);const q=y.useCallback(()=>{if(!N)return!0;const $=new Date,[W,te]=N.schedule.clockIn.split(":"),[se,Se]=N.schedule.clockOut.split(":"),mt=new Date;mt.setHours(parseInt(W),parseInt(te),0,0);const Lt=new Date;return Lt.setHours(parseInt(se),parseInt(Se),0,0),$>=mt&&$<=Lt},[N]),ie=y.useCallback(()=>{Q.current&&Q.current(),localStorage.removeItem("currentEmployee"),z("/")},[z]),me=async()=>{if(!(n!=null&&n.employeeId))return;const $=de.now();o($.toDate());try{await xn(De(oe,"attendance"),{employeeId:n.employeeId,eventType:"clockIn",timestamp:$});const te={status:q()?"Working":"Standby",stateStartTime:$,employeeId:n.employeeId,clockInTime:$};if(await RO(ct(oe,"status",n.employeeId),te),i(te),N){const[se,Se]=N.schedule.clockIn.split(":"),mt=new Date;mt.setHours(parseInt(se),parseInt(Se),0,0);const Lt=$.toDate().getTime(),zo=mt.getTime(),yn=Math.floor((Lt-zo)/(1e3*60));if(yn>N.schedule.gracePeriod){const $o={isLate:!0,lateMinutes:yn,date:new Date().toDateString()};localStorage.setItem(`lateStatus_${n.employeeId}`,JSON.stringify($o)),S(!0),P(yn),O({title:"Late Clock In",description:`You are ${yn} minutes late`,variant:"destructive"})}}}catch(W){console.error("Clock in error:",W),O({title:"Error",description:"Failed to clock in",variant:"destructive"})}},Ie=async()=>{if(!(n!=null&&n.employeeId))return;const $=de.now();try{if(g&&r.status!=="Working"&&r.status!=="Clocked Out"){const te=Date.now()-g.getTime();p(se=>se+te)}const W={employeeId:n.employeeId,eventType:"clockOut",timestamp:$,clockInTime:s?de.fromDate(s):null,clockOutTime:$,totalClockTime:s?Date.now()-s.getTime():0,accumulatedBreak:h,isLate:I,lateMinutes:b,isOvertime:D,overtimeMinutes:k,department:n.department||null};await xn(De(oe,"attendance"),W),await xn(De(oe,"attendanceSummary"),{...W,date:$}),i({status:"Clocked Out",stateStartTime:null}),await Zd(ct(oe,"status",n.employeeId)),o(null),l("00:00:00"),d("00:00:00"),E(null),localStorage.removeItem(`accumulatedBreak_${n.employeeId}`),p(0),localStorage.removeItem(`lateStatus_${n.employeeId}`),S(!1),P(0),M(!1),X(0),O({title:"Success",description:"Successfully clocked out"})}catch(W){console.error("Clock out error:",W),O({title:"Error",description:"Failed to clock out",variant:"destructive"})}},nt=async $=>{if(!(n!=null&&n.employeeId)||!s)return;const W=de.now();try{if(r.status==="Working"){d("00:00:00"),await xn(De(oe,"attendance"),{employeeId:n.employeeId,eventType:"start_"+$.replace(/ /g,""),timestamp:W});const te={status:$,stateStartTime:W,employeeId:n.employeeId,clockInTime:de.fromDate(s)};await On(ct(oe,"status",n.employeeId),te),i(te),E(W.toDate())}else if(r.status===$){if(g){const se=Date.now()-g.getTime();p(Se=>Se+se)}await xn(De(oe,"attendance"),{employeeId:n.employeeId,eventType:"end_"+$.replace(/ /g,""),timestamp:W});const te={status:q()?"Working":"Standby",stateStartTime:W,employeeId:n.employeeId,clockInTime:de.fromDate(s)};await On(ct(oe,"status",n.employeeId),te),i(te),E(null)}}catch(te){console.error("Toggle break error:",te),O({title:"Error",description:"Failed to toggle break status",variant:"destructive"})}},rt=async()=>{if(!(n!=null&&n.employeeId)||!s)return;const $=de.now();try{if(r.status==="Working"){await xn(De(oe,"attendance"),{employeeId:n.employeeId,eventType:"start_standby",timestamp:$});const W={status:"Standby",stateStartTime:$,employeeId:n.employeeId,clockInTime:de.fromDate(s)};await On(ct(oe,"status",n.employeeId),W),i(W)}else if(r.status==="Standby"){await xn(De(oe,"attendance"),{employeeId:n.employeeId,eventType:"end_standby",timestamp:$});const W={status:"Working",stateStartTime:$,employeeId:n.employeeId,clockInTime:de.fromDate(s)};await On(ct(oe,"status",n.employeeId),W),i(W)}}catch(W){console.error("Toggle standby error:",W),O({title:"Error",description:"Failed to toggle standby status",variant:"destructive"})}},lt=async()=>{if(!(n!=null&&n.employeeId)||!s)return;const $=de.now();try{await xn(De(oe,"attendance"),{employeeId:n.employeeId,eventType:"resumeWorking",timestamp:$});const W={status:q()?"Working":"Standby",stateStartTime:$,employeeId:n.employeeId,clockInTime:de.fromDate(s)};await On(ct(oe,"status",n.employeeId),W),i(W)}catch(W){console.error("Resume working error:",W),O({title:"Error",description:"Failed to resume working",variant:"destructive"})}},Z=$=>{switch($){case"Working":return"bg-green-500/10 border-green-500/30";case"Working Idle":return"bg-red-500/10 border-red-500/30";case"Standby":return"bg-purple-500/10 border-purple-500/30";case"Lunch":case"Small Break":return"bg-blue-500/10 border-blue-500/30";case"Pee Break 1":case"Pee Break 2":return"bg-red-500/10 border-red-500/30";default:return"bg-white/5 border-white/20"}},be=$=>r.status==="Clocked Out"||r.status==="Standby"?{visible:!1,active:!1,disabled:!0}:r.status==="Working"?{visible:!0,active:!1,disabled:!1}:{visible:!0,active:r.status===$,disabled:r.status!==$},Je=async()=>{if(n!=null&&n.employeeId){R(!0);try{const $=is(De(oe,"attendanceSummary"),ss("employeeId","==",n.employeeId)),W=await on($),te=[];W.forEach(se=>{te.push({id:se.id,...se.data()})}),te.sort((se,Se)=>Se.date.seconds-se.date.seconds),_(te),O({title:"Success",description:"Attendance summary refreshed",duration:2e3})}catch($){console.error("Error fetching attendance summaries:",$),O({title:"Error",description:"Failed to refresh attendance summary",variant:"destructive"})}finally{R(!1)}}},ye=y.useCallback(async()=>{if(n!=null&&n.employeeId)try{const $=is(De(oe,"attendance"),ss("employeeId","==",n.employeeId)),W=await on($),te=[];W.forEach(se=>{te.push({id:se.id,...se.data()})}),te.sort((se,Se)=>Se.timestamp.seconds-se.timestamp.seconds),T(te)}catch($){console.error("Fetch attendance history error:",$)}},[n==null?void 0:n.employeeId]);return y.useEffect(()=>{if(!(n!=null&&n.employeeId))return;(async()=>{var se;const te=await Kx(ct(oe,"status",n.employeeId));if(te.exists()){const Se=te.data();i({status:Se.status||"Clocked Out",stateStartTime:Se.stateStartTime||null,employeeId:Se.employeeId,clockInTime:Se.clockInTime}),Se.clockInTime&&o(Se.clockInTime.toDate()),Se.status!=="Working"&&Se.status!=="Clocked Out"&&E(((se=Se.stateStartTime)==null?void 0:se.toDate())||null)}})(),ye(),Je();const W=WC(ct(oe,"status",n.employeeId),te=>{if(te.exists()){const se=te.data();se.shouldBuzz&&(ue.current&&ue.current.play().catch(console.error),On(te.ref,{shouldBuzz:!1}),O({title:"Admin Notification",description:"The admin has requested your attention",duration:5e3})),i({status:se.status||"Clocked Out",stateStartTime:se.stateStartTime||null,employeeId:se.employeeId,clockInTime:se.clockInTime}),se.clockInTime&&o(se.clockInTime.toDate())}});return Q.current=W,()=>W()},[n==null?void 0:n.employeeId]),y.useEffect(()=>{const $=setInterval(()=>{const W=new Date;if(s){const te=W.getTime()-s.getTime();if(l(Kt(te)),N&&r.status==="Working"){const[se,Se]=N.schedule.clockOut.split(":"),mt=new Date;mt.setHours(parseInt(se),parseInt(Se),0,0);const Lt=Math.floor((W.getTime()-mt.getTime())/(1e3*60));Lt>N.schedule.overtimeThreshold&&(M(!0),X(Lt))}}if(r.status!=="Working"&&r.status!=="Clocked Out"&&g){const te=W.getTime()-g.getTime();d(Kt(te))}(r.status==="Working"&&!q()||r.status==="Standby"&&q())&&rt()},1e3);return()=>clearInterval($)},[s,r,h,N,g]),y.useEffect(()=>{(async()=>{if(n!=null&&n.department)try{const W=await Kx(ct(oe,"departments",n.department));W.exists()&&V(W.data())}catch(W){console.error("Error fetching department info:",W),O({title:"Error",description:"Failed to fetch department schedule",variant:"destructive"})}})()},[n==null?void 0:n.department]),y.useEffect(()=>{const $=setInterval(()=>{cd()},6e4);return cd(),()=>clearInterval($)},[]),f.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600",children:[f.jsx("audio",{ref:ue,src:"/buzz.wav"}),f.jsx("audio",{ref:J,src:"/buzz2.wav"}),f.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[f.jsx(U5,{currentEmployee:n,onLogout:ie}),f.jsx("main",{className:"flex-1 p-4",children:f.jsxs(pv,{defaultValue:"dashboard",className:"w-full",children:[f.jsxs(ch,{className:"w-full grid grid-cols-4 gap-1 bg-black/10 p-1 rounded-lg backdrop-blur-md",children:[f.jsxs(Tn,{value:"dashboard",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(uh,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),f.jsxs(Tn,{value:"attendance",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Attendance"]}),f.jsxs(Tn,{value:"messages",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(dh,{className:"w-4 h-4 mr-2"}),"Messages"]}),f.jsxs(Tn,{value:"history",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(Yb,{className:"w-4 h-4 mr-2"}),"History"]})]}),f.jsx(Sn,{value:"dashboard",children:f.jsx(W5,{employeeStatus:r,clockInTimer:a,breakTimer:u,accumulatedBreakMs:h,currentDepartment:N,isLate:I,lateMinutes:b,isOvertime:D,overtimeMinutes:k,onClockIn:me,onClockOut:Ie,onToggleBreak:nt,onResumeWorking:lt,onToggleStandby:rt,getStatusColor:Z,getBreakButtonState:be})}),f.jsx(Sn,{value:"attendance",children:f.jsx(H5,{attendanceSummaries:w,isLoading:C,onRefresh:Je})}),f.jsx(Sn,{value:"messages",children:f.jsx(K5,{employeeId:n==null?void 0:n.employeeId,employeeName:n==null?void 0:n.name})}),f.jsx(Sn,{value:"history",children:f.jsx(q5,{attendanceHistory:v,onRefresh:ye})})]})})]})]})};function Kl(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Q5=["color"],Y5=y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Kl(t,Q5);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),y.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),X5=["color"],sA=y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Kl(t,X5);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),y.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),J5=["color"],Z5=y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Kl(t,J5);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),y.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),e6=["color"],t6=y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Kl(t,e6);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),y.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),n6=["color"],r6=y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Kl(t,n6);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),y.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function g_(t,[e,n]){return Math.min(n,Math.max(e,t))}function i6(t,e=globalThis==null?void 0:globalThis.document){const n=or(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var s6="DismissableLayer",jm="dismissableLayer.update",o6="dismissableLayer.pointerDownOutside",a6="dismissableLayer.focusOutside",y_,oA=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gv=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(oA),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),E=Ge(e,I=>h(I)),v=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(T),_=d?v.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,R=_>=w,N=u6(I=>{const S=I.target,b=[...u.branches].some(P=>P.contains(S));!R||b||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),V=d6(I=>{const S=I.target;[...u.branches].some(P=>P.contains(S))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return i6(I=>{_===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),v_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=y_)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),v_())},[d,u]),y.useEffect(()=>{const I=()=>g({});return document.addEventListener(jm,I),()=>document.removeEventListener(jm,I)},[]),f.jsx(we.div,{...l,ref:E,style:{pointerEvents:C?R?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,N.onPointerDownCapture)})});gv.displayName=s6;var l6="DismissableLayerBranch",c6=y.forwardRef((t,e)=>{const n=y.useContext(oA),r=y.useRef(null),i=Ge(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(we.div,{...t,ref:i})});c6.displayName=l6;function u6(t,e=globalThis==null?void 0:globalThis.document){const n=or(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){aA(o6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function d6(t,e=globalThis==null?void 0:globalThis.document){const n=or(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&aA(a6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function v_(){const t=new CustomEvent(jm);document.dispatchEvent(t)}function aA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?QO(i,s):i.dispatchEvent(s)}var Bf=0;function lA(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??w_()),document.body.insertAdjacentElement("beforeend",t[1]??w_()),Bf++,()=>{Bf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bf--}},[])}function w_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Uf="focusScope.autoFocusOnMount",zf="focusScope.autoFocusOnUnmount",x_={bubbles:!1,cancelable:!0},h6="FocusScope",yv=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),u=or(i),d=or(s),h=y.useRef(null),p=Ge(e,v=>l(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(C){if(g.paused||!a)return;const R=C.target;a.contains(R)?h.current=R:zr(h.current,{select:!0})},T=function(C){if(g.paused||!a)return;const R=C.relatedTarget;R!==null&&(a.contains(R)||zr(h.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const N of C)N.removedNodes.length>0&&zr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",T);const _=new MutationObserver(w);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){E_.add(g);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(Uf,x_);a.addEventListener(Uf,u),a.dispatchEvent(w),w.defaultPrevented||(f6(v6(cA(a)),{select:!0}),document.activeElement===v&&zr(a))}return()=>{a.removeEventListener(Uf,u),setTimeout(()=>{const w=new CustomEvent(zf,x_);a.addEventListener(zf,d),a.dispatchEvent(w),w.defaultPrevented||zr(v??document.body,{select:!0}),a.removeEventListener(zf,d),E_.remove(g)},0)}}},[a,u,d,g]);const E=y.useCallback(v=>{if(!n&&!r||g.paused)return;const T=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(T&&w){const _=v.currentTarget,[C,R]=p6(_);C&&R?!v.shiftKey&&w===R?(v.preventDefault(),n&&zr(C,{select:!0})):v.shiftKey&&w===C&&(v.preventDefault(),n&&zr(R,{select:!0})):w===_&&v.preventDefault()}},[n,r,g.paused]);return f.jsx(we.div,{tabIndex:-1,...o,ref:p,onKeyDown:E})});yv.displayName=h6;function f6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zr(r,{select:e}),document.activeElement!==n)return}function p6(t){const e=cA(t),n=__(e,t),r=__(e.reverse(),t);return[n,r]}function cA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function __(t,e){for(const n of t)if(!m6(n,{upTo:e}))return n}function m6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g6(t){return t instanceof HTMLInputElement&&"select"in t}function zr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&g6(t)&&e&&t.select()}}var E_=y6();function y6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=T_(t,e),t.unshift(e)},remove(e){var n;t=T_(t,e),(n=t[0])==null||n.resume()}}}function T_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v6(t){return t.filter(e=>e.tagName!=="A")}const w6=["top","right","bottom","left"],vi=Math.min,sn=Math.max,ud=Math.round,Lc=Math.floor,wi=t=>({x:t,y:t}),x6={left:"right",right:"left",bottom:"top",top:"bottom"},_6={start:"end",end:"start"};function Om(t,e,n){return sn(t,vi(e,n))}function Rr(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function Fo(t){return t.split("-")[1]}function vv(t){return t==="x"?"y":"x"}function wv(t){return t==="y"?"height":"width"}function xi(t){return["top","bottom"].includes(kr(t))?"y":"x"}function xv(t){return vv(xi(t))}function E6(t,e,n){n===void 0&&(n=!1);const r=Fo(t),i=xv(t),s=wv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=dd(o)),[o,dd(o)]}function T6(t){const e=dd(t);return[Lm(t),e,Lm(e)]}function Lm(t){return t.replace(/start|end/g,e=>_6[e])}function S6(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function C6(t,e,n,r){const i=Fo(t);let s=S6(kr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Lm)))),s}function dd(t){return t.replace(/left|right|bottom|top/g,e=>x6[e])}function I6(t){return{top:0,right:0,bottom:0,left:0,...t}}function uA(t){return typeof t!="number"?I6(t):{top:t,right:t,bottom:t,left:t}}function hd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function S_(t,e,n){let{reference:r,floating:i}=t;const s=xi(e),o=xv(e),a=wv(o),l=kr(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Fo(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const b6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=S_(u,r,l),p=r,g={},E=0;for(let v=0;v<a.length;v++){const{name:T,fn:w}=a[v],{x:_,y:C,data:R,reset:N}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=C??h,g={...g,[T]:{...g[T],...R}},N&&E<=50&&(E++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=S_(u,p,l)),v=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:g}};async function Cl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Rr(e,t),E=uA(g),T=a[p?h==="floating"?"reference":"floating":h],w=hd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},N=hd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:l}):_);return{top:(w.top-N.top+E.top)/R.y,bottom:(N.bottom-w.bottom+E.bottom)/R.y,left:(w.left-N.left+E.left)/R.x,right:(N.right-w.right+E.right)/R.x}}const A6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Rr(t,e)||{};if(u==null)return{};const h=uA(d),p={x:n,y:r},g=xv(i),E=wv(g),v=await o.getDimensions(u),T=g==="y",w=T?"top":"left",_=T?"bottom":"right",C=T?"clientHeight":"clientWidth",R=s.reference[E]+s.reference[g]-p[g]-s.floating[E],N=p[g]-s.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=V?V[C]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[C]||s.floating[E]);const S=R/2-N/2,b=I/2-v[E]/2-1,P=vi(h[w],b),D=vi(h[_],b),M=P,k=I-v[E]-D,X=I/2-v[E]/2+S,ue=Om(M,X,k),J=!l.arrow&&Fo(i)!=null&&X!==ue&&s.reference[E]/2-(X<M?P:D)-v[E]/2<0,Q=J?X<M?X-M:X-k:0;return{[g]:p[g]+Q,data:{[g]:ue,centerOffset:X-ue-Q,...J&&{alignmentOffset:Q}},reset:J}}}),P6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:v=!0,...T}=Rr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=kr(i),_=xi(a),C=kr(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=p||(C||!v?[dd(a)]:T6(a)),V=E!=="none";!p&&V&&N.push(...C6(a,v,E,R));const I=[a,...N],S=await Cl(e,T),b=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&b.push(S[w]),h){const X=E6(i,o,R);b.push(S[X[0]],S[X[1]])}if(P=[...P,{placement:i,overflows:b}],!b.every(X=>X<=0)){var D,M;const X=(((D=s.flip)==null?void 0:D.index)||0)+1,ue=I[X];if(ue)return{data:{index:X,overflows:P},reset:{placement:ue}};let J=(M=P.filter(Q=>Q.overflows[0]<=0).sort((Q,O)=>Q.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(g){case"bestFit":{var k;const Q=(k=P.filter(O=>{if(V){const z=xi(O.placement);return z===_||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:k[0];Q&&(J=Q);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function C_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function I_(t){return w6.some(e=>t[e]>=0)}const R6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Rr(t,e);switch(r){case"referenceHidden":{const s=await Cl(e,{...i,elementContext:"reference"}),o=C_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:I_(o)}}}case"escaped":{const s=await Cl(e,{...i,altBoundary:!0}),o=C_(s,n.floating);return{data:{escapedOffsets:o,escaped:I_(o)}}}default:return{}}}}};async function k6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=kr(n),a=Fo(n),l=xi(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Rr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:E}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const N6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await k6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},D6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:w,y:_}=T;return{x:w,y:_}}},...l}=Rr(t,e),u={x:n,y:r},d=await Cl(e,l),h=xi(kr(i)),p=vv(h);let g=u[p],E=u[h];if(s){const T=p==="y"?"top":"left",w=p==="y"?"bottom":"right",_=g+d[T],C=g-d[w];g=Om(_,g,C)}if(o){const T=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=E+d[T],C=E-d[w];E=Om(_,E,C)}const v=a.fn({...e,[p]:g,[h]:E});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:s,[h]:o}}}}}},M6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Rr(t,e),d={x:n,y:r},h=xi(i),p=vv(h);let g=d[p],E=d[h];const v=Rr(a,e),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const C=p==="y"?"height":"width",R=s.reference[p]-s.floating[C]+T.mainAxis,N=s.reference[p]+s.reference[C]-T.mainAxis;g<R?g=R:g>N&&(g=N)}if(u){var w,_;const C=p==="y"?"width":"height",R=["top","left"].includes(kr(i)),N=s.reference[h]-s.floating[C]+(R&&((w=o.offset)==null?void 0:w[h])||0)+(R?0:T.crossAxis),V=s.reference[h]+s.reference[C]+(R?0:((_=o.offset)==null?void 0:_[h])||0)-(R?T.crossAxis:0);E<N?E=N:E>V&&(E=V)}return{[p]:g,[h]:E}}}},V6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Rr(t,e),d=await Cl(e,u),h=kr(i),p=Fo(i),g=xi(i)==="y",{width:E,height:v}=s.floating;let T,w;h==="top"||h==="bottom"?(T=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,T=p==="end"?"top":"bottom");const _=v-d.top-d.bottom,C=E-d.left-d.right,R=vi(v-d[T],_),N=vi(E-d[w],C),V=!e.middlewareData.shift;let I=R,S=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),V&&!p){const P=sn(d.left,0),D=sn(d.right,0),M=sn(d.top,0),k=sn(d.bottom,0);g?S=E-2*(P!==0||D!==0?P+D:sn(d.left,d.right)):I=v-2*(M!==0||k!==0?M+k:sn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:I});const b=await o.getDimensions(a.floating);return E!==b.width||v!==b.height?{reset:{rects:!0}}:{}}}};function fh(){return typeof window<"u"}function Bo(t){return dA(t)?(t.nodeName||"").toLowerCase():"#document"}function hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lr(t){var e;return(e=(dA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dA(t){return fh()?t instanceof Node||t instanceof hn(t).Node:!1}function Wn(t){return fh()?t instanceof Element||t instanceof hn(t).Element:!1}function ar(t){return fh()?t instanceof HTMLElement||t instanceof hn(t).HTMLElement:!1}function b_(t){return!fh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hn(t).ShadowRoot}function Gl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function j6(t){return["table","td","th"].includes(Bo(t))}function ph(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _v(t){const e=Ev(),n=Wn(t)?Hn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function O6(t){let e=_i(t);for(;ar(e)&&!So(e);){if(_v(e))return e;if(ph(e))return null;e=_i(e)}return null}function Ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function So(t){return["html","body","#document"].includes(Bo(t))}function Hn(t){return hn(t).getComputedStyle(t)}function mh(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(Bo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||b_(t)&&t.host||lr(t);return b_(e)?e.host:e}function hA(t){const e=_i(t);return So(e)?t.ownerDocument?t.ownerDocument.body:t.body:ar(e)&&Gl(e)?e:hA(e)}function Il(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=hA(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=hn(i);if(s){const a=Fm(o);return e.concat(o,o.visualViewport||[],Gl(i)?i:[],a&&n?Il(a):[])}return e.concat(i,Il(i,[],n))}function Fm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fA(t){const e=Hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ar(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ud(n)!==s||ud(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Tv(t){return Wn(t)?t:t.contextElement}function ro(t){const e=Tv(t);if(!ar(e))return wi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=fA(e);let o=(s?ud(n.width):n.width)/r,a=(s?ud(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const L6=wi(0);function pA(t){const e=hn(t);return!Ev()||!e.visualViewport?L6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hn(t)?!1:e}function as(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Tv(t);let o=wi(1);e&&(r?Wn(r)&&(o=ro(r)):o=ro(t));const a=F6(s,n,r)?pA(s):wi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=hn(s),g=r&&Wn(r)?hn(r):r;let E=p,v=Fm(E);for(;v&&r&&g!==E;){const T=ro(v),w=v.getBoundingClientRect(),_=Hn(v),C=w.left+(v.clientLeft+parseFloat(_.paddingLeft))*T.x,R=w.top+(v.clientTop+parseFloat(_.paddingTop))*T.y;l*=T.x,u*=T.y,d*=T.x,h*=T.y,l+=C,u+=R,E=hn(v),v=Fm(E)}}return hd({width:d,height:h,x:l,y:u})}function B6(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=lr(r),a=e?ph(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=wi(1);const d=wi(0),h=ar(r);if((h||!h&&!s)&&((Bo(r)!=="body"||Gl(o))&&(l=mh(r)),ar(r))){const p=as(r);u=ro(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function U6(t){return Array.from(t.getClientRects())}function Bm(t,e){const n=mh(t).scrollLeft;return e?e.left+n:as(lr(t)).left+n}function z6(t){const e=lr(t),n=mh(t),r=t.ownerDocument.body,i=sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bm(t);const a=-n.scrollTop;return Hn(r).direction==="rtl"&&(o+=sn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function $6(t,e){const n=hn(t),r=lr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Ev();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function W6(t,e){const n=as(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ar(t)?ro(t):wi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function A_(t,e,n){let r;if(e==="viewport")r=$6(t,n);else if(e==="document")r=z6(lr(t));else if(Wn(e))r=W6(e,n);else{const i=pA(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return hd(r)}function mA(t,e){const n=_i(t);return n===e||!Wn(n)||So(n)?!1:Hn(n).position==="fixed"||mA(n,e)}function H6(t,e){const n=e.get(t);if(n)return n;let r=Il(t,[],!1).filter(a=>Wn(a)&&Bo(a)!=="body"),i=null;const s=Hn(t).position==="fixed";let o=s?_i(t):t;for(;Wn(o)&&!So(o);){const a=Hn(o),l=_v(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gl(o)&&!l&&mA(t,o))?r=r.filter(d=>d!==o):i=a,o=_i(o)}return e.set(t,r),r}function q6(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ph(e)?[]:H6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=A_(e,d,i);return u.top=sn(h.top,u.top),u.right=vi(h.right,u.right),u.bottom=vi(h.bottom,u.bottom),u.left=sn(h.left,u.left),u},A_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function K6(t){const{width:e,height:n}=fA(t);return{width:e,height:n}}function G6(t,e,n){const r=ar(e),i=lr(e),s=n==="fixed",o=as(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=wi(0);if(r||!r&&!s)if((Bo(e)!=="body"||Gl(i))&&(a=mh(e)),r){const g=as(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Bm(i));let u=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-Bm(i,g)}const h=o.left+a.scrollLeft-l.x-u,p=o.top+a.scrollTop-l.y-d;return{x:h,y:p,width:o.width,height:o.height}}function $f(t){return Hn(t).position==="static"}function P_(t,e){if(!ar(t)||Hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lr(t)===n&&(n=n.ownerDocument.body),n}function gA(t,e){const n=hn(t);if(ph(t))return n;if(!ar(t)){let i=_i(t);for(;i&&!So(i);){if(Wn(i)&&!$f(i))return i;i=_i(i)}return n}let r=P_(t,e);for(;r&&j6(r)&&$f(r);)r=P_(r,e);return r&&So(r)&&$f(r)&&!_v(r)?n:r||O6(t)||n}const Q6=async function(t){const e=this.getOffsetParent||gA,n=this.getDimensions,r=await n(t.floating);return{reference:G6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y6(t){return Hn(t).direction==="rtl"}const X6={convertOffsetParentRelativeRectToViewportRelativeRect:B6,getDocumentElement:lr,getClippingRect:q6,getOffsetParent:gA,getElementRects:Q6,getClientRects:U6,getDimensions:K6,getScale:ro,isElement:Wn,isRTL:Y6};function J6(t,e){let n=null,r;const i=lr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=Lc(d),E=Lc(i.clientWidth-(u+h)),v=Lc(i.clientHeight-(d+p)),T=Lc(u),_={rootMargin:-g+"px "+-E+"px "+-v+"px "+-T+"px",threshold:sn(0,vi(1,l))||1};let C=!0;function R(N){const V=N[0].intersectionRatio;if(V!==l){if(!C)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(R,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,_)}n.observe(t)}return o(!0),s}function Z6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Tv(t),d=i||s?[...u?Il(u):[],...Il(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=u&&a?J6(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let E,v=l?as(t):null;l&&T();function T(){const w=as(t);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,E=requestAnimationFrame(T)}return n(),()=>{var w;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const eB=N6,tB=D6,nB=P6,rB=V6,iB=R6,R_=A6,sB=M6,oB=(t,e,n)=>{const r=new Map,i={platform:X6,...n},s={...i.platform,_c:r};return b6(t,e,{...i,platform:s})};var hu=typeof document<"u"?y.useLayoutEffect:y.useEffect;function fd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!fd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function yA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k_(t,e){const n=yA(t);return Math.round(e*n)/n}function Wf(t){const e=y.useRef(t);return hu(()=>{e.current=t}),e}function aB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(r);fd(p,r)||g(r);const[E,v]=y.useState(null),[T,w]=y.useState(null),_=y.useCallback(O=>{O!==V.current&&(V.current=O,v(O))},[]),C=y.useCallback(O=>{O!==I.current&&(I.current=O,w(O))},[]),R=s||E,N=o||T,V=y.useRef(null),I=y.useRef(null),S=y.useRef(d),b=l!=null,P=Wf(l),D=Wf(i),M=Wf(u),k=y.useCallback(()=>{if(!V.current||!I.current)return;const O={placement:e,strategy:n,middleware:p};D.current&&(O.platform=D.current),oB(V.current,I.current,O).then(z=>{const q={...z,isPositioned:M.current!==!1};X.current&&!fd(S.current,q)&&(S.current=q,Ao.flushSync(()=>{h(q)}))})},[p,e,n,D,M]);hu(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const X=y.useRef(!1);hu(()=>(X.current=!0,()=>{X.current=!1}),[]),hu(()=>{if(R&&(V.current=R),N&&(I.current=N),R&&N){if(P.current)return P.current(R,N,k);k()}},[R,N,k,P,b]);const ue=y.useMemo(()=>({reference:V,floating:I,setReference:_,setFloating:C}),[_,C]),J=y.useMemo(()=>({reference:R,floating:N}),[R,N]),Q=y.useMemo(()=>{const O={position:n,left:0,top:0};if(!J.floating)return O;const z=k_(J.floating,d.x),q=k_(J.floating,d.y);return a?{...O,transform:"translate("+z+"px, "+q+"px)",...yA(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:q}},[n,a,J.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:ue,elements:J,floatingStyles:Q}),[d,k,ue,J,Q])}const lB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?R_({element:r.current,padding:i}).fn(n):{}:r?R_({element:r,padding:i}).fn(n):{}}}},cB=(t,e)=>({...eB(t),options:[t,e]}),uB=(t,e)=>({...tB(t),options:[t,e]}),dB=(t,e)=>({...sB(t),options:[t,e]}),hB=(t,e)=>({...nB(t),options:[t,e]}),fB=(t,e)=>({...rB(t),options:[t,e]}),pB=(t,e)=>({...iB(t),options:[t,e]}),mB=(t,e)=>({...lB(t),options:[t,e]});var gB="Arrow",vA=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(we.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});vA.displayName=gB;var yB=vA;function vB(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:p,children:g,...E}=h,v=(p==null?void 0:p[t][l])||a,T=y.useMemo(()=>E,Object.values(E));return f.jsx(v.Provider,{value:T,children:g})}function d(h,p){const g=(p==null?void 0:p[t][l])||a,E=y.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,wB(i,...e)]}function wB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wA(t){const[e,n]=y.useState(void 0);return $t(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sv="Popper",[xA,_A]=vB(Sv),[xB,EA]=xA(Sv),TA=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return f.jsx(xB,{scope:e,anchor:r,onAnchorChange:i,children:n})};TA.displayName=Sv;var SA="PopperAnchor",CA=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=EA(SA,n),o=y.useRef(null),a=Ge(e,o);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(we.div,{...i,ref:a})});CA.displayName=SA;var Cv="PopperContent",[_B,EB]=xA(Cv),IA=y.forwardRef((t,e)=>{var Z,be,Je,ye,$,W;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:E,...v}=t,T=EA(Cv,n),[w,_]=y.useState(null),C=Ge(e,te=>_(te)),[R,N]=y.useState(null),V=wA(R),I=(V==null?void 0:V.width)??0,S=(V==null?void 0:V.height)??0,b=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],M=D.length>0,k={padding:P,boundary:D.filter(SB),altBoundary:M},{refs:X,floatingStyles:ue,placement:J,isPositioned:Q,middlewareData:O}=aB({strategy:"fixed",placement:b,whileElementsMounted:(...te)=>Z6(...te,{animationFrame:g==="always"}),elements:{reference:T.anchor},middleware:[cB({mainAxis:i+S,alignmentAxis:o}),l&&uB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?dB():void 0,...k}),l&&hB({...k}),fB({...k,apply:({elements:te,rects:se,availableWidth:Se,availableHeight:mt})=>{const{width:Lt,height:zo}=se.reference,yn=te.floating.style;yn.setProperty("--radix-popper-available-width",`${Se}px`),yn.setProperty("--radix-popper-available-height",`${mt}px`),yn.setProperty("--radix-popper-anchor-width",`${Lt}px`),yn.setProperty("--radix-popper-anchor-height",`${zo}px`)}}),R&&mB({element:R,padding:a}),CB({arrowWidth:I,arrowHeight:S}),p&&pB({strategy:"referenceHidden",...k})]}),[z,q]=PA(J),ie=or(E);$t(()=>{Q&&(ie==null||ie())},[Q,ie]);const me=(Z=O.arrow)==null?void 0:Z.x,Ie=(be=O.arrow)==null?void 0:be.y,nt=((Je=O.arrow)==null?void 0:Je.centerOffset)!==0,[rt,lt]=y.useState();return $t(()=>{w&&lt(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:Q?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[(ye=O.transformOrigin)==null?void 0:ye.x,($=O.transformOrigin)==null?void 0:$.y].join(" "),...((W=O.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(_B,{scope:n,placedSide:z,onArrowChange:N,arrowX:me,arrowY:Ie,shouldHideArrow:nt,children:f.jsx(we.div,{"data-side":z,"data-align":q,...v,ref:C,style:{...v.style,animation:Q?void 0:"none"}})})})});IA.displayName=Cv;var bA="PopperArrow",TB={top:"bottom",right:"left",bottom:"top",left:"right"},AA=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=EB(bA,r),o=TB[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(yB,{...i,ref:n,style:{...i.style,display:"block"}})})});AA.displayName=bA;function SB(t){return t!==null}var CB=t=>({name:"transformOrigin",options:t,fn(e){var T,w,_;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=PA(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,g=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let E="",v="";return u==="bottom"?(E=o?h:`${p}px`,v=`${-l}px`):u==="top"?(E=o?h:`${p}px`,v=`${r.floating.height+l}px`):u==="right"?(E=`${-l}px`,v=o?h:`${g}px`):u==="left"&&(E=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:E,y:v}}}});function PA(t){const[e,n="center"]=t.split("-");return[e,n]}var IB=TA,bB=CA,AB=IA,PB=AA,RB="Portal",Iv=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);$t(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rN.createPortal(f.jsx(we.div,{...r,ref:e}),o):null});Iv.displayName=RB;function RA(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var kB="VisuallyHidden",kA=y.forwardRef((t,e)=>f.jsx(we.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kA.displayName=kB;var NB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ss=new WeakMap,Fc=new WeakMap,Bc={},Hf=0,NA=function(t){return t&&(t.host||NA(t.parentNode))},DB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MB=function(t,e,n,r){var i=DB(e,Array.isArray(t)?t:[t]);Bc[n]||(Bc[n]=new WeakMap);var s=Bc[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),E=g!==null&&g!=="false",v=(Ss.get(p)||0)+1,T=(s.get(p)||0)+1;Ss.set(p,v),s.set(p,T),o.push(p),v===1&&E&&Fc.set(p,!0),T===1&&p.setAttribute(n,"true"),E||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),Hf++,function(){o.forEach(function(h){var p=Ss.get(h)-1,g=s.get(h)-1;Ss.set(h,p),s.set(h,g),p||(Fc.has(h)||h.removeAttribute(r),Fc.delete(h)),g||h.removeAttribute(n)}),Hf--,Hf||(Ss=new WeakMap,Ss=new WeakMap,Fc=new WeakMap,Bc={})}},DA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=NB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),MB(r,i,n,"aria-hidden")):function(){return null}},Xn=function(){return Xn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xn.apply(this,arguments)};function MA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var fu="right-scroll-bar-position",pu="width-before-scroll-bar",jB="with-scroll-bars-hidden",OB="--removed-body-scroll-bar-size";function qf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function LB(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var FB=typeof window<"u"?y.useLayoutEffect:y.useEffect,N_=new WeakMap;function BB(t,e){var n=LB(null,function(r){return t.forEach(function(i){return qf(i,r)})});return FB(function(){var r=N_.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||qf(a,null)}),s.forEach(function(a){i.has(a)||qf(a,o)})}N_.set(n,t)},[t]),n}function UB(t){return t}function zB(t,e){e===void 0&&(e=UB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function $B(t){t===void 0&&(t={});var e=zB(null);return e.options=Xn({async:!0,ssr:!1},t),e}var VA=function(t){var e=t.sideCar,n=MA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Xn({},n))};VA.isSideCarExport=!0;function WB(t,e){return t.useMedium(e),VA}var jA=$B(),Kf=function(){},gh=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Kf,onWheelCapture:Kf,onTouchMoveCapture:Kf}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,E=t.inert,v=t.allowPinchZoom,T=t.as,w=T===void 0?"div":T,_=t.gapMode,C=MA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,N=BB([n,e]),V=Xn(Xn({},C),i);return y.createElement(y.Fragment,null,d&&y.createElement(R,{sideCar:jA,removeScrollBar:u,shards:h,noIsolation:g,inert:E,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(a),Xn(Xn({},V),{ref:N})):y.createElement(w,Xn({},V,{className:l,ref:N}),a))});gh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gh.classNames={fullWidth:pu,zeroRight:fu};var HB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=HB();return e&&t.setAttribute("nonce",e),t}function KB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function GB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=qB())&&(KB(e,n),GB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YB=function(){var t=QB();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},OA=function(){var t=YB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},XB={left:0,top:0,right:0,gap:0},Gf=function(t){return parseInt(t||"",10)||0},JB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Gf(n),Gf(r),Gf(i)]},ZB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return XB;var e=JB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},eU=OA(),io="data-scroll-locked",tU=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(io,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(io,`] {
    `).concat(OB,": ").concat(a,`px;
  }
`)},D_=function(){var t=parseInt(document.body.getAttribute(io)||"0",10);return isFinite(t)?t:0},nU=function(){y.useEffect(function(){return document.body.setAttribute(io,(D_()+1).toString()),function(){var t=D_()-1;t<=0?document.body.removeAttribute(io):document.body.setAttribute(io,t.toString())}},[])},rU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;nU();var s=y.useMemo(function(){return ZB(i)},[i]);return y.createElement(eU,{styles:tU(s,!e,i,n?"":"!important")})},Um=!1;if(typeof window<"u")try{var Uc=Object.defineProperty({},"passive",{get:function(){return Um=!0,!0}});window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{Um=!1}var Cs=Um?{passive:!1}:!1,iU=function(t){return t.tagName==="TEXTAREA"},LA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!iU(t)&&n[e]==="visible")},sU=function(t){return LA(t,"overflowY")},oU=function(t){return LA(t,"overflowX")},M_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FA(t,r);if(i){var s=BA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},lU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FA=function(t,e){return t==="v"?sU(e):oU(e)},BA=function(t,e){return t==="v"?aU(e):lU(e)},cU=function(t,e){return t==="h"&&e==="rtl"?-1:1},uU=function(t,e,n,r,i){var s=cU(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{var g=BA(t,a),E=g[0],v=g[1],T=g[2],w=v-T-s*E;(E||w)&&FA(t,a)&&(h+=w,p+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(u=!0),u},zc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},V_=function(t){return[t.deltaX,t.deltaY]},j_=function(t){return t&&"current"in t?t.current:t},dU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fU=0,Is=[];function pU(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(fU++)[0],s=y.useState(OA)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=VB([t.lockRef.current],(t.shards||[]).map(j_),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,T){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=zc(v),_=n.current,C="deltaX"in v?v.deltaX:_[0]-w[0],R="deltaY"in v?v.deltaY:_[1]-w[1],N,V=v.target,I=Math.abs(C)>Math.abs(R)?"h":"v";if("touches"in v&&I==="h"&&V.type==="range")return!1;var S=M_(I,V);if(!S)return!0;if(S?N=I:(N=I==="v"?"h":"v",S=M_(I,V)),!S)return!1;if(!r.current&&"changedTouches"in v&&(C||R)&&(r.current=N),!N)return!0;var b=r.current||N;return uU(b,T,v,b==="h"?C:R,!0)},[]),l=y.useCallback(function(v){var T=v;if(!(!Is.length||Is[Is.length-1]!==s)){var w="deltaY"in T?V_(T):zc(T),_=e.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&dU(N.delta,w)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var C=(o.current.shards||[]).map(j_).filter(Boolean).filter(function(N){return N.contains(T.target)}),R=C.length>0?a(T,C[0]):!o.current.noIsolation;R&&T.cancelable&&T.preventDefault()}}},[]),u=y.useCallback(function(v,T,w,_){var C={name:v,delta:T,target:w,should:_,shadowParent:mU(w)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(R){return R!==C})},1)},[]),d=y.useCallback(function(v){n.current=zc(v),r.current=void 0},[]),h=y.useCallback(function(v){u(v.type,V_(v),v.target,a(v,t.lockRef.current))},[]),p=y.useCallback(function(v){u(v.type,zc(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Is.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Cs),document.addEventListener("touchmove",l,Cs),document.addEventListener("touchstart",d,Cs),function(){Is=Is.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Cs),document.removeEventListener("touchmove",l,Cs),document.removeEventListener("touchstart",d,Cs)}},[]);var g=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(s,{styles:hU(i)}):null,g?y.createElement(rU,{gapMode:t.gapMode}):null)}function mU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gU=WB(jA,pU);var bv=y.forwardRef(function(t,e){return y.createElement(gh,Xn({},t,{ref:e,sideCar:gU}))});bv.classNames=gh.classNames;var yU=[" ","Enter","ArrowUp","ArrowDown"],vU=[" ","Enter"],Ql="Select",[yh,vh,wU]=KC(Ql),[Uo,V$]=th(Ql,[wU,_A]),wh=_A(),[xU,bi]=Uo(Ql),[_U,EU]=Uo(Ql),UA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:g,form:E}=t,v=wh(e),[T,w]=y.useState(null),[_,C]=y.useState(null),[R,N]=y.useState(!1),V=Ry(u),[I=!1,S]=xo({prop:r,defaultProp:i,onChange:s}),[b,P]=xo({prop:o,defaultProp:a,onChange:l}),D=y.useRef(null),M=T?E||!!T.closest("form"):!0,[k,X]=y.useState(new Set),ue=Array.from(k).map(J=>J.props.value).join(";");return f.jsx(IB,{...v,children:f.jsxs(xU,{required:g,scope:e,trigger:T,onTriggerChange:w,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:R,onValueNodeHasChildrenChange:N,contentId:ci(),value:b,onValueChange:P,open:I,onOpenChange:S,dir:V,triggerPointerDownPosRef:D,disabled:p,children:[f.jsx(yh.Provider,{scope:e,children:f.jsx(_U,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{X(Q=>new Set(Q).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{X(Q=>{const O=new Set(Q);return O.delete(J),O})},[]),children:n})}),M?f.jsxs(hP,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:b,onChange:J=>P(J.target.value),disabled:p,form:E,children:[b===void 0?f.jsx("option",{value:""}):null,Array.from(k)]},ue):null]})})};UA.displayName=Ql;var zA="SelectTrigger",$A=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=wh(n),o=bi(zA,n),a=o.disabled||r,l=Ge(e,o.onTriggerChange),u=vh(n),d=y.useRef("touch"),[h,p,g]=fP(v=>{const T=u().filter(C=>!C.disabled),w=T.find(C=>C.value===o.value),_=pP(T,v,w);_!==void 0&&o.onValueChange(_.value)}),E=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return f.jsx(bB,{asChild:!0,...s,children:f.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":dP(o.value)?"":void 0,...i,ref:l,onClick:fe(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&E(v)}),onPointerDown:fe(i.onPointerDown,v=>{d.current=v.pointerType;const T=v.target;T.hasPointerCapture(v.pointerId)&&T.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(E(v),v.preventDefault())}),onKeyDown:fe(i.onKeyDown,v=>{const T=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(T&&v.key===" ")&&yU.includes(v.key)&&(E(),v.preventDefault())})})})});$A.displayName=zA;var WA="SelectValue",HA=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=bi(WA,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,h=Ge(e,l.onValueNodeChange);return $t(()=>{u(d)},[u,d]),f.jsx(we.span,{...a,ref:h,style:{pointerEvents:"none"},children:dP(l.value)?f.jsx(f.Fragment,{children:o}):s})});HA.displayName=WA;var TU="SelectIcon",qA=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(we.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});qA.displayName=TU;var SU="SelectPortal",KA=t=>f.jsx(Iv,{asChild:!0,...t});KA.displayName=SU;var ls="SelectContent",GA=y.forwardRef((t,e)=>{const n=bi(ls,t.__scopeSelect),[r,i]=y.useState();if($t(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ao.createPortal(f.jsx(QA,{scope:t.__scopeSelect,children:f.jsx(yh.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),s):null}return f.jsx(YA,{...t,ref:e})});GA.displayName=ls;var Dn=10,[QA,Ai]=Uo(ls),CU="SelectContentImpl",YA=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:E,hideWhenDetached:v,avoidCollisions:T,...w}=t,_=bi(ls,n),[C,R]=y.useState(null),[N,V]=y.useState(null),I=Ge(e,Z=>R(Z)),[S,b]=y.useState(null),[P,D]=y.useState(null),M=vh(n),[k,X]=y.useState(!1),ue=y.useRef(!1);y.useEffect(()=>{if(C)return DA(C)},[C]),lA();const J=y.useCallback(Z=>{const[be,...Je]=M().map(W=>W.ref.current),[ye]=Je.slice(-1),$=document.activeElement;for(const W of Z)if(W===$||(W==null||W.scrollIntoView({block:"nearest"}),W===be&&N&&(N.scrollTop=0),W===ye&&N&&(N.scrollTop=N.scrollHeight),W==null||W.focus(),document.activeElement!==$))return},[M,N]),Q=y.useCallback(()=>J([S,C]),[J,S,C]);y.useEffect(()=>{k&&Q()},[k,Q]);const{onOpenChange:O,triggerPointerDownPosRef:z}=_;y.useEffect(()=>{if(C){let Z={x:0,y:0};const be=ye=>{var $,W;Z={x:Math.abs(Math.round(ye.pageX)-((($=z.current)==null?void 0:$.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((W=z.current)==null?void 0:W.y)??0))}},Je=ye=>{Z.x<=10&&Z.y<=10?ye.preventDefault():C.contains(ye.target)||O(!1),document.removeEventListener("pointermove",be),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Je,{capture:!0})}}},[C,O,z]),y.useEffect(()=>{const Z=()=>O(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[O]);const[q,ie]=fP(Z=>{const be=M().filter($=>!$.disabled),Je=be.find($=>$.ref.current===document.activeElement),ye=pP(be,Z,Je);ye&&setTimeout(()=>ye.ref.current.focus())}),me=y.useCallback((Z,be,Je)=>{const ye=!ue.current&&!Je;(_.value!==void 0&&_.value===be||ye)&&(b(Z),ye&&(ue.current=!0))},[_.value]),Ie=y.useCallback(()=>C==null?void 0:C.focus(),[C]),nt=y.useCallback((Z,be,Je)=>{const ye=!ue.current&&!Je;(_.value!==void 0&&_.value===be||ye)&&D(Z)},[_.value]),rt=r==="popper"?zm:XA,lt=rt===zm?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:E,hideWhenDetached:v,avoidCollisions:T}:{};return f.jsx(QA,{scope:n,content:C,viewport:N,onViewportChange:V,itemRefCallback:me,selectedItem:S,onItemLeave:Ie,itemTextRefCallback:nt,focusSelectedItem:Q,selectedItemText:P,position:r,isPositioned:k,searchRef:q,children:f.jsx(bv,{as:os,allowPinchZoom:!0,children:f.jsx(yv,{asChild:!0,trapped:_.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:fe(i,Z=>{var be;(be=_.trigger)==null||be.focus({preventScroll:!0}),Z.preventDefault()}),children:f.jsx(gv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(rt,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Z=>Z.preventDefault(),...w,...lt,onPlaced:()=>X(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:fe(w.onKeyDown,Z=>{const be=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!be&&Z.key.length===1&&ie(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ye=M().filter($=>!$.disabled).map($=>$.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const $=Z.target,W=ye.indexOf($);ye=ye.slice(W+1)}setTimeout(()=>J(ye)),Z.preventDefault()}})})})})})})});YA.displayName=CU;var IU="SelectItemAlignedPosition",XA=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=bi(ls,n),o=Ai(ls,n),[a,l]=y.useState(null),[u,d]=y.useState(null),h=Ge(e,I=>d(I)),p=vh(n),g=y.useRef(!1),E=y.useRef(!0),{viewport:v,selectedItem:T,selectedItemText:w,focusSelectedItem:_}=o,C=y.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&v&&T&&w){const I=s.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),b=s.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(s.dir!=="rtl"){const $=P.left-S.left,W=b.left-$,te=I.left-W,se=I.width+te,Se=Math.max(se,S.width),mt=window.innerWidth-Dn,Lt=g_(W,[Dn,Math.max(Dn,mt-Se)]);a.style.minWidth=se+"px",a.style.left=Lt+"px"}else{const $=S.right-P.right,W=window.innerWidth-b.right-$,te=window.innerWidth-I.right-W,se=I.width+te,Se=Math.max(se,S.width),mt=window.innerWidth-Dn,Lt=g_(W,[Dn,Math.max(Dn,mt-Se)]);a.style.minWidth=se+"px",a.style.right=Lt+"px"}const D=p(),M=window.innerHeight-Dn*2,k=v.scrollHeight,X=window.getComputedStyle(u),ue=parseInt(X.borderTopWidth,10),J=parseInt(X.paddingTop,10),Q=parseInt(X.borderBottomWidth,10),O=parseInt(X.paddingBottom,10),z=ue+J+k+O+Q,q=Math.min(T.offsetHeight*5,z),ie=window.getComputedStyle(v),me=parseInt(ie.paddingTop,10),Ie=parseInt(ie.paddingBottom,10),nt=I.top+I.height/2-Dn,rt=M-nt,lt=T.offsetHeight/2,Z=T.offsetTop+lt,be=ue+J+Z,Je=z-be;if(be<=nt){const $=D.length>0&&T===D[D.length-1].ref.current;a.style.bottom="0px";const W=u.clientHeight-v.offsetTop-v.offsetHeight,te=Math.max(rt,lt+($?Ie:0)+W+Q),se=be+te;a.style.height=se+"px"}else{const $=D.length>0&&T===D[0].ref.current;a.style.top="0px";const te=Math.max(nt,ue+v.offsetTop+($?me:0)+lt)+Je;a.style.height=te+"px",v.scrollTop=be-nt+v.offsetTop}a.style.margin=`${Dn}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,s.trigger,s.valueNode,a,u,v,T,w,s.dir,r]);$t(()=>C(),[C]);const[R,N]=y.useState();$t(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const V=y.useCallback(I=>{I&&E.current===!0&&(C(),_==null||_(),E.current=!1)},[C,_]);return f.jsx(AU,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:V,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:f.jsx(we.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});XA.displayName=IU;var bU="SelectPopperPosition",zm=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Dn,...s}=t,o=wh(n);return f.jsx(AB,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zm.displayName=bU;var[AU,Av]=Uo(ls,{}),$m="SelectViewport",JA=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ai($m,n),o=Av($m,n),a=Ge(e,s.onViewportChange),l=y.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(yh.Slot,{scope:n,children:f.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-d.scrollTop);if(g>0){const E=window.innerHeight-Dn*2,v=parseFloat(h.style.minHeight),T=parseFloat(h.style.height),w=Math.max(v,T);if(w<E){const _=w+g,C=Math.min(E,_),R=_-C;h.style.height=C+"px",h.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});JA.displayName=$m;var ZA="SelectGroup",[PU,RU]=Uo(ZA),kU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ci();return f.jsx(PU,{scope:n,id:i,children:f.jsx(we.div,{role:"group","aria-labelledby":i,...r,ref:e})})});kU.displayName=ZA;var eP="SelectLabel",tP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=RU(eP,n);return f.jsx(we.div,{id:i.id,...r,ref:e})});tP.displayName=eP;var pd="SelectItem",[NU,nP]=Uo(pd),rP=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=bi(pd,n),l=Ai(pd,n),u=a.value===r,[d,h]=y.useState(s??""),[p,g]=y.useState(!1),E=Ge(e,_=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,_,r,i)}),v=ci(),T=y.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(NU,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:y.useCallback(_=>{h(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:f.jsx(yh.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:f.jsx(we.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:E,onFocus:fe(o.onFocus,()=>g(!0)),onBlur:fe(o.onBlur,()=>g(!1)),onClick:fe(o.onClick,()=>{T.current!=="mouse"&&w()}),onPointerUp:fe(o.onPointerUp,()=>{T.current==="mouse"&&w()}),onPointerDown:fe(o.onPointerDown,_=>{T.current=_.pointerType}),onPointerMove:fe(o.onPointerMove,_=>{var C;T.current=_.pointerType,i?(C=l.onItemLeave)==null||C.call(l):T.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:fe(o.onKeyDown,_=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&_.key===" "||(vU.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});rP.displayName=pd;var Aa="SelectItemText",iP=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=bi(Aa,n),a=Ai(Aa,n),l=nP(Aa,n),u=EU(Aa,n),[d,h]=y.useState(null),p=Ge(e,w=>h(w),l.onItemTextChange,w=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,E=y.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:T}=u;return $t(()=>(v(E),()=>T(E)),[v,T,E]),f.jsxs(f.Fragment,{children:[f.jsx(we.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ao.createPortal(s.children,o.valueNode):null]})});iP.displayName=Aa;var sP="SelectItemIndicator",oP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return nP(sP,n).isSelected?f.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});oP.displayName=sP;var Wm="SelectScrollUpButton",aP=y.forwardRef((t,e)=>{const n=Ai(Wm,t.__scopeSelect),r=Av(Wm,t.__scopeSelect),[i,s]=y.useState(!1),o=Ge(e,r.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(cP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});aP.displayName=Wm;var Hm="SelectScrollDownButton",lP=y.forwardRef((t,e)=>{const n=Ai(Hm,t.__scopeSelect),r=Av(Hm,t.__scopeSelect),[i,s]=y.useState(!1),o=Ge(e,r.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(cP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});lP.displayName=Hm;var cP=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ai("SelectScrollButton",n),o=y.useRef(null),a=vh(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),$t(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(we.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{l()})})}),DU="SelectSeparator",uP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});uP.displayName=DU;var qm="SelectArrow",MU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wh(n),s=bi(qm,n),o=Ai(qm,n);return s.open&&o.position==="popper"?f.jsx(PB,{...i,...r,ref:e}):null});MU.displayName=qm;function dP(t){return t===""||t===void 0}var hP=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=y.useRef(null),s=Ge(e,i),o=RA(n);return y.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),f.jsx(kA,{asChild:!0,children:f.jsx("select",{...r,ref:s,defaultValue:n})})});hP.displayName="BubbleSelect";function fP(t){const e=or(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function pP(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=VU(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function VU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jU=UA,mP=$A,OU=HA,LU=qA,FU=KA,gP=GA,BU=JA,yP=tP,vP=rP,UU=iP,zU=oP,wP=aP,xP=lP,_P=uP;const Pv=jU,Rv=OU,xh=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(mP,{ref:r,className:ke("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(LU,{asChild:!0,children:f.jsx(Y5,{className:"h-4 w-4 opacity-50"})})]}));xh.displayName=mP.displayName;const EP=y.forwardRef(({className:t,...e},n)=>f.jsx(wP,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(t6,{})}));EP.displayName=wP.displayName;const TP=y.forwardRef(({className:t,...e},n)=>f.jsx(xP,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(Z5,{})}));TP.displayName=xP.displayName;const _h=y.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>f.jsx(FU,{children:f.jsxs(gP,{ref:i,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(EP,{}),f.jsx(BU,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(TP,{})]})}));_h.displayName=gP.displayName;const $U=y.forwardRef(({className:t,...e},n)=>f.jsx(yP,{ref:n,className:ke("px-2 py-1.5 text-sm font-semibold",t),...e}));$U.displayName=yP.displayName;const bl=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(vP,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(zU,{children:f.jsx(sA,{className:"h-4 w-4"})})}),f.jsx(UU,{children:e})]}));bl.displayName=vP.displayName;const WU=y.forwardRef(({className:t,...e},n)=>f.jsx(_P,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",t),...e}));WU.displayName=_P.displayName;const HU=({messages:t,employees:e,onMessageSent:n})=>{const[r,i]=y.useState({sender:"Admin",message:"",recipientId:"all_employees",timestamp:de.now()}),s=l=>{const{name:u,value:d}=l.target;i(h=>({...h,[u]:d}))},o=l=>{i(u=>({...u,recipientId:l}))},a=async l=>{l.preventDefault();try{await xn(De(oe,"messages"),{...r,recipientId:r.recipientId==="all"?"all_employees":r.recipientId,timestamp:de.now()}),i({sender:"Admin",message:"",recipientId:"all_employees",timestamp:de.now()}),n()}catch(u){console.error("Error creating message:",u)}};return f.jsxs(en,{className:"glassmorphism",children:[f.jsx(zn,{children:f.jsxs($n,{className:"text-white flex items-center gap-2",children:[f.jsx(dh,{className:"w-6 h-6"}),"Manage Messages"]})}),f.jsxs(tn,{children:[f.jsxs("form",{onSubmit:a,className:"grid gap-4",children:[f.jsxs(Pv,{value:r.recipientId,onValueChange:o,children:[f.jsx(xh,{className:"bg-white/10 border-white/20 text-white",children:f.jsx(Rv,{placeholder:"Select recipient"})}),f.jsxs(_h,{children:[f.jsx(bl,{value:"all_employees",children:"All Employees"}),e.map(l=>f.jsx(bl,{value:l.employeeId,children:l.name},l.employeeId))]})]}),f.jsx("textarea",{name:"message",placeholder:"Message",value:r.message,onChange:s,className:"flex h-20 w-full rounded-md border bg-white/10 border-white/20 px-3 py-2 text-base text-white placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 md:text-sm"}),f.jsxs(Ce,{type:"submit",className:"bg-white/20 hover:bg-white/30 text-white border-0",children:[f.jsx(Zb,{className:"w-4 h-4 mr-2"}),"Send Message"]})]}),f.jsx(ge.div,{className:"mt-8 divide-y divide-white/10",initial:{opacity:0},animate:{opacity:1},children:f.jsx(_I,{children:t.map((l,u)=>{var d,h;return f.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:u*.1},className:"py-4",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:f.jsx(hh,{className:"w-4 h-4 text-white/70"})}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium text-white",children:l.sender}),l.recipientId&&f.jsxs("span",{className:"text-sm text-white/70 ml-2",children:["to: ",l.recipientId==="all_employees"?"All Employees":((d=e.find(p=>p.employeeId===l.recipientId))==null?void 0:d.name)||l.recipientId]})]})]}),f.jsx("span",{className:"text-sm text-white/50",children:(h=l.timestamp)==null?void 0:h.toDate().toLocaleString()})]}),f.jsx("p",{className:"mt-2 text-white/90 pl-10",children:l.message}),l.reply&&f.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"ml-10 mt-2 p-3 bg-white/5 rounded-lg",children:[f.jsxs("p",{className:"text-sm text-white/70",children:["Reply from ",l.reply.sender,":"]}),f.jsx("p",{className:"mt-1 text-white",children:l.reply.message}),f.jsx("span",{className:"text-xs text-white/50",children:l.reply.timestamp.toDate().toLocaleString()})]})]},l.id)})})})]})]})},an=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:ke("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));an.displayName="Input";const qU=({employees:t,departments:e,onUpdate:n})=>{const[r,i]=y.useState({name:"",employeeId:"",password:"",department:"",isAdmin:!1,disabled:!1}),[s,o]=y.useState(null),[a,l]=y.useState(!1),{toast:u}=Lo(),d=T=>{const{name:w,type:_,checked:C,value:R}=T.target;i(N=>({...N,[w]:_==="checkbox"?C:R}))},h=T=>{const{name:w,type:_,checked:C,value:R}=T.target;s&&o(N=>({...N,[w]:_==="checkbox"?C:R}))},p=T=>{a&&s?o(w=>({...w,department:T})):i(w=>({...w,department:T}))},g=async T=>{T.preventDefault();try{await xn(De(oe,"employees"),{...r,isAdmin:r.isAdmin||!1,disabled:r.disabled||!1,createdAt:de.now()}),i({name:"",employeeId:"",password:"",department:"",isAdmin:!1,disabled:!1}),n(),u({title:"Success",description:"Employee created successfully"})}catch(w){console.error("Error creating employee:",w),u({title:"Error",description:"Failed to create employee",variant:"destructive"})}},E=async T=>{if(T.preventDefault(),!!s)try{const w=ct(oe,"employees",s.id),_={name:s.name,employeeId:s.employeeId,password:s.password,department:s.department,isAdmin:s.isAdmin||!1,disabled:s.disabled||!1};await On(w,_),l(!1),o(null),n(),u({title:"Success",description:"Employee updated successfully"})}catch(w){console.error("Error updating employee:",w),u({title:"Error",description:"Failed to update employee",variant:"destructive"})}},v=async T=>{if(confirm("Are you sure you want to delete this employee?"))try{await Zd(ct(oe,"employees",T)),n(),u({title:"Success",description:"Employee deleted successfully"})}catch(w){console.error("Error deleting employee:",w),u({title:"Error",description:"Failed to delete employee",variant:"destructive"})}};return f.jsxs(en,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[f.jsx(zn,{children:f.jsxs($n,{className:"flex items-center gap-2",children:[f.jsx(nA,{className:"w-6 h-6"}),"Manage Employees"]})}),f.jsx(tn,{children:f.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid gap-6",children:[f.jsxs("form",{onSubmit:a?E:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(an,{type:"text",name:"name",placeholder:"Name",value:a?s==null?void 0:s.name:r.name,onChange:a?h:d,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),f.jsx(an,{type:"text",name:"employeeId",placeholder:"Employee ID",value:a?s==null?void 0:s.employeeId:r.employeeId,onChange:a?h:d,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),f.jsx(an,{type:"password",name:"password",placeholder:"Password",value:a?s==null?void 0:s.password:r.password,onChange:a?h:d,className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),f.jsxs(Pv,{value:a?s==null?void 0:s.department:r.department,onValueChange:p,children:[f.jsx(xh,{className:"bg-white/10 border-white/20 text-white",children:f.jsx(Rv,{placeholder:"Select department"})}),f.jsx(_h,{children:e.map(T=>f.jsx(bl,{value:T.id,children:T.name},T.id))})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(an,{type:"checkbox",name:"isAdmin",checked:a?(s==null?void 0:s.isAdmin)||!1:r.isAdmin,onChange:a?h:d,className:"w-4 h-4"}),f.jsx("span",{children:"Is Admin"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(an,{type:"checkbox",name:"disabled",checked:a?(s==null?void 0:s.disabled)||!1:r.disabled,onChange:a?h:d,className:"w-4 h-4"}),f.jsx("span",{children:"Disabled"})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ce,{type:"submit",className:"flex-1 bg-white/20 hover:bg-white/30 text-white",children:a?f.jsxs(f.Fragment,{children:[f.jsx(I5,{className:"w-4 h-4 mr-2"}),"Update"]}):f.jsxs(f.Fragment,{children:[f.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Create Employee"]})}),a&&f.jsxs(Ce,{type:"button",variant:"ghost",onClick:()=>{l(!1),o(null)},className:"flex-1 text-white hover:bg-white/20",children:[f.jsx(A5,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),f.jsx(ge.div,{className:"grid gap-3",initial:{opacity:0},animate:{opacity:1},children:t.map(T=>{var w;return f.jsxs(ge.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:T.name}),f.jsxs("div",{className:"text-sm text-white/70",children:[T.employeeId,T.department&&f.jsxs("span",{className:"ml-2",children:[" ",(w=e.find(_=>_.id===T.department))==null?void 0:w.name]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>{o(T),l(!0)},className:"text-white hover:bg-white/20",children:f.jsx(Mm,{className:"w-4 h-4"})}),f.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>v(T.id),className:"text-red-400 hover:bg-red-500/20",children:f.jsx(eA,{className:"w-4 h-4"})})]})]},T.id)})})]})})]})};function qn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function cs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const SP=6048e5,KU=864e5;let GU={};function Eh(){return GU}function Al(t,e){var a,l,u,d;const n=Eh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=qn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function md(t){return Al(t,{weekStartsOn:1})}function CP(t){const e=qn(t),n=e.getFullYear(),r=cs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=md(r),s=cs(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=md(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function O_(t){const e=qn(t);return e.setHours(0,0,0,0),e}function L_(t){const e=qn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function QU(t,e){const n=O_(t),r=O_(e),i=+n-L_(n),s=+r-L_(r);return Math.round((i-s)/KU)}function YU(t){const e=CP(t),n=cs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),md(n)}function XU(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JU(t){if(!XU(t)&&typeof t!="number")return!1;const e=qn(t);return!isNaN(Number(e))}function ZU(t){const e=qn(t),n=cs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ez={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tz=(t,e,n)=>{let r;const i=ez[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sz={date:Qf({formats:nz,defaultWidth:"full"}),time:Qf({formats:rz,defaultWidth:"full"}),dateTime:Qf({formats:iz,defaultWidth:"full"})},oz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},az=(t,e,n,r)=>oz[t];function ma(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const lz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mz={ordinalNumber:pz,era:ma({values:lz,defaultWidth:"wide"}),quarter:ma({values:cz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ma({values:uz,defaultWidth:"wide"}),day:ma({values:dz,defaultWidth:"wide"}),dayPeriod:ma({values:hz,defaultWidth:"wide",formattingValues:fz,defaultFormattingWidth:"wide"})};function ga(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?yz(a,h=>h.test(o)):gz(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function gz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vz(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const wz=/^(\d+)(th|st|nd|rd)?/i,xz=/\d+/i,_z={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ez={any:[/^b/i,/^(a|c)/i]},Tz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sz={any:[/1/i,/2/i,/3/i,/4/i]},Cz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Iz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Az={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kz={ordinalNumber:vz({matchPattern:wz,parsePattern:xz,valueCallback:t=>parseInt(t,10)}),era:ga({matchPatterns:_z,defaultMatchWidth:"wide",parsePatterns:Ez,defaultParseWidth:"any"}),quarter:ga({matchPatterns:Tz,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ga({matchPatterns:Cz,defaultMatchWidth:"wide",parsePatterns:Iz,defaultParseWidth:"any"}),day:ga({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:Az,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:Pz,defaultMatchWidth:"any",parsePatterns:Rz,defaultParseWidth:"any"})},Nz={code:"en-US",formatDistance:tz,formatLong:sz,formatRelative:az,localize:mz,match:kz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dz(t){const e=qn(t);return QU(e,ZU(e))+1}function Mz(t){const e=qn(t),n=+md(e)-+YU(e);return Math.round(n/SP)+1}function IP(t,e){var d,h,p,g;const n=qn(t),r=n.getFullYear(),i=Eh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=cs(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Al(o,e),l=cs(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Al(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Vz(t,e){var a,l,u,d;const n=Eh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=IP(t,e),s=cs(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Al(s,e)}function jz(t,e){const n=qn(t),r=+Al(n,e)-+Vz(n,e);return Math.round(r/SP)+1}function Ae(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ae(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ae(n+1,2)},d(t,e){return Ae(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ae(t.getHours()%12||12,e.length)},H(t,e){return Ae(t.getHours(),e.length)},m(t,e){return Ae(t.getMinutes(),e.length)},s(t,e){return Ae(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ae(i,e.length)}},bs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fr.y(t,e)},Y:function(t,e,n,r){const i=IP(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ae(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ae(s,e.length)},R:function(t,e){const n=CP(t);return Ae(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ae(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=jz(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ae(i,e.length)},I:function(t,e,n){const r=Mz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ae(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fr.d(t,e)},D:function(t,e,n){const r=Dz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ae(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ae(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ae(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=bs.noon:r===0?i=bs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=bs.evening:r>=12?i=bs.afternoon:r>=4?i=bs.morning:i=bs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fr.s(t,e)},S:function(t,e){return Fr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return U_(r);case"XXXX":case"XX":return Fi(r);case"XXXXX":case"XXX":default:return Fi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return U_(r);case"xxxx":case"xx":return Fi(r);case"xxxxx":case"xxx":default:return Fi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+B_(r,":");case"OOOO":default:return"GMT"+Fi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+B_(r,":");case"zzzz":default:return"GMT"+Fi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ae(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ae(r,e.length)}};function B_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ae(s,2)}function U_(t,e){return t%60===0?(t>0?"-":"+")+Ae(Math.abs(t)/60,2):Fi(t,e)}function Fi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ae(Math.trunc(r/60),2),s=Ae(r%60,2);return n+i+e+s}const z_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Oz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return z_(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",z_(r,e)).replace("{{time}}",bP(i,e))},Lz={p:bP,P:Oz},Fz=/^D+$/,Bz=/^Y+$/,Uz=["D","DD","YY","YYYY"];function zz(t){return Fz.test(t)}function $z(t){return Bz.test(t)}function Wz(t,e,n){const r=Hz(t,e,n);if(console.warn(r),Uz.includes(t))throw new RangeError(r)}function Hz(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gz=/^'([^]*?)'?$/,Qz=/''/g,Yz=/[a-zA-Z]/;function Hi(t,e,n){var d,h,p,g;const r=Eh(),i=r.locale??Nz,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,a=qn(t);if(!JU(a))throw new RangeError("Invalid time value");let l=e.match(Kz).map(E=>{const v=E[0];if(v==="p"||v==="P"){const T=Lz[v];return T(E,i.formatLong)}return E}).join("").match(qz).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const v=E[0];if(v==="'")return{isToken:!1,value:Xz(E)};if(F_[v])return{isToken:!0,value:E};if(v.match(Yz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(E=>{if(!E.isToken)return E.value;const v=E.value;($z(v)||zz(v))&&Wz(v,e,String(t));const T=F_[v[0]];return T(a,v,i.localize,u)}).join("")}function Xz(t){const e=t.match(Gz);return e?e[1].replace(Qz,"'"):t}const Jz=({activeEmployees:t,employees:e,departments:n,onRefresh:r})=>{const[i,s]=y.useState(new Date),{toast:o}=Lo();y.useEffect(()=>{const g=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(g)},[]);const a=g=>{switch(g){case"Working":return"bg-green-500/10 border-green-500/30";case"Working Idle":return"bg-red-500/10 border-red-500/30";case"Standby":return"bg-purple-500/10 border-purple-500/30";case"Lunch":case"Small Break":return"bg-blue-500/10 border-blue-500/30";case"Pee Break 1":case"Pee Break 2":return"bg-red-500/10 border-red-500/30";default:return"bg-white/5 border-white/20"}},l=g=>{switch(g){case"Working":return"text-green-400";case"Working Idle":return"text-red-400";case"Standby":return"text-purple-400";case"Lunch":case"Small Break":return"text-blue-400";case"Pee Break 1":case"Pee Break 2":return"text-red-400";default:return"text-white"}},u=g=>{if(!g)return"Unknown";const E=e.find(v=>v.employeeId===g);return E?E.name:g},d=g=>{if(!g.clockInTime)return"00:00:00";const E=new Date,v=g.clockInTime.toDate();return Kt(E.getTime()-v.getTime())},h=async g=>{try{await xn(De(oe,"attendance"),{employeeId:g,eventType:"force_clockOut",timestamp:de.now()}),await Zd(ct(oe,"status",g)),o({title:"Force Clock Out",description:`${u(g)} has been forcefully clocked out`,duration:3e3}),r()}catch(E){console.error("Error force clocking out:",E),o({title:"Error",description:"Failed to force clock out employee",variant:"destructive"})}},p=async g=>{try{const E=ct(oe,"status",g);await On(E,{shouldBuzz:!0,lastBuzzTime:de.now()}),o({title:"Buzz Sent",description:`Notification sent to ${u(g)}`,duration:3e3})}catch(E){console.error("Error sending buzz:",E),o({title:"Error",description:"Failed to send buzz notification",variant:"destructive"})}};return f.jsxs(en,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[f.jsxs(zn,{className:"flex flex-row items-center justify-between",children:[f.jsxs($n,{className:"flex items-center gap-2",children:[f.jsx(uh,{className:"w-6 h-6"}),"Active Employees"]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(Ce,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:[f.jsx(ad,{className:"w-4 h-4 mr-2"}),"Refresh"]}),f.jsxs("div",{className:"text-sm text-white/70",children:["Current Time: ",Hi(i,"h:mm:ss a")]})]})]}),f.jsx(tn,{children:t.length===0?f.jsx("p",{className:"text-center text-white/50 py-8",children:"No active employees"}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((g,E)=>{const v=e.find(w=>w.employeeId===g.employeeId),T=v!=null&&v.department?n.find(w=>w.id===v.department):null;return f.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},children:f.jsxs(en,{className:`border ${a(g.status)}`,children:[f.jsx(zn,{className:"p-4 pb-2",children:f.jsxs($n,{className:"text-base flex items-center gap-2",children:[f.jsx(hh,{className:"w-4 h-4"}),f.jsx("span",{className:l(g.status),children:u(g.employeeId)})]})}),f.jsx(tn,{className:"p-4 pt-2",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx(ld,{variant:g.status==="Working"?"default":g.status==="Working Idle"?"destructive":(g.status==="Standby","secondary"),className:`capitalize ${l(g.status)}`,children:g.status}),f.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/70",children:[f.jsx(Pr,{className:"w-3 h-3"}),d(g)]})]}),f.jsxs("div",{className:"text-xs text-white/50",children:[f.jsxs("div",{children:["Status since: ",g.stateStartTime?Hi(g.stateStartTime.toDate(),"h:mm:ss a"):"N/A"]}),f.jsxs("div",{children:["Clocked in: ",g.clockInTime?Hi(g.clockInTime.toDate(),"h:mm a, MMM dd"):"N/A"]}),T&&f.jsxs("div",{children:["Department: ",T.name]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsxs(Ce,{size:"sm",variant:"destructive",onClick:()=>h(g.employeeId),className:"flex-1",children:[f.jsx(T5,{className:"w-4 h-4 mr-2"}),"Force Clock Out"]}),f.jsxs(Ce,{size:"sm",variant:"outline",onClick:()=>p(g.employeeId),className:"flex-1 border-white/20 text-white hover:bg-white/10",children:[f.jsx(N5,{className:"w-4 h-4 mr-2"}),"Buzz"]})]})]})})]})},g.id||E)})})})]})},Zz=({employees:t,departments:e,onViewAttendance:n,onRefresh:r})=>{const[i,s]=y.useState("all"),o=i==="all"?t:t.filter(l=>l.department===i),a=l=>{n(l)};return f.jsxs(en,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[f.jsxs(zn,{className:"flex flex-row items-center justify-between",children:[f.jsxs($n,{className:"flex items-center gap-2",children:[f.jsx(Pr,{className:"w-6 h-6"}),"Attendance Records"]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("select",{value:i,onChange:l=>s(l.target.value),className:"bg-white/10 border-white/20 text-white rounded-md px-3 py-1",children:[f.jsx("option",{value:"all",children:"All Departments"}),e.map(l=>f.jsx("option",{value:l.id,children:l.name},l.id))]}),f.jsxs(Ce,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:[f.jsx(ad,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),f.jsx(tn,{children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(l=>{var u;return f.jsx(ge.button,{whileHover:{scale:1.01},onClick:()=>a(l),className:"bg-white/5 p-4 rounded-lg cursor-pointer text-left w-full transition-colors hover:bg-white/10",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(hh,{className:"w-5 h-5 text-white/70"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:l.name}),f.jsxs("div",{className:"text-sm text-white/70",children:[l.employeeId,l.department&&f.jsxs("span",{className:"ml-2",children:[" ",(u=e.find(d=>d.id===l.department))==null?void 0:u.name]})]})]})]})},l.id)})})})]})},e$=({onUpdate:t})=>{var _,C,R,N;const[e,n]=y.useState([]),[r,i]=y.useState({name:"",timezone:"UTC",schedule:{clockIn:"09:00",clockOut:"18:00",gracePeriod:15,overtimeThreshold:30}}),[s,o]=y.useState(!1),[a,l]=y.useState(null),{toast:u}=Lo(),d=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Asia/Tokyo","Asia/Shanghai","Europe/London","Europe/Paris","Australia/Sydney"];y.useEffect(()=>{h()},[]);const h=async()=>{try{const V=await on(De(oe,"departments")),I=[];V.forEach(S=>{I.push({id:S.id,...S.data()})}),n(I)}catch(V){console.error("Error fetching departments:",V),u({title:"Error",description:"Failed to fetch departments",variant:"destructive"})}},p=(V,I,S)=>{const b=V.target.type==="number"?parseInt(V.target.value):V.target.value;s&&a?l(P=>({...P,[I]:b})):i(P=>({...P,[I]:b}))},g=(V,I)=>{const S=I==="gracePeriod"||I==="overtimeThreshold"?parseInt(V.target.value):V.target.value;s&&a?l(b=>({...b,schedule:{...b.schedule,[I]:S}})):i(b=>({...b,schedule:{...b.schedule,[I]:S}}))},E=V=>{s&&a?l(I=>({...I,timezone:V})):i(I=>({...I,timezone:V}))},v=async V=>{V.preventDefault();try{await xn(De(oe,"departments"),r),i({name:"",timezone:"UTC",schedule:{clockIn:"09:00",clockOut:"18:00",gracePeriod:15,overtimeThreshold:30}}),h(),t(),u({title:"Success",description:"Department created successfully"})}catch(I){console.error("Error creating department:",I),u({title:"Error",description:"Failed to create department",variant:"destructive"})}},T=async V=>{if(V.preventDefault(),!!a)try{const I=ct(oe,"departments",a.id);await On(I,{name:a.name,timezone:a.timezone,schedule:a.schedule}),o(!1),h(),t(),u({title:"Success",description:"Department updated successfully"})}catch(I){console.error("Error updating department:",I),u({title:"Error",description:"Failed to update department",variant:"destructive"})}},w=async V=>{if(confirm("Are you sure you want to delete this department?"))try{await Zd(ct(oe,"departments",V)),h(),t(),u({title:"Success",description:"Department deleted successfully"})}catch(I){console.error("Error deleting department:",I),u({title:"Error",description:"Failed to delete department",variant:"destructive"})}};return f.jsxs(en,{className:"bg-white/10 border-white/20 backdrop-blur-md text-white",children:[f.jsx(zn,{children:f.jsxs($n,{className:"flex items-center gap-2",children:[f.jsx(Pr,{className:"w-6 h-6"}),"Department Schedules"]})}),f.jsx(tn,{children:f.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid gap-6",children:[f.jsxs("form",{onSubmit:s?T:v,className:"grid gap-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(an,{type:"text",placeholder:"Department Name",value:s?a==null?void 0:a.name:r.name,onChange:V=>p(V,"name"),className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0}),f.jsxs(Pv,{value:s?a==null?void 0:a.timezone:r.timezone,onValueChange:E,children:[f.jsx(xh,{className:"bg-white/10 border-white/20 text-white",children:f.jsx(Rv,{placeholder:"Select timezone"})}),f.jsx(_h,{children:d.map(V=>f.jsx(bl,{value:V,children:V},V))})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm text-white/70",children:"Clock In Time"}),f.jsx(an,{type:"time",value:s?a==null?void 0:a.schedule.clockIn:(_=r.schedule)==null?void 0:_.clockIn,onChange:V=>g(V,"clockIn"),className:"bg-white/10 border-white/20 text-white",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm text-white/70",children:"Clock Out Time"}),f.jsx(an,{type:"time",value:s?a==null?void 0:a.schedule.clockOut:(C=r.schedule)==null?void 0:C.clockOut,onChange:V=>g(V,"clockOut"),className:"bg-white/10 border-white/20 text-white",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm text-white/70",children:"Grace Period (minutes)"}),f.jsx(an,{type:"number",min:"0",value:s?a==null?void 0:a.schedule.gracePeriod:(R=r.schedule)==null?void 0:R.gracePeriod,onChange:V=>g(V,"gracePeriod"),className:"bg-white/10 border-white/20 text-white",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm text-white/70",children:"Overtime Threshold (minutes)"}),f.jsx(an,{type:"number",min:"0",value:s?a==null?void 0:a.schedule.overtimeThreshold:(N=r.schedule)==null?void 0:N.overtimeThreshold,onChange:V=>g(V,"overtimeThreshold"),className:"bg-white/10 border-white/20 text-white",required:!0})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ce,{type:"submit",className:"bg-white/20 hover:bg-white/30 text-white",children:s?f.jsxs(f.Fragment,{children:[f.jsx(Mm,{className:"w-4 h-4 mr-2"}),"Update Department"]}):f.jsxs(f.Fragment,{children:[f.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Create Department"]})}),s&&f.jsx(Ce,{type:"button",variant:"outline",onClick:()=>{o(!1),l(null)},className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"})]})]}),f.jsx(ge.div,{className:"grid gap-3",initial:{opacity:0},animate:{opacity:1},children:e.map(V=>f.jsx(ge.div,{whileHover:{scale:1.01},className:"p-4 bg-white/5 rounded-lg",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-lg",children:V.name}),f.jsxs("div",{className:"text-sm text-white/70 flex items-center gap-2 mt-1",children:[f.jsx(Qb,{className:"w-4 h-4"}),V.timezone]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Schedule"}),f.jsxs("div",{className:"text-white",children:[V.schedule.clockIn," - ",V.schedule.clockOut]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/70",children:"Grace Period"}),f.jsxs("div",{className:"text-white",children:[V.schedule.gracePeriod," minutes"]})]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>{l(V),o(!0)},className:"text-white hover:bg-white/20",children:f.jsx(Mm,{className:"w-4 h-4"})}),f.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>w(V.id),className:"text-red-400 hover:bg-red-500/20",children:f.jsx(eA,{className:"w-4 h-4"})})]})]})},V.id))})]})})]})};var kv="Dialog",[AP,j$]=th(kv),[t$,Kn]=AP(kv),PP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u=!1,d]=xo({prop:r,defaultProp:i,onChange:s});return f.jsx(t$,{scope:e,triggerRef:a,contentRef:l,contentId:ci(),titleId:ci(),descriptionId:ci(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};PP.displayName=kv;var RP="DialogTrigger",n$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kn(RP,n),s=Ge(e,i.triggerRef);return f.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Mv(i.open),...r,ref:s,onClick:fe(t.onClick,i.onOpenToggle)})});n$.displayName=RP;var Nv="DialogPortal",[r$,kP]=AP(Nv,{forceMount:void 0}),NP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Kn(Nv,e);return f.jsx(r$,{scope:e,forceMount:n,children:y.Children.map(r,o=>f.jsx(Mo,{present:n||s.open,children:f.jsx(Iv,{asChild:!0,container:i,children:o})}))})};NP.displayName=Nv;var gd="DialogOverlay",DP=y.forwardRef((t,e)=>{const n=kP(gd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Kn(gd,t.__scopeDialog);return s.modal?f.jsx(Mo,{present:r||s.open,children:f.jsx(i$,{...i,ref:e})}):null});DP.displayName=gd;var i$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kn(gd,n);return f.jsx(bv,{as:os,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(we.div,{"data-state":Mv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),us="DialogContent",MP=y.forwardRef((t,e)=>{const n=kP(us,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Kn(us,t.__scopeDialog);return f.jsx(Mo,{present:r||s.open,children:s.modal?f.jsx(s$,{...i,ref:e}):f.jsx(o$,{...i,ref:e})})});MP.displayName=us;var s$=y.forwardRef((t,e)=>{const n=Kn(us,t.__scopeDialog),r=y.useRef(null),i=Ge(e,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return DA(s)},[]),f.jsx(VP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,s=>s.preventDefault())})}),o$=y.forwardRef((t,e)=>{const n=Kn(us,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return f.jsx(VP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),VP=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Kn(us,n),l=y.useRef(null),u=Ge(e,l);return lA(),f.jsxs(f.Fragment,{children:[f.jsx(yv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(gv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mv(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(a$,{titleId:a.titleId}),f.jsx(c$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dv="DialogTitle",jP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kn(Dv,n);return f.jsx(we.h2,{id:i.titleId,...r,ref:e})});jP.displayName=Dv;var OP="DialogDescription",LP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kn(OP,n);return f.jsx(we.p,{id:i.descriptionId,...r,ref:e})});LP.displayName=OP;var FP="DialogClose",BP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kn(FP,n);return f.jsx(we.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});BP.displayName=FP;function Mv(t){return t?"open":"closed"}var UP="DialogTitleWarning",[O$,zP]=VO(UP,{contentName:us,titleName:Dv,docsSlug:"dialog"}),a$=({titleId:t})=>{const e=zP(UP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},l$="DialogDescriptionWarning",c$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zP(l$).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},u$=PP,d$=NP,$P=DP,WP=MP,HP=jP,qP=LP,h$=BP;const f$=u$,p$=d$,KP=y.forwardRef(({className:t,...e},n)=>f.jsx($P,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KP.displayName=$P.displayName;const GP=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(p$,{children:[f.jsx(KP,{}),f.jsxs(WP,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(h$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(r6,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GP.displayName=WP.displayName;const QP=({className:t,...e})=>f.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});QP.displayName="DialogHeader";const YP=y.forwardRef(({className:t,...e},n)=>f.jsx(HP,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));YP.displayName=HP.displayName;const m$=y.forwardRef(({className:t,...e},n)=>f.jsx(qP,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));m$.displayName=qP.displayName;var Vv="Checkbox",[g$,L$]=th(Vv),[y$,v$]=g$(Vv),XP=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=t,[p,g]=y.useState(null),E=Ge(e,R=>g(R)),v=y.useRef(!1),T=p?d||!!p.closest("form"):!0,[w=!1,_]=xo({prop:i,defaultProp:s,onChange:u}),C=y.useRef(w);return y.useEffect(()=>{const R=p==null?void 0:p.form;if(R){const N=()=>_(C.current);return R.addEventListener("reset",N),()=>R.removeEventListener("reset",N)}},[p,_]),f.jsxs(y$,{scope:n,state:w,disabled:a,children:[f.jsx(we.button,{type:"button",role:"checkbox","aria-checked":ui(w)?"mixed":w,"aria-required":o,"data-state":eR(w),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:E,onKeyDown:fe(t.onKeyDown,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:fe(t.onClick,R=>{_(N=>ui(N)?!0:!N),T&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})}),T&&f.jsx(w$,{control:p,bubbles:!v.current,name:r,value:l,checked:w,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ui(s)?!1:s})]})});XP.displayName=Vv;var JP="CheckboxIndicator",ZP=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=v$(JP,n);return f.jsx(Mo,{present:r||ui(s.state)||s.state===!0,children:f.jsx(we.span,{"data-state":eR(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});ZP.displayName=JP;var w$=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=y.useRef(null),a=RA(n),l=wA(e);y.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&g){const E=new Event("click",{bubbles:r});d.indeterminate=ui(n),g.call(d,ui(n)?!1:n),d.dispatchEvent(E)}},[a,n,r]);const u=y.useRef(ui(n)?!1:n);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ui(t){return t==="indeterminate"}function eR(t){return ui(t)?"indeterminate":t?"checked":"unchecked"}var tR=XP,x$=ZP;const Km=y.forwardRef(({className:t,...e},n)=>f.jsx(tR,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:f.jsx(x$,{className:ke("flex items-center justify-center text-current"),children:f.jsx(sA,{className:"h-4 w-4"})})}));Km.displayName=tR.displayName;const _$=({isOpen:t,onClose:e,employee:n,recentActivity:r})=>{const[i,s]=y.useState(new Set);if(!n)return null;const o=r.filter(h=>h.eventType==="clockOut"),a=o.reduce((h,p)=>(h.totalClockTime+=p.totalClockTime||0,h.totalBreakTime+=p.accumulatedBreak||0,p.isLate&&(h.totalLateTime+=(p.lateMinutes||0)*60*1e3,h.lateInstances++),p.isOvertime&&(h.totalOvertime+=(p.overtimeMinutes||0)*60*1e3,h.overtimeInstances++),h),{totalClockTime:0,totalBreakTime:0,totalLateTime:0,totalOvertime:0,lateInstances:0,overtimeInstances:0}),l=y.useMemo(()=>o.reduce((h,p)=>(i.has(p.id)&&(h.totalClockTime+=p.totalClockTime||0,h.totalBreakTime+=p.accumulatedBreak||0,p.isLate&&(h.totalLateTime+=(p.lateMinutes||0)*60*1e3,h.lateInstances++),p.isOvertime&&(h.totalOvertime+=(p.overtimeMinutes||0)*60*1e3,h.overtimeInstances++)),h),{totalClockTime:0,totalBreakTime:0,totalLateTime:0,totalOvertime:0,lateInstances:0,overtimeInstances:0}),[i,o]),u=h=>{const p=new Set(i);p.has(h)?p.delete(h):p.add(h),s(p)},d=()=>{i.size===o.length?s(new Set):s(new Set(o.map(h=>h.id)))};return f.jsx(f$,{open:t,onOpenChange:e,children:f.jsxs(GP,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[f.jsx(QP,{children:f.jsxs(YP,{className:"text-xl flex items-center gap-2",children:[f.jsx(uh,{className:"h-5 w-5"}),n.name," - Attendance Details"]})}),f.jsxs(pv,{defaultValue:"summary",className:"mt-4",children:[f.jsxs(ch,{className:"grid w-full grid-cols-2",children:[f.jsx(Tn,{value:"summary",children:"Attendance Summary"}),f.jsx(Tn,{value:"activity",children:"Recent Activity"})]}),f.jsx(Sn,{value:"summary",children:f.jsx(en,{children:f.jsxs(tn,{className:"pt-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-blue-500/10 p-4 rounded-lg border border-blue-500/20",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Pr,{className:"w-5 h-5 text-blue-400"}),f.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Overall Summary"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Total Clock Time:"}),f.jsx("span",{className:"font-semibold",children:Kt(a.totalClockTime)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Total Break Time:"}),f.jsx("span",{className:"font-semibold",children:Kt(a.totalBreakTime)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Late Instances:"}),f.jsx("span",{className:"font-semibold",children:a.lateInstances})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Overtime Instances:"}),f.jsx("span",{className:"font-semibold",children:a.overtimeInstances})]})]})]}),i.size>0&&f.jsxs("div",{className:"bg-green-500/10 p-4 rounded-lg border border-green-500/20",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(S5,{className:"w-5 h-5 text-green-400"}),f.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Selected Records"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Clock Time:"}),f.jsx("span",{className:"font-semibold",children:Kt(l.totalClockTime)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Break Time:"}),f.jsx("span",{className:"font-semibold",children:Kt(l.totalBreakTime)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Late Instances:"}),f.jsx("span",{className:"font-semibold",children:l.lateInstances})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-zinc-400",children:"Overtime Instances:"}),f.jsx("span",{className:"font-semibold",children:l.overtimeInstances})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Km,{checked:i.size===o.length&&o.length>0,onCheckedChange:d,className:"border-white/20"}),f.jsxs("span",{className:"text-sm text-white/70",children:["Select All Records (",o.length,")"]})]}),f.jsx("div",{className:"space-y-3",children:o.map(h=>{var p,g;return f.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4 text-white",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx(Km,{checked:i.has(h.id),onCheckedChange:()=>u(h.id),className:"border-white/20"}),f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"text-lg font-medium",children:Hi(h.timestamp.toDate(),"MMM dd, yyyy")}),f.jsxs("div",{className:"flex gap-2",children:[h.isLate&&f.jsxs(ld,{variant:"destructive",className:"text-xs",children:["Late (",h.lateMinutes," mins)"]}),h.isOvertime&&f.jsxs(ld,{variant:"secondary",className:"text-xs",children:["Overtime (",h.overtimeMinutes," mins)"]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-zinc-400",children:"Clock In"}),f.jsx("div",{children:Hi(((p=h.clockInTime)==null?void 0:p.toDate())||h.timestamp.toDate(),"h:mm:ss a")})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-zinc-400",children:"Clock Out"}),f.jsx("div",{children:Hi(((g=h.clockOutTime)==null?void 0:g.toDate())||h.timestamp.toDate(),"h:mm:ss a")})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-zinc-400",children:"Total Time"}),f.jsx("div",{className:"font-mono",children:Kt(h.totalClockTime||0)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-zinc-400",children:"Break Time"}),f.jsx("div",{className:"font-mono",children:Kt(h.accumulatedBreak||0)})]})]})]},h.id)})})]})})}),f.jsx(Sn,{value:"activity",children:f.jsx(en,{children:f.jsx(tn,{className:"pt-6",children:f.jsx("div",{className:"space-y-4",children:r.map(h=>f.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Pr,{className:"h-4 w-4 text-white/70"}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-medium capitalize",children:[h.eventType.replace(/_/g," "),h.isLate&&f.jsxs("span",{className:"ml-2 text-red-400 text-sm",children:["(Late: ",h.lateMinutes," mins)"]}),h.isOvertime&&f.jsxs("span",{className:"ml-2 text-blue-400 text-sm",children:["(Overtime: ",h.overtimeMinutes," mins)"]})]}),f.jsx("div",{className:"text-sm text-white/50",children:Hi(h.timestamp.toDate(),"PPpp")})]})]})},h.id))})})})})]})]})})},E$=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[i,s]=y.useState([]),[o,a]=y.useState([]),[l,u]=y.useState(null),[d,h]=y.useState(null),[p,g]=y.useState(!1),E=y.useRef(null),{toast:v}=Lo();Vd(),y.useEffect(()=>{T(),w(),_(),C();const I=WC(De(oe,"status"),S=>{const b=[];S.forEach(P=>{const D=P.data();D.employeeId&&D.status&&b.push({id:P.id,employeeId:D.employeeId,status:D.status,stateStartTime:D.stateStartTime||null,clockInTime:D.clockInTime||null})}),r(b),b.forEach(P=>{P.status!=="Working"&&P.status!=="Clocked Out"&&v({title:"Employee Status Alert",description:`${V(P.employeeId)} is on ${P.status}`,duration:5e3})})});return()=>I()},[]),y.useEffect(()=>{const I=setInterval(()=>{cd()},6e4);return cd(),()=>clearInterval(I)},[]);const T=async()=>{try{const I=await on(De(oe,"employees")),S=[];I.forEach(b=>{S.push({id:b.id,...b.data()})}),e(S)}catch(I){console.error("Error fetching employees:",I)}},w=async()=>{try{const I=await on(De(oe,"status")),S=[];I.forEach(b=>{const P=b.data();P.employeeId&&P.status&&S.push({id:b.id,employeeId:P.employeeId,status:P.status,stateStartTime:P.stateStartTime||null,clockInTime:P.clockInTime||null})}),r(S)}catch(I){console.error("Error fetching active employees:",I)}},_=async()=>{try{const I=await on(De(oe,"messages")),S=[];I.forEach(b=>{S.push({id:b.id,...b.data()})}),S.sort((b,P)=>{var D,M;return(((D=P.timestamp)==null?void 0:D.seconds)||0)-(((M=b.timestamp)==null?void 0:M.seconds)||0)}),s(S)}catch(I){console.error("Error fetching messages:",I)}},C=async()=>{try{const I=await on(De(oe,"departments")),S=[];I.forEach(b=>{S.push({id:b.id,...b.data()})}),a(S)}catch(I){console.error("Error fetching departments:",I)}},R=async I=>{try{const S=is(De(oe,"attendance"),ss("employeeId","==",I.employeeId)),b=await on(S),P=[];b.forEach(M=>{P.push({id:M.id,...M.data()})}),P.sort((M,k)=>k.timestamp.seconds-M.timestamp.seconds);const D=P.reduce((M,k)=>{const X=k.eventType;return M[X]=(M[X]||0)+1,M},{});u(I),h({recentActivity:P,attendanceSummary:D}),g(!0)}catch(S){console.error("Error fetching employee attendance:",S),v({title:"Error",description:"Failed to fetch employee attendance records",variant:"destructive"})}},N=()=>{g(!1),u(null),h(null)},V=I=>{if(!I)return"Unknown";const S=t.find(b=>b.employeeId===I);return S?S.name:I};return f.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600",children:[f.jsx("audio",{ref:E,src:"/buzz.wav"}),f.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[f.jsxs("header",{className:"p-4 flex justify-between items-center bg-black/10 backdrop-blur-md",children:[f.jsx(ge.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl font-bold text-white",children:"Admin Panel"}),f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex gap-2",children:[f.jsx(Hp,{to:"/employee",children:f.jsxs(Ce,{variant:"ghost",className:"text-white hover:bg-white/20",children:[f.jsx(hh,{className:"w-4 h-4 mr-2"}),"Employee Panel"]})}),f.jsx(Hp,{to:"/",children:f.jsxs(Ce,{variant:"ghost",className:"text-white hover:bg-white/20",children:[f.jsx(Xb,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})})]}),f.jsx("main",{className:"flex-1 p-4",children:f.jsxs(pv,{defaultValue:"employees",className:"w-full",children:[f.jsxs(ch,{className:"w-full grid grid-cols-5 gap-1 bg-black/10 p-1 rounded-lg backdrop-blur-md",children:[f.jsxs(Tn,{value:"employees",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(nA,{className:"w-4 h-4 mr-2"}),"Employees"]}),f.jsxs(Tn,{value:"active",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(uh,{className:"w-4 h-4 mr-2"}),"Active"]}),f.jsxs(Tn,{value:"attendance",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Attendance"]}),f.jsxs(Tn,{value:"messages",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(dh,{className:"w-4 h-4 mr-2"}),"Messages"]}),f.jsxs(Tn,{value:"schedule",className:"data-[state=active]:bg-white/20 text-white",children:[f.jsx(C5,{className:"w-4 h-4 mr-2"}),"Schedule"]})]}),f.jsx(Sn,{value:"employees",children:f.jsx(qU,{employees:t,departments:o,onUpdate:T})}),f.jsx(Sn,{value:"active",children:f.jsx(Jz,{activeEmployees:n,employees:t,departments:o,onRefresh:w})}),f.jsx(Sn,{value:"attendance",children:f.jsx(Zz,{employees:t,departments:o,onViewAttendance:R,onRefresh:T})}),f.jsx(Sn,{value:"messages",children:f.jsx(HU,{messages:i,employees:t,onMessageSent:_})}),f.jsx(Sn,{value:"schedule",children:f.jsx(e$,{onUpdate:C})})]})}),l&&d&&f.jsx(_$,{isOpen:p,onClose:N,employee:l,attendanceSummary:d.attendanceSummary,recentActivity:d.recentActivity})]})]})};var T$="Label",nR=y.forwardRef((t,e)=>f.jsx(we.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nR.displayName=T$;var rR=nR;const S$=mv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gm=y.forwardRef(({className:t,...e},n)=>f.jsx(rR,{ref:n,className:ke(S$(),t),...e}));Gm.displayName=rR.displayName;const C$=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a]=y.useState(!1),l=Vd(),{toast:u}=Lo();y.useEffect(()=>{const p=localStorage.getItem("currentEmployee");if(p){const g=JSON.parse(p);d(g)}},[]);const d=async p=>{try{const g=is(De(oe,"employees"),ss("employeeId","==",p.employeeId));(await on(g)).empty?(localStorage.removeItem("currentEmployee"),u({title:"Session Expired",description:"Please log in again",variant:"destructive"})):l("/employee")}catch(g){console.error("Error verifying stored employee:",g),localStorage.removeItem("currentEmployee")}},h=async p=>{p.preventDefault(),s(""),a(!0);try{const g=is(De(oe,"employees"),ss("employeeId","==",t)),E=await on(g);if(E.empty){s("Employee ID not found. Please check your credentials.");return}const T=E.docs[0].data();if(T.password!==n){s("Invalid password. Please try again.");return}if(T.disabled){s("This account has been disabled. Please contact your administrator.");return}const w={employeeId:T.employeeId,name:T.name,isAdmin:T.isAdmin,department:T.department};localStorage.setItem("currentEmployee",JSON.stringify(w)),sessionStorage.setItem("sessionActive","true"),u({title:"Welcome back!",description:`Logged in as ${T.name}`}),l("/employee")}catch(g){console.error("Login error:",g),s("An error occurred during login. Please try again.")}finally{a(!1)}};return f.jsxs("div",{className:"fixed inset-0 w-full h-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:f.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1497215728101-856f4ea42174')] bg-cover bg-center opacity-10"})}),f.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4",children:[f.jsxs(ge.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-lg mx-auto text-center mb-8",children:[f.jsx("div",{className:"flex items-center justify-center mb-6",children:f.jsxs(ge.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-xl"}),f.jsx("div",{className:"relative w-24 h-24 bg-white/10 rounded-full flex items-center justify-center border border-white/30 shadow-2xl",children:f.jsx(Pr,{className:"w-12 h-12 text-white"})})]})}),f.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Employee Portal"}),f.jsx("p",{className:"text-white/80",children:"Sign in to access your dashboard"})]}),f.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-md",children:f.jsx(en,{className:"bg-white/10 backdrop-blur-xl border-white/20 shadow-2xl",children:f.jsx(tn,{className:"pt-6",children:f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs(ge.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},className:"space-y-2",children:[f.jsx(Gm,{htmlFor:"employeeId",className:"text-white",children:"Employee ID"}),f.jsxs("div",{className:"relative",children:[f.jsx(b5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-5 h-5"}),f.jsx(an,{id:"employeeId",type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"Enter your employee ID",className:"pl-10 h-12 bg-black/20 border-white/20 text-white placeholder:text-white/40 focus:border-white/40 focus: ring-white/20",required:!0,disabled:o})]})]}),f.jsxs(ge.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},className:"space-y-2",children:[f.jsx(Gm,{htmlFor:"password",className:"text-white",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(P5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-5 h-5"}),f.jsx(an,{id:"password",type:"password",value:n,onChange:p=>r(p.target.value),placeholder:"Enter your password",className:"pl-10 h-12 bg-black/20 border-white/20 text-white placeholder:text-white/40 focus:border-white/40 focus:ring-white/20",required:!0,disabled:o})]})]}),i&&f.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm rounded-lg p-3 text-center",children:i}),f.jsx(ge.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:f.jsx(Ce,{type:"submit",className:"w-full h-12 text-lg font-medium bg-white/10 hover:bg-white/20 text-white border border-white/20 transition-all duration-300 ease-in-out hover:scale-[1.02] focus:ring-white/20",disabled:o,children:o?"Signing in...":"Sign In"})})]})})})})]})]})};function I$(){return f.jsx(ZN,{children:f.jsxs(qN,{children:[f.jsx(tu,{path:"/",element:f.jsx(C$,{})}),f.jsx(tu,{path:"/employee",element:f.jsx(G5,{})}),f.jsx(tu,{path:"/admin",element:f.jsx(E$,{})})]})})}rS(document.getElementById("root")).render(f.jsx(y.StrictMode,{children:f.jsx(I$,{})}));
